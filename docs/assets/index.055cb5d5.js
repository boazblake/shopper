const Zt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function i(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=i(s);fetch(s.href,l)}};Zt();var we=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Oe(e,t,i,o,s,l){return{tag:e,key:t,attrs:i,children:o,text:s,dom:l,domSize:void 0,state:void 0,events:void 0,instance:void 0}}Oe.normalize=function(e){return Array.isArray(e)?Oe("[",void 0,void 0,Oe.normalizeChildren(e),void 0,void 0):e==null||typeof e=="boolean"?null:typeof e=="object"?e:Oe("#",void 0,void 0,String(e),void 0,void 0)};Oe.normalizeChildren=function(e){var t=[];if(e.length){for(var i=e[0]!=null&&e[0].key!=null,o=1;o<e.length;o++)if((e[o]!=null&&e[o].key!=null)!==i)throw new TypeError(i&&(e[o]!=null||typeof e[o]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var o=0;o<e.length;o++)t[o]=Oe.normalize(e[o])}return t};var ve=Oe,en=ve,At=function(){var e=arguments[this],t=this+1,i;if(e==null?e={}:(typeof e!="object"||e.tag!=null||Array.isArray(e))&&(e={},t=this),arguments.length===t+1)i=arguments[t],Array.isArray(i)||(i=[i]);else for(i=[];t<arguments.length;)i.push(arguments[t++]);return en("",e.key,e,i)},Ge={}.hasOwnProperty,tn=ve,nn=At,Re=Ge,rn=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,_t={};function lt(e){for(var t in e)if(Re.call(e,t))return!1;return!0}function an(e){for(var t,i="div",o=[],s={};t=rn.exec(e);){var l=t[1],u=t[2];if(l===""&&u!=="")i=u;else if(l==="#")s.id=u;else if(l===".")o.push(u);else if(t[3][0]==="["){var c=t[6];c&&(c=c.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),t[4]==="class"?o.push(c):s[t[4]]=c===""?c:c||!0}}return o.length>0&&(s.className=o.join(" ")),_t[e]={tag:i,attrs:s}}function on(e,t){var i=t.attrs,o=Re.call(i,"class"),s=o?i.class:i.className;if(t.tag=e.tag,t.attrs={},!lt(e.attrs)&&!lt(i)){var l={};for(var u in i)Re.call(i,u)&&(l[u]=i[u]);i=l}for(var u in e.attrs)Re.call(e.attrs,u)&&u!=="className"&&!Re.call(i,u)&&(i[u]=e.attrs[u]);(s!=null||e.attrs.className!=null)&&(i.className=s!=null?e.attrs.className!=null?String(e.attrs.className)+" "+String(s):s:e.attrs.className!=null?e.attrs.className:null),o&&(i.class=null);for(var u in i)if(Re.call(i,u)&&u!=="key"){t.attrs=i;break}return t}function sn(e){if(e==null||typeof e!="string"&&typeof e!="function"&&typeof e.view!="function")throw Error("The selector must be either a string or a component.");var t=nn.apply(1,arguments);return typeof e=="string"&&(t.children=tn.normalizeChildren(t.children),e!=="[")?on(_t[e]||an(e),t):(t.tag=e,t)}var Dt=sn,un=ve,ln=function(e){return e==null&&(e=""),un("<",void 0,void 0,e,void 0,void 0)},cn=ve,fn=At,pn=function(){var e=fn.apply(0,arguments);return e.tag="[",e.children=cn.normalizeChildren(e.children),e},tt=Dt;tt.trust=ln;tt.fragment=pn;var hn=tt,Fe={exports:{}},ne=function(e){if(!(this instanceof ne))throw new Error("Promise must be called with 'new'.");if(typeof e!="function")throw new TypeError("executor must be a function.");var t=this,i=[],o=[],s=g(i,!0),l=g(o,!1),u=t._instance={resolvers:i,rejectors:o},c=typeof setImmediate=="function"?setImmediate:setTimeout;function g(T,C){return function k(_){var D;try{if(C&&_!=null&&(typeof _=="object"||typeof _=="function")&&typeof(D=_.then)=="function"){if(_===t)throw new TypeError("Promise can't be resolved with itself.");b(D.bind(_))}else c(function(){!C&&T.length===0&&console.error("Possible unhandled promise rejection:",_);for(var A=0;A<T.length;A++)T[A](_);i.length=0,o.length=0,u.state=C,u.retry=function(){k(_)}})}catch(A){l(A)}}}function b(T){var C=0;function k(D){return function(A){C++>0||D(A)}}var _=k(l);try{T(k(s),_)}catch(D){_(D)}}b(e)};ne.prototype.then=function(e,t){var i=this,o=i._instance;function s(g,b,T,C){b.push(function(k){if(typeof g!="function")T(k);else try{l(g(k))}catch(_){u&&u(_)}}),typeof o.retry=="function"&&C===o.state&&o.retry()}var l,u,c=new ne(function(g,b){l=g,u=b});return s(e,o.resolvers,l,!0),s(t,o.rejectors,u,!1),c};ne.prototype.catch=function(e){return this.then(null,e)};ne.prototype.finally=function(e){return this.then(function(t){return ne.resolve(e()).then(function(){return t})},function(t){return ne.resolve(e()).then(function(){return ne.reject(t)})})};ne.resolve=function(e){return e instanceof ne?e:new ne(function(t){t(e)})};ne.reject=function(e){return new ne(function(t,i){i(e)})};ne.all=function(e){return new ne(function(t,i){var o=e.length,s=0,l=[];if(e.length===0)t([]);else for(var u=0;u<e.length;u++)(function(c){function g(b){s++,l[c]=b,s===o&&t(l)}e[c]!=null&&(typeof e[c]=="object"||typeof e[c]=="function")&&typeof e[c].then=="function"?e[c].then(g,i):g(e[c])})(u)})};ne.race=function(e){return new ne(function(t,i){for(var o=0;o<e.length;o++)e[o].then(t,i)})};var It=ne,ze=It;typeof window!="undefined"?(typeof window.Promise=="undefined"?window.Promise=ze:window.Promise.prototype.finally||(window.Promise.prototype.finally=ze.prototype.finally),Fe.exports=window.Promise):typeof we!="undefined"?(typeof we.Promise=="undefined"?we.Promise=ze:we.Promise.prototype.finally||(we.Promise.prototype.finally=ze.prototype.finally),Fe.exports=we.Promise):Fe.exports=ze;var Qe=ve,dn=function(e){var t=e&&e.document,i,o={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function s(r){return r.attrs&&r.attrs.xmlns||o[r.tag]}function l(r,n){if(r.state!==n)throw new Error("'vnode.state' must not be modified.")}function u(r){var n=r.state;try{return this.apply(n,arguments)}finally{l(r,n)}}function c(){try{return t.activeElement}catch{return null}}function g(r,n,a,d,m,E,x){for(var U=a;U<d;U++){var L=n[U];L!=null&&b(r,L,m,x,E)}}function b(r,n,a,d,m){var E=n.tag;if(typeof E=="string")switch(n.state={},n.attrs!=null&&ye(n.attrs,n,a),E){case"#":T(r,n,m);break;case"<":k(r,n,d,m);break;case"[":_(r,n,a,d,m);break;default:D(r,n,a,d,m)}else q(r,n,a,d,m)}function T(r,n,a){n.dom=t.createTextNode(n.children),Y(r,n.dom,a)}var C={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function k(r,n,a,d){var m=n.children.match(/^\s*?<(\w+)/im)||[],E=t.createElement(C[m[1]]||"div");a==="http://www.w3.org/2000/svg"?(E.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+n.children+"</svg>",E=E.firstChild):E.innerHTML=n.children,n.dom=E.firstChild,n.domSize=E.childNodes.length,n.instance=[];for(var x=t.createDocumentFragment(),U;U=E.firstChild;)n.instance.push(U),x.appendChild(U);Y(r,x,d)}function _(r,n,a,d,m){var E=t.createDocumentFragment();if(n.children!=null){var x=n.children;g(E,x,0,x.length,a,null,d)}n.dom=E.firstChild,n.domSize=E.childNodes.length,Y(r,E,m)}function D(r,n,a,d,m){var E=n.tag,x=n.attrs,U=x&&x.is;d=s(n)||d;var L=d?U?t.createElementNS(d,E,{is:U}):t.createElementNS(d,E):U?t.createElement(E,{is:U}):t.createElement(E);if(n.dom=L,x!=null&&_e(n,x,d),Y(r,L,m),!X(n)&&n.children!=null){var K=n.children;g(L,K,0,K.length,a,null,d),n.tag==="select"&&x!=null&&te(n,x)}}function A(r,n){var a;if(typeof r.tag.view=="function"){if(r.state=Object.create(r.tag),a=r.state.view,a.$$reentrantLock$$!=null)return;a.$$reentrantLock$$=!0}else{if(r.state=void 0,a=r.tag,a.$$reentrantLock$$!=null)return;a.$$reentrantLock$$=!0,r.state=r.tag.prototype!=null&&typeof r.tag.prototype.view=="function"?new r.tag(r):r.tag(r)}if(ye(r.state,r,n),r.attrs!=null&&ye(r.attrs,r,n),r.instance=Qe.normalize(u.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");a.$$reentrantLock$$=null}function q(r,n,a,d,m){A(n,a),n.instance!=null?(b(r,n.instance,a,d,m),n.dom=n.instance.dom,n.domSize=n.dom!=null?n.instance.domSize:0):n.domSize=0}function W(r,n,a,d,m,E){if(!(n===a||n==null&&a==null))if(n==null||n.length===0)g(r,a,0,a.length,d,m,E);else if(a==null||a.length===0)ce(r,n,0,n.length);else{var x=n[0]!=null&&n[0].key!=null,U=a[0]!=null&&a[0].key!=null,L=0,K=0;if(!x)for(;K<n.length&&n[K]==null;)K++;if(!U)for(;L<a.length&&a[L]==null;)L++;if(x!==U)ce(r,n,K,n.length),g(r,a,L,a.length,d,m,E);else if(U){for(var p=n.length-1,P=a.length-1,O,I,j,B,M,oe;p>=K&&P>=L&&(B=n[p],M=a[P],B.key===M.key);)B!==M&&G(r,B,M,d,m,E),M.dom!=null&&(m=M.dom),p--,P--;for(;p>=K&&P>=L&&(I=n[K],j=a[L],I.key===j.key);)K++,L++,I!==j&&G(r,I,j,d,h(n,K,m),E);for(;p>=K&&P>=L&&!(L===P||I.key!==M.key||B.key!==j.key);)oe=h(n,K,m),w(r,B,oe),B!==j&&G(r,B,j,d,oe,E),++L<=--P&&w(r,I,m),I!==M&&G(r,I,M,d,m,E),M.dom!=null&&(m=M.dom),K++,p--,B=n[p],M=a[P],I=n[K],j=a[L];for(;p>=K&&P>=L&&B.key===M.key;)B!==M&&G(r,B,M,d,m,E),M.dom!=null&&(m=M.dom),p--,P--,B=n[p],M=a[P];if(L>P)ce(r,n,K,p+1);else if(K>p)g(r,a,L,P+1,d,m,E);else{var he=m,$e=P-L+1,Te=new Array($e),He=0,J=0,Ce=2147483647,Ne=0,O,Ue;for(J=0;J<$e;J++)Te[J]=-1;for(J=P;J>=L;J--){O==null&&(O=S(n,K,p+1)),M=a[J];var de=O[M.key];de!=null&&(Ce=de<Ce?de:-1,Te[J-L]=de,B=n[de],n[de]=null,B!==M&&G(r,B,M,d,m,E),M.dom!=null&&(m=M.dom),Ne++)}if(m=he,Ne!==p-K+1&&ce(r,n,K,p+1),Ne===0)g(r,a,L,P+1,d,m,E);else if(Ce===-1)for(Ue=f(Te),He=Ue.length-1,J=P;J>=L;J--)j=a[J],Te[J-L]===-1?b(r,j,d,E,m):Ue[He]===J-L?He--:w(r,j,m),j.dom!=null&&(m=a[J].dom);else for(J=P;J>=L;J--)j=a[J],Te[J-L]===-1&&b(r,j,d,E,m),j.dom!=null&&(m=a[J].dom)}}else{var ae=n.length<a.length?n.length:a.length;for(L=L<K?L:K;L<ae;L++)I=n[L],j=a[L],!(I===j||I==null&&j==null)&&(I==null?b(r,j,d,E,h(n,L+1,m)):j==null?ue(r,I):G(r,I,j,d,h(n,L+1,m),E));n.length>ae&&ce(r,n,L,n.length),a.length>ae&&g(r,a,L,a.length,d,m,E)}}}function G(r,n,a,d,m,E){var x=n.tag,U=a.tag;if(x===U){if(a.state=n.state,a.events=n.events,qe(a,n))return;if(typeof x=="string")switch(a.attrs!=null&&Se(a.attrs,a,d),x){case"#":z(n,a);break;case"<":N(r,n,a,E,m);break;case"[":H(r,n,a,d,m,E);break;default:R(n,a,d,E)}else V(r,n,a,d,m,E)}else ue(r,n),b(r,a,d,E,m)}function z(r,n){r.children.toString()!==n.children.toString()&&(r.dom.nodeValue=n.children),n.dom=r.dom}function N(r,n,a,d,m){n.children!==a.children?(fe(r,n),k(r,a,d,m)):(a.dom=n.dom,a.domSize=n.domSize,a.instance=n.instance)}function H(r,n,a,d,m,E){W(r,n.children,a.children,d,m,E);var x=0,U=a.children;if(a.dom=null,U!=null){for(var L=0;L<U.length;L++){var K=U[L];K!=null&&K.dom!=null&&(a.dom==null&&(a.dom=K.dom),x+=K.domSize||1)}x!==1&&(a.domSize=x)}}function R(r,n,a,d){var m=n.dom=r.dom;d=s(n)||d,n.tag==="textarea"&&n.attrs==null&&(n.attrs={}),Ie(n,r.attrs,n.attrs,d),X(n)||W(m,r.children,n.children,a,null,d)}function V(r,n,a,d,m,E){if(a.instance=Qe.normalize(u.call(a.state.view,a)),a.instance===a)throw Error("A view cannot return the vnode it received as argument");Se(a.state,a,d),a.attrs!=null&&Se(a.attrs,a,d),a.instance!=null?(n.instance==null?b(r,a.instance,d,E,m):G(r,n.instance,a.instance,d,m,E),a.dom=a.instance.dom,a.domSize=a.instance.domSize):n.instance!=null?(ue(r,n.instance),a.dom=void 0,a.domSize=0):(a.dom=n.dom,a.domSize=n.domSize)}function S(r,n,a){for(var d=Object.create(null);n<a;n++){var m=r[n];if(m!=null){var E=m.key;E!=null&&(d[E]=n)}}return d}var y=[];function f(r){for(var n=[0],a=0,d=0,m=0,E=y.length=r.length,m=0;m<E;m++)y[m]=r[m];for(var m=0;m<E;++m)if(r[m]!==-1){var x=n[n.length-1];if(r[x]<r[m]){y[m]=x,n.push(m);continue}for(a=0,d=n.length-1;a<d;){var U=(a>>>1)+(d>>>1)+(a&d&1);r[n[U]]<r[m]?a=U+1:d=U}r[m]<r[n[a]]&&(a>0&&(y[m]=n[a-1]),n[a]=m)}for(a=n.length,d=n[a-1];a-- >0;)n[a]=d,d=y[d];return y.length=0,n}function h(r,n,a){for(;n<r.length;n++)if(r[n]!=null&&r[n].dom!=null)return r[n].dom;return a}function w(r,n,a){var d=t.createDocumentFragment();$(r,d,n),Y(r,d,a)}function $(r,n,a){for(;a.dom!=null&&a.dom.parentNode===r;){if(typeof a.tag!="string"){if(a=a.instance,a!=null)continue}else if(a.tag==="<")for(var d=0;d<a.instance.length;d++)n.appendChild(a.instance[d]);else if(a.tag!=="[")n.appendChild(a.dom);else if(a.children.length===1){if(a=a.children[0],a!=null)continue}else for(var d=0;d<a.children.length;d++){var m=a.children[d];m!=null&&$(r,n,m)}break}}function Y(r,n,a){a!=null?r.insertBefore(n,a):r.appendChild(n)}function X(r){if(r.attrs==null||r.attrs.contenteditable==null&&r.attrs.contentEditable==null)return!1;var n=r.children;if(n!=null&&n.length===1&&n[0].tag==="<"){var a=n[0].children;r.dom.innerHTML!==a&&(r.dom.innerHTML=a)}else if(n!=null&&n.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function ce(r,n,a,d){for(var m=a;m<d;m++){var E=n[m];E!=null&&ue(r,E)}}function ue(r,n){var a=0,d=n.state,m,E;if(typeof n.tag!="string"&&typeof n.state.onbeforeremove=="function"){var x=u.call(n.state.onbeforeremove,n);x!=null&&typeof x.then=="function"&&(a=1,m=x)}if(n.attrs&&typeof n.attrs.onbeforeremove=="function"){var x=u.call(n.attrs.onbeforeremove,n);x!=null&&typeof x.then=="function"&&(a|=2,E=x)}if(l(n,d),!a)ge(n),ie(r,n);else{if(m!=null){var U=function(){a&1&&(a&=2,a||L())};m.then(U,U)}if(E!=null){var U=function(){a&2&&(a&=1,a||L())};E.then(U,U)}}function L(){l(n,d),ge(n),ie(r,n)}}function fe(r,n){for(var a=0;a<n.instance.length;a++)r.removeChild(n.instance[a])}function ie(r,n){for(;n.dom!=null&&n.dom.parentNode===r;){if(typeof n.tag!="string"){if(n=n.instance,n!=null)continue}else if(n.tag==="<")fe(r,n);else{if(n.tag!=="["&&(r.removeChild(n.dom),!Array.isArray(n.children)))break;if(n.children.length===1){if(n=n.children[0],n!=null)continue}else for(var a=0;a<n.children.length;a++){var d=n.children[a];d!=null&&ie(r,d)}}break}}function ge(r){if(typeof r.tag!="string"&&typeof r.state.onremove=="function"&&u.call(r.state.onremove,r),r.attrs&&typeof r.attrs.onremove=="function"&&u.call(r.attrs.onremove,r),typeof r.tag!="string")r.instance!=null&&ge(r.instance);else{var n=r.children;if(Array.isArray(n))for(var a=0;a<n.length;a++){var d=n[a];d!=null&&ge(d)}}}function _e(r,n,a){r.tag==="input"&&n.type!=null&&r.dom.setAttribute("type",n.type);var d=n!=null&&r.tag==="input"&&n.type==="file";for(var m in n)Q(r,m,null,n[m],a,d)}function Q(r,n,a,d,m,E){if(!(n==="key"||n==="is"||d==null||be(n)||a===d&&!xe(r,n)&&typeof d!="object"||n==="type"&&r.tag==="input")){if(n[0]==="o"&&n[1]==="n")return Pe(r,n,d);if(n.slice(0,6)==="xlink:")r.dom.setAttributeNS("http://www.w3.org/1999/xlink",n.slice(6),d);else if(n==="style")Me(r.dom,a,d);else if(Ee(r,n,m)){if(n==="value"){if((r.tag==="input"||r.tag==="textarea")&&r.dom.value===""+d&&(E||r.dom===c())||r.tag==="select"&&a!==null&&r.dom.value===""+d||r.tag==="option"&&a!==null&&r.dom.value===""+d)return;if(E&&""+d!=""){console.error("`value` is read-only on file inputs!");return}}r.dom[n]=d}else typeof d=="boolean"?d?r.dom.setAttribute(n,""):r.dom.removeAttribute(n):r.dom.setAttribute(n==="className"?"class":n,d)}}function De(r,n,a,d){if(!(n==="key"||n==="is"||a==null||be(n)))if(n[0]==="o"&&n[1]==="n")Pe(r,n,void 0);else if(n==="style")Me(r.dom,a,null);else if(Ee(r,n,d)&&n!=="className"&&n!=="title"&&!(n==="value"&&(r.tag==="option"||r.tag==="select"&&r.dom.selectedIndex===-1&&r.dom===c()))&&!(r.tag==="input"&&n==="type"))r.dom[n]=null;else{var m=n.indexOf(":");m!==-1&&(n=n.slice(m+1)),a!==!1&&r.dom.removeAttribute(n==="className"?"class":n)}}function te(r,n){if("value"in n)if(n.value===null)r.dom.selectedIndex!==-1&&(r.dom.value=null);else{var a=""+n.value;(r.dom.value!==a||r.dom.selectedIndex===-1)&&(r.dom.value=a)}"selectedIndex"in n&&Q(r,"selectedIndex",null,n.selectedIndex,void 0)}function Ie(r,n,a,d){if(n&&n===a&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),a!=null){r.tag==="input"&&a.type!=null&&r.dom.setAttribute("type",a.type);var m=r.tag==="input"&&a.type==="file";for(var E in a)Q(r,E,n&&n[E],a[E],d,m)}var x;if(n!=null)for(var E in n)(x=n[E])!=null&&(a==null||a[E]==null)&&De(r,E,x,d)}function xe(r,n){return n==="value"||n==="checked"||n==="selectedIndex"||n==="selected"&&r.dom===c()||r.tag==="option"&&r.dom.parentNode===t.activeElement}function be(r){return r==="oninit"||r==="oncreate"||r==="onupdate"||r==="onremove"||r==="onbeforeremove"||r==="onbeforeupdate"}function Ee(r,n,a){return a===void 0&&(r.tag.indexOf("-")>-1||r.attrs!=null&&r.attrs.is||n!=="href"&&n!=="list"&&n!=="form"&&n!=="width"&&n!=="height")&&n in r.dom}var je=/[A-Z]/g;function Ve(r){return"-"+r.toLowerCase()}function me(r){return r[0]==="-"&&r[1]==="-"?r:r==="cssFloat"?"float":r.replace(je,Ve)}function Me(r,n,a){if(n!==a)if(a==null)r.style.cssText="";else if(typeof a!="object")r.style.cssText=a;else if(n==null||typeof n!="object"){r.style.cssText="";for(var d in a){var m=a[d];m!=null&&r.style.setProperty(me(d),String(m))}}else{for(var d in a){var m=a[d];m!=null&&(m=String(m))!==String(n[d])&&r.style.setProperty(me(d),m)}for(var d in n)n[d]!=null&&a[d]==null&&r.style.removeProperty(me(d))}}function le(){this._=i}le.prototype=Object.create(null),le.prototype.handleEvent=function(r){var n=this["on"+r.type],a;typeof n=="function"?a=n.call(r.currentTarget,r):typeof n.handleEvent=="function"&&n.handleEvent(r),this._&&r.redraw!==!1&&(0,this._)(),a===!1&&(r.preventDefault(),r.stopPropagation())};function Pe(r,n,a){if(r.events!=null){if(r.events._=i,r.events[n]===a)return;a!=null&&(typeof a=="function"||typeof a=="object")?(r.events[n]==null&&r.dom.addEventListener(n.slice(2),r.events,!1),r.events[n]=a):(r.events[n]!=null&&r.dom.removeEventListener(n.slice(2),r.events,!1),r.events[n]=void 0)}else a!=null&&(typeof a=="function"||typeof a=="object")&&(r.events=new le,r.dom.addEventListener(n.slice(2),r.events,!1),r.events[n]=a)}function ye(r,n,a){typeof r.oninit=="function"&&u.call(r.oninit,n),typeof r.oncreate=="function"&&a.push(u.bind(r.oncreate,n))}function Se(r,n,a){typeof r.onupdate=="function"&&a.push(u.bind(r.onupdate,n))}function qe(r,n){do{if(r.attrs!=null&&typeof r.attrs.onbeforeupdate=="function"){var a=u.call(r.attrs.onbeforeupdate,r,n);if(a!==void 0&&!a)break}if(typeof r.tag!="string"&&typeof r.state.onbeforeupdate=="function"){var a=u.call(r.state.onbeforeupdate,r,n);if(a!==void 0&&!a)break}return!1}while(!1);return r.dom=n.dom,r.domSize=n.domSize,r.instance=n.instance,r.attrs=n.attrs,r.children=n.children,r.text=n.text,!0}var pe;return function(r,n,a){if(!r)throw new TypeError("DOM element being rendered to does not exist.");if(pe!=null&&r.contains(pe))throw new TypeError("Node is currently being rendered to and thus is locked.");var d=i,m=pe,E=[],x=c(),U=r.namespaceURI;pe=r,i=typeof a=="function"?a:void 0;try{r.vnodes==null&&(r.textContent=""),n=Qe.normalizeChildren(Array.isArray(n)?n:[n]),W(r,r.vnodes,n,E,null,U==="http://www.w3.org/1999/xhtml"?void 0:U),r.vnodes=n,x!=null&&c()!==x&&typeof x.focus=="function"&&x.focus();for(var L=0;L<E.length;L++)E[L]()}finally{i=d,pe=m}}},Nt=dn(typeof window!="undefined"?window:null),ct=ve,gn=function(e,t,i){var o=[],s=!1,l=-1;function u(){for(l=0;l<o.length;l+=2)try{e(o[l],ct(o[l+1]),c)}catch(b){i.error(b)}l=-1}function c(){s||(s=!0,t(function(){s=!1,u()}))}c.sync=u;function g(b,T){if(T!=null&&T.view==null&&typeof T!="function")throw new TypeError("m.mount expects a component, not a vnode.");var C=o.indexOf(b);C>=0&&(o.splice(C,2),C<=l&&(l-=2),e(b,[])),T!=null&&(o.push(b,T),e(b,ct(T),c))}return{mount:g,redraw:c}},mn=Nt,nt=gn(mn,typeof requestAnimationFrame!="undefined"?requestAnimationFrame:null,typeof console!="undefined"?console:null),Rt=function(e){if(Object.prototype.toString.call(e)!=="[object Object]")return"";var t=[];for(var i in e)o(i,e[i]);return t.join("&");function o(s,l){if(Array.isArray(l))for(var u=0;u<l.length;u++)o(s+"["+u+"]",l[u]);else if(Object.prototype.toString.call(l)==="[object Object]")for(var u in l)o(s+"["+u+"]",l[u]);else t.push(encodeURIComponent(s)+(l!=null&&l!==""?"="+encodeURIComponent(l):""))}},yn=Ge,xt=Object.assign||function(e,t){for(var i in t)yn.call(t,i)&&(e[i]=t[i])},wn=Rt,vn=xt,rt=function(e,t){if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(t==null)return e;var i=e.indexOf("?"),o=e.indexOf("#"),s=o<0?e.length:o,l=i<0?s:i,u=e.slice(0,l),c={};vn(c,t);var g=u.replace(/:([^\/\.-]+)(\.{3})?/g,function(A,q,W){return delete c[q],t[q]==null?A:W?t[q]:encodeURIComponent(String(t[q]))}),b=g.indexOf("?"),T=g.indexOf("#"),C=T<0?g.length:T,k=b<0?C:b,_=g.slice(0,k);i>=0&&(_+=e.slice(i,s)),b>=0&&(_+=(i<0?"?":"&")+g.slice(b,C));var D=wn(c);return D&&(_+=(i<0&&b<0?"?":"&")+D),o>=0&&(_+=e.slice(o)),T>=0&&(_+=(o<0?"":"&")+g.slice(T)),_},bn=rt,ft=Ge,En=function(e,t,i){var o=0;function s(c){return new t(c)}s.prototype=t.prototype,s.__proto__=t;function l(c){return function(g,b){typeof g!="string"?(b=g,g=g.url):b==null&&(b={});var T=new t(function(D,A){c(bn(g,b.params),b,function(q){if(typeof b.type=="function")if(Array.isArray(q))for(var W=0;W<q.length;W++)q[W]=new b.type(q[W]);else q=new b.type(q);D(q)},A)});if(b.background===!0)return T;var C=0;function k(){--C===0&&typeof i=="function"&&i()}return _(T);function _(D){var A=D.then;return D.constructor=s,D.then=function(){C++;var q=A.apply(D,arguments);return q.then(k,function(W){if(k(),C===0)throw W}),_(q)},D}}}function u(c,g){for(var b in c.headers)if(ft.call(c.headers,b)&&b.toLowerCase()===g)return!0;return!1}return{request:l(function(c,g,b,T){var C=g.method!=null?g.method.toUpperCase():"GET",k=g.body,_=(g.serialize==null||g.serialize===JSON.serialize)&&!(k instanceof e.FormData||k instanceof e.URLSearchParams),D=g.responseType||(typeof g.extract=="function"?"":"json"),A=new e.XMLHttpRequest,q=!1,W=!1,G=A,z,N=A.abort;A.abort=function(){q=!0,N.call(this)},A.open(C,c,g.async!==!1,typeof g.user=="string"?g.user:void 0,typeof g.password=="string"?g.password:void 0),_&&k!=null&&!u(g,"content-type")&&A.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof g.deserialize!="function"&&!u(g,"accept")&&A.setRequestHeader("Accept","application/json, text/*"),g.withCredentials&&(A.withCredentials=g.withCredentials),g.timeout&&(A.timeout=g.timeout),A.responseType=D;for(var H in g.headers)ft.call(g.headers,H)&&A.setRequestHeader(H,g.headers[H]);A.onreadystatechange=function(R){if(!q&&R.target.readyState===4)try{var V=R.target.status>=200&&R.target.status<300||R.target.status===304||/^file:\/\//i.test(c),S=R.target.response,y;if(D==="json"){if(!R.target.responseType&&typeof g.extract!="function")try{S=JSON.parse(R.target.responseText)}catch{S=null}}else(!D||D==="text")&&S==null&&(S=R.target.responseText);if(typeof g.extract=="function"?(S=g.extract(R.target,g),V=!0):typeof g.deserialize=="function"&&(S=g.deserialize(S)),V)b(S);else{var f=function(){try{y=R.target.responseText}catch{y=S}var h=new Error(y);h.code=R.target.status,h.response=S,T(h)};A.status===0?setTimeout(function(){W||f()}):f()}}catch(h){T(h)}},A.ontimeout=function(R){W=!0;var V=new Error("Request timed out");V.code=R.target.status,T(V)},typeof g.config=="function"&&(A=g.config(A,g,c)||A,A!==G&&(z=A.abort,A.abort=function(){q=!0,z.call(this)})),k==null?A.send():typeof g.serialize=="function"?A.send(g.serialize(k)):k instanceof e.FormData||k instanceof e.URLSearchParams?A.send(k):A.send(JSON.stringify(k))}),jsonp:l(function(c,g,b,T){var C=g.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+o++,k=e.document.createElement("script");e[C]=function(_){delete e[C],k.parentNode.removeChild(k),b(_)},k.onerror=function(){delete e[C],k.parentNode.removeChild(k),T(new Error("JSONP request failed"))},k.src=c+(c.indexOf("?")<0?"?":"&")+encodeURIComponent(g.callbackKey||"callback")+"="+encodeURIComponent(C),e.document.documentElement.appendChild(k)})}},Pn=Fe.exports,Sn=nt,Tn=En(typeof window!="undefined"?window:null,Pn,Sn.redraw);function pt(e){try{return decodeURIComponent(e)}catch{return e}}var jt=function(e){if(e===""||e==null)return{};e.charAt(0)==="?"&&(e=e.slice(1));for(var t=e.split("&"),i={},o={},s=0;s<t.length;s++){var l=t[s].split("="),u=pt(l[0]),c=l.length===2?pt(l[1]):"";c==="true"?c=!0:c==="false"&&(c=!1);var g=u.split(/\]\[?|\[/),b=o;u.indexOf("[")>-1&&g.pop();for(var T=0;T<g.length;T++){var C=g[T],k=g[T+1],_=k==""||!isNaN(parseInt(k,10));if(C===""){var u=g.slice(0,T).join();i[u]==null&&(i[u]=Array.isArray(b)?b.length:0),C=i[u]++}else if(C==="__proto__")break;if(T===g.length-1)b[C]=c;else{var D=Object.getOwnPropertyDescriptor(b,C);D!=null&&(D=D.value),D==null&&(b[C]=D=_?[]:{}),b=D}}}return o},Cn=jt,it=function(e){var t=e.indexOf("?"),i=e.indexOf("#"),o=i<0?e.length:i,s=t<0?o:t,l=e.slice(0,s).replace(/\/{2,}/g,"/");return l?(l[0]!=="/"&&(l="/"+l),l.length>1&&l[l.length-1]==="/"&&(l=l.slice(0,-1))):l="/",{path:l,params:t<0?{}:Cn(e.slice(t+1,o))}},kn=it,On=function(e){var t=kn(e),i=Object.keys(t.params),o=[],s=new RegExp("^"+t.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(l,u,c){return u==null?"\\"+l:(o.push({k:u,r:c==="..."}),c==="..."?"(.*)":c==="."?"([^/]+)\\.":"([^/]+)"+(c||""))})+"$");return function(l){for(var u=0;u<i.length;u++)if(t.params[i[u]]!==l.params[i[u]])return!1;if(!o.length)return s.test(l.path);var c=s.exec(l.path);if(c==null)return!1;for(var u=0;u<o.length;u++)l.params[o[u].k]=o[u].r?c[u+1]:decodeURIComponent(c[u+1]);return!0}},ht=Ge,dt=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$"),Mt=function(e,t){var i={};if(t!=null)for(var o in e)ht.call(e,o)&&!dt.test(o)&&t.indexOf(o)<0&&(i[o]=e[o]);else for(var o in e)ht.call(e,o)&&!dt.test(o)&&(i[o]=e[o]);return i},Ln=ve,An=Dt,_n=Fe.exports,gt=rt,mt=it,Dn=On,In=xt,Nn=Mt,Ze={};function Rn(e){try{return decodeURIComponent(e)}catch{return e}}var xn=function(e,t){var i=e==null?null:typeof e.setImmediate=="function"?e.setImmediate:e.setTimeout,o=_n.resolve(),s=!1,l=!1,u=0,c,g,b=Ze,T,C,k,_,D={onbeforeupdate:function(){return u=u?2:1,!(!u||Ze===b)},onremove:function(){e.removeEventListener("popstate",W,!1),e.removeEventListener("hashchange",q,!1)},view:function(){if(!(!u||Ze===b)){var N=[Ln(T,C.key,C)];return b&&(N=b.render(N[0])),N}}},A=z.SKIP={};function q(){s=!1;var N=e.location.hash;z.prefix[0]!=="#"&&(N=e.location.search+N,z.prefix[0]!=="?"&&(N=e.location.pathname+N,N[0]!=="/"&&(N="/"+N)));var H=N.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,Rn).slice(z.prefix.length),R=mt(H);In(R.params,e.history.state);function V(y){console.error(y),G(g,null,{replace:!0})}S(0);function S(y){for(;y<c.length;y++)if(c[y].check(R)){var f=c[y].component,h=c[y].route,w=f,$=_=function(Y){if($===_){if(Y===A)return S(y+1);T=Y!=null&&(typeof Y.view=="function"||typeof Y=="function")?Y:"div",C=R.params,k=H,_=null,b=f.render?f:null,u===2?t.redraw():(u=2,t.redraw.sync())}};f.view||typeof f=="function"?(f={},$(w)):f.onmatch?o.then(function(){return f.onmatch(R.params,H,h)}).then($,H===g?null:V):$("div");return}if(H===g)throw new Error("Could not resolve default route "+g+".");G(g,null,{replace:!0})}}function W(){s||(s=!0,i(q))}function G(N,H,R){if(N=gt(N,H),l){W();var V=R?R.state:null,S=R?R.title:null;R&&R.replace?e.history.replaceState(V,S,z.prefix+N):e.history.pushState(V,S,z.prefix+N)}else e.location.href=z.prefix+N}function z(N,H,R){if(!N)throw new TypeError("DOM element being rendered to does not exist.");if(c=Object.keys(R).map(function(S){if(S[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(S))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:S,component:R[S],check:Dn(S)}}),g=H,H!=null){var V=mt(H);if(!c.some(function(S){return S.check(V)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof e.history.pushState=="function"?e.addEventListener("popstate",W,!1):z.prefix[0]==="#"&&e.addEventListener("hashchange",q,!1),l=!0,t.mount(N,D),q()}return z.set=function(N,H,R){_!=null&&(R=R||{},R.replace=!0),_=null,G(N,H,R)},z.get=function(){return k},z.prefix="#!",z.Link={view:function(N){var H=An(N.attrs.selector||"a",Nn(N.attrs,["options","params","selector","onclick"]),N.children),R,V,S;return(H.attrs.disabled=Boolean(H.attrs.disabled))?(H.attrs.href=null,H.attrs["aria-disabled"]="true"):(R=N.attrs.options,V=N.attrs.onclick,S=gt(H.attrs.href,N.attrs.params),H.attrs.href=z.prefix+S,H.attrs.onclick=function(y){var f;typeof V=="function"?f=V.call(y.currentTarget,y):V==null||typeof V!="object"||typeof V.handleEvent=="function"&&V.handleEvent(y),f!==!1&&!y.defaultPrevented&&(y.button===0||y.which===0||y.which===1)&&(!y.currentTarget.target||y.currentTarget.target==="_self")&&!y.ctrlKey&&!y.metaKey&&!y.shiftKey&&!y.altKey&&(y.preventDefault(),y.redraw=!1,z.set(S,null,R))}),H}},z.param=function(N){return C&&N!=null?C[N]:C},z},jn=nt,Mn=xn(typeof window!="undefined"?window:null,jn),Ye=hn,qt=Tn,$t=nt,re=function(){return Ye.apply(this,arguments)};re.m=Ye;re.trust=Ye.trust;re.fragment=Ye.fragment;re.Fragment="[";re.mount=$t.mount;re.route=Mn;re.render=Nt;re.redraw=$t.redraw;re.request=qt.request;re.jsonp=qt.jsonp;re.parseQueryString=jt;re.buildQueryString=Rt;re.parsePathname=it;re.buildPathname=rt;re.vnode=ve;re.PromisePolyfill=It;re.censor=Mt;var v=re;function Z(e){return e!=null&&typeof e=="object"&&e["@@functional/placeholder"]===!0}function se(e){return function t(i){return arguments.length===0||Z(i)?t:e.apply(this,arguments)}}function ke(e){return function t(i,o){switch(arguments.length){case 0:return t;case 1:return Z(i)?t:se(function(s){return e(i,s)});default:return Z(i)&&Z(o)?t:Z(i)?se(function(s){return e(s,o)}):Z(o)?se(function(s){return e(i,s)}):e(i,o)}}}function qn(e){return function t(i,o,s){switch(arguments.length){case 0:return t;case 1:return Z(i)?t:ke(function(l,u){return e(i,l,u)});case 2:return Z(i)&&Z(o)?t:Z(i)?ke(function(l,u){return e(l,o,u)}):Z(o)?ke(function(l,u){return e(i,l,u)}):se(function(l){return e(i,o,l)});default:return Z(i)&&Z(o)&&Z(s)?t:Z(i)&&Z(o)?ke(function(l,u){return e(l,u,s)}):Z(i)&&Z(s)?ke(function(l,u){return e(l,o,u)}):Z(o)&&Z(s)?ke(function(l,u){return e(i,l,u)}):Z(i)?se(function(l){return e(l,o,s)}):Z(o)?se(function(l){return e(i,l,s)}):Z(s)?se(function(l){return e(i,o,l)}):e(i,o,s)}}}var $n=Array.isArray||function(t){return t!=null&&t.length>=0&&Object.prototype.toString.call(t)==="[object Array]"};function Hn(e){return Object.prototype.toString.call(e)==="[object String]"}function Je(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var yt=Object.prototype.toString,Un=function(){return yt.call(arguments)==="[object Arguments]"?function(t){return yt.call(t)==="[object Arguments]"}:function(t){return Je("callee",t)}}(),Ht=Un,zn=!{toString:null}.propertyIsEnumerable("toString"),wt=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],vt=function(){return arguments.propertyIsEnumerable("length")}(),Bn=function(t,i){for(var o=0;o<t.length;){if(t[o]===i)return!0;o+=1}return!1},Fn=se(typeof Object.keys=="function"&&!vt?function(t){return Object(t)!==t?[]:Object.keys(t)}:function(t){if(Object(t)!==t)return[];var i,o,s=[],l=vt&&Ht(t);for(i in t)Je(i,t)&&(!l||i!=="length")&&(s[s.length]=i);if(zn)for(o=wt.length-1;o>=0;)i=wt[o],Je(i,t)&&!Bn(s,i)&&(s[s.length]=i),o-=1;return s}),bt=Fn,Kn=se(function(t){return t===null?"Null":t===void 0?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}),Et=Kn;function Pt(e){for(var t=[],i;!(i=e.next()).done;)t.push(i.value);return t}function St(e,t,i){for(var o=0,s=i.length;o<s;){if(e(t,i[o]))return!0;o+=1}return!1}function Vn(e){var t=String(e).match(/^function (\w*)/);return t==null?"":t[1]}function Wn(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var et=typeof Object.is=="function"?Object.is:Wn;function Tt(e,t,i,o){var s=Pt(e),l=Pt(t);function u(c,g){return at(c,g,i.slice(),o.slice())}return!St(function(c,g){return!St(u,g,c)},l,s)}function at(e,t,i,o){if(et(e,t))return!0;var s=Et(e);if(s!==Et(t)||e==null||t==null)return!1;if(typeof e["fantasy-land/equals"]=="function"||typeof t["fantasy-land/equals"]=="function")return typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t)&&typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e);if(typeof e.equals=="function"||typeof t.equals=="function")return typeof e.equals=="function"&&e.equals(t)&&typeof t.equals=="function"&&t.equals(e);switch(s){case"Arguments":case"Array":case"Object":if(typeof e.constructor=="function"&&Vn(e.constructor)==="Promise")return e===t;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof t&&et(e.valueOf(),t.valueOf())))return!1;break;case"Date":if(!et(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(!(e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.sticky===t.sticky&&e.unicode===t.unicode))return!1;break}for(var l=i.length-1;l>=0;){if(i[l]===e)return o[l]===t;l-=1}switch(s){case"Map":return e.size!==t.size?!1:Tt(e.entries(),t.entries(),i.concat([e]),o.concat([t]));case"Set":return e.size!==t.size?!1:Tt(e.values(),t.values(),i.concat([e]),o.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var u=bt(e);if(u.length!==bt(t).length)return!1;var c=i.concat([e]),g=o.concat([t]);for(l=u.length-1;l>=0;){var b=u[l];if(!(Je(b,t)&&at(t[b],e[b],c,g)))return!1;l-=1}return!0}var Jn=ke(function(t,i){return at(t,i,[],[])}),Ut=Jn;function Gn(e){return Object.prototype.toString.call(e)==="[object Object]"}var Yn=se(function(t){return t!=null&&typeof t["fantasy-land/empty"]=="function"?t["fantasy-land/empty"]():t!=null&&t.constructor!=null&&typeof t.constructor["fantasy-land/empty"]=="function"?t.constructor["fantasy-land/empty"]():t!=null&&typeof t.empty=="function"?t.empty():t!=null&&t.constructor!=null&&typeof t.constructor.empty=="function"?t.constructor.empty():$n(t)?[]:Hn(t)?"":Gn(t)?{}:Ht(t)?function(){return arguments}():void 0}),Xn=Yn,Qn=se(function(t){return t!=null&&Ut(t,Xn(t))}),Ct=Qn,Zn=qn(function(t,i,o){return Ut(i,o[t])}),Le=Zn,zt=typeof setImmediate!="undefined"?setImmediate:typeof process!="undefined"?process.nextTick:setTimeout,er=F;function F(e,t){this.fork=e,this.cleanup=t||function(){}}F.prototype.of=function(t){return new F(function(i,o){return o(t)})};F.of=F.prototype.of;F.prototype.rejected=function(t){return new F(function(i){return i(t)})};F.rejected=F.prototype.rejected;F.prototype.map=function(t){var i=this.fork,o=this.cleanup;return new F(function(s,l){return i(function(u){return s(u)},function(u){return l(t(u))})},o)};F.prototype.chain=function(t){var i=this.fork,o=this.cleanup;return new F(function(s,l){return i(function(u){return s(u)},function(u){return t(u).fork(s,l)})},o)};F.prototype.ap=function(t){var i=this.fork,o=t.fork,s=this.cleanup,l=t.cleanup;function u(c){s(c[0]),l(c[1])}return new F(function(c,g){var b,T=!1,C,k=!1,_=!1,D,A=i(G,W(function(z){T=!0,b=z})),q=o(G,W(function(z){k=!0,C=z}));function W(z){return function(N){if(!_)return z(N),T&&k?(zt(function(){u(D)}),g(b(C))):N}}function G(z){if(!_)return _=!0,c(z)}return D=[A,q]},u)};F.prototype.concat=function(t){var i=this.fork,o=t.fork,s=this.cleanup,l=t.cleanup;function u(c){s(c[0]),l(c[1])}return new F(function(c,g){var b=!1,T,C=i(_(c),_(g)),k=o(_(c),_(g));return T=[C,k];function _(D){return function(A){if(!b)return b=!0,zt(function(){u(T)}),D(A)}}},u)};F.empty=function(){return new F(function(){})};F.prototype.empty=F.empty;F.prototype.toString=function(){return"Task"};F.prototype.orElse=function(t){var i=this.fork,o=this.cleanup;return new F(function(s,l){return i(function(u){return t(u).fork(s,l)},function(u){return l(u)})},o)};F.prototype.fold=function(t,i){var o=this.fork,s=this.cleanup;return new F(function(l,u){return o(function(c){return u(t(c))},function(c){return u(i(c))})},s)};F.prototype.cata=function(t){return this.fold(t.Rejected,t.Resolved)};F.prototype.swap=function(){var t=this.fork,i=this.cleanup;return new F(function(o,s){return t(function(l){return s(l)},function(l){return o(l)})},i)};F.prototype.bimap=function(t,i){var o=this.fork,s=this.cleanup;return new F(function(l,u){return o(function(c){return l(t(c))},function(c){return u(i(c))})},s)};F.prototype.rejectedMap=function(t){var i=this.fork,o=this.cleanup;return new F(function(s,l){return i(function(u){return s(t(u))},function(u){return l(u)})},o)};var Bt=er;const tr="https://shopper.deno.dev/",nr={"Content-Type":"application/json"},rr=e=>t=>i=>t(JSON.parse(JSON.stringify(i))),ir=e=>t=>i=>t(i),We=e=>t=>i=>o=>new Bt((s,l)=>v.request({method:e,url:tr+i,headers:nr,body:o,withCredentials:!1}).then(ir()(l),rr()(s))),ar={getTask:(e,t)=>We("GET")(e)(t)(),postTask:(e,t,i)=>We("POST")(e)(t)(i),putTask:(e,t,i)=>We("PUT")(e)(t)(i),deleteTask:(e,t)=>We("DELETE")(e)(t)()},Ft=()=>"xxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,i=e=="x"?t:t&3|8;return i.toString(16)}),Kt=e=>t=>(console.log(e,t),t);window.log=Kt;const or=["Of Them","Boxe(s)","Can(s)","gram(s)","kilogram(s)","pound(s)","liter(s)","mliter(s)","ounce(s)"],sr=e=>{var t;return e.stores.find(Le("id",(t=e.currentStore)==null?void 0:t.id))||e.stores[0]},Ae=e=>{const t=u=>u.http.getTask(u,"stores"),i=u=>u.http.getTask(u,"cats"),o=u=>u.http.getTask(u,"items"),s=({stores:u,cats:c,items:g})=>{let b=c.map(T=>(T.items=g.filter(Le("catId",T.id)).sort((C,k)=>C.order-k.order).reverse(),T)).sort((T,C)=>T.order-C.order);return{cats:b,stores:u.map(T=>(T.cats=b.filter(Le("storeId",T.id)).sort((C,k)=>C.order-k.order),T)),items:g}},l=({stores:u,cats:c,items:g})=>{e.stores=u,e.cats=c,e.items=g.reverse(),e.currentStore=sr(e)};Bt.of(u=>c=>g=>s({stores:u,cats:c,items:g})).ap(t(e)).ap(i(e)).ap(o(e)).fork(Kt("error"),l)},ur=({catId:e,title:t,notes:i,quantity:o,unit:s,price:l,order:u})=>({id:Ft(),title:t,notes:i,catId:e,order:u,quantity:o,unit:s,price:l,notes:i,purchased:!1}),lr=(e,t=0)=>({title:e,id:Ft(),order:t}),Ke={state:{},http:ar,settings:{},state:{dragging:{item:"",swapItem:""},catIds:[],items:[],showModal:!1,modalContent:null},stores:[],cats:[],items:[],currentStore:null},cr=(e,t)=>{let i=lr(t.title);const o=log("error"),s=l=>{t.title="",e.state.showModal=!1,e.state.modalContent=null,Ae(e)};e.http.postTask(e,"stores",i).fork(o,s)},Vt=()=>{const e={title:""};return{view:({attrs:{mdl:t}})=>v("form.w3-container.w3-card.w3-white.w3-animate-zoom",{onsubmit:i=>i.preventDefault()},v("div.w3-section",v("label",v("b","Store Title")),v("input.w3-input.w3-border-bottom",{oncreate:({dom:i})=>{i.select(),i.focus()},type:"text",value:e.title,oninput:i=>e.title=i.target.value})),v("button.w3-button.w3-block.w3-orange.w3-section.w3-padding",{onclick:()=>cr(t,e)},"add"))}},fr=(e,t)=>e.cats.find(Le("id",t)).items.length,pr=(e,t,i)=>{const{catId:o,title:s,notes:l,order:u,quantity:c,unit:g,price:b,id:T}=t;let C=i?{catId:o,title:s,notes:l,order:u,quantity:c,unit:g,price:b,id:T}:ur({catId:o,title:s,notes:l,order:fr(e,o),quantity:c,unit:g,price:b});const k=D=>{t={catId:o,title:"",notes:"",order:0,quantity:"",unit:"",price:0},Ae(e),e.state.showModal=!1,e.state.modalContent=null};return((D,A)=>i?D.http.postTask(D,"items",A):D.http.putTask(D,`items/${A.id}`,A))(e,C).fork(log("error"),k)},ot=({attrs:{mdl:e,catId:t,item:i,isEdit:o}})=>{const s={catId:t,catTitle:"",title:"",notes:"",order:0,quantity:0,unit:"",price:0};return t&&(s.catTitle=e.cats.find(Le("id",t)).title),o&&(s.catId=i.catId,s.title=i.title,s.notes=i.notes,s.order=i.order,s.quantity=i.quantity,s.unit=i.unit,s.price=i.price,s.id=i.id),{view:({attrs:{mdl:l}})=>{var u;return v("form.w3-container.w3-card.w3-white.w3-animate-zoom",{onsubmit:c=>c.preventDefault()},v("div.w3-section",v("label",v("b","Title")),v("input.w3-input.w3-border-bottom",{oncreate:({dom:c})=>{c.select(),c.focus()},type:"text",value:s.title,oninput:c=>s.title=c.target.value})),v("div.w3-section",v("label",v("b","Category")),v("select.w3-input.w3-border-bottom",{value:((u=l.cats.find(Le("id",s.catId)))==null?void 0:u.title)||"",onchange:c=>{s.catTitle=c.target.value,s.catId=l.cats.find(Le("title",s.catTitle)).id}},l.cats.map(c=>v(`option#${c.id}`,c.title)))),v("div.w3-section",v("label",v("b","Quantity")),v("input.w3-input.w3-border-bottom",{type:"number",value:s.quantity,oninput:c=>s.quantity=c.target.value})),v("div.w3-section",v("label",v("b","Unit")),v("select.w3-input.w3-border-bottom",{value:s.unit,onchange:c=>s.unit=c.target.value},or.map(c=>v("option",c)))),v("div.w3-section",v("label",v("b","Price")),v("input.w3-input.w3-border-bottom",{type:"number",value:s.price,oninput:c=>s.price=c.target.value})),v("div.w3-section",v("label",v("b","Notes")),v("textarea.w3-input.w3-border-bottom",{oninput:c=>s.notes=c.target.value},s.notes)),v("button.w3-button.w3-block.w3-orange.w3-section.w3-padding",{onclick:()=>pr(l,s,o)},o?"Update":"Add"))}}},Be=new Set,hr=(e,t)=>{e.http.deleteTask(e,`stores/${t}`).fork(log("error deleteing"),()=>Ae(e))},dr=(e,t)=>{e.http.deleteTask(e,`cats/${t}`).fork(log("error deleteing"),()=>Ae(e))},gr=(e,t)=>Promise.resolve(e.setCat(t)),kt=(e,t,i)=>Promise.resolve(e.currentStore=i).then(()=>t.toggleSideBar(t)),mr=()=>({view:({attrs:{mdl:e,state:t}})=>v(".w3-sidebar#sidebar.w3-bar-block.w3-collapse.w3-card.w3-animate-left",{style:{width:e.settings.profile=="desktop"?"300px":"90%",display:t.sidebar.open?"block":"none"}},e.settings.profile!="desktop"&&v("button.w3-bar-item.w3-button.w3-large",{onclick:()=>t.toggleSideBar(t)},"Close "),v("button.w3-button.w3-orange",{onclick:()=>{e.state.modalContent=v(Vt,{mdl:e}),e.state.showModal=!0}},"New Store"),e.stores.map((i,o)=>v(".w3-right-align.w3-row",{key:i.id},v("button.w3-button.w3-left-align.w3-col",{class:e.currentStore.id==i.id?"w3-leftbar w3-border-orange w3-border-10":"",onclick:s=>{s.stopPropagation(),kt(e,t,i)}},v(".w3-left-align.w3-col.s4",v("button.pointer.w3-badge.w3-pink.w3-border-0.w3-circle.w3-hover-red.w3-left-align",{onclick:s=>{s.stopPropagation(),hr(e,i.id)}},"x")),v("label.w3-label.w3-col.s4.w3-left-align.pointer",i.title),!Ct(i.cats)&&v(".w3-col.s4.w3-right-align",{onclick:s=>{s.stopPropagation(),Be.has(i.id)?Be.delete(i.id):Be.add(i.id)}},v("i.w3-btn.w3-circle",Be.has(i.id)?"V":">"))),!Ct(i.cats)&&v("ul.w3-list",{class:Be.has(i.id)?"w3-show":"w3-hide",id:i.id},i.cats.map((s,l)=>{var u;return v(".w3-list-item.pointer.w3-row",{key:s.id,onclick:()=>{gr(t,s.id).then(()=>kt(e,t,i))}},v("button.pointer.w3-badge.w3-pink.w3-border-0.w3-circle.w3-hover-red.w3-left-align",{onclick:c=>{c.stopPropagation(),dr(e,s.id)}},"x"),v("label.w3-col s4",s.title),v(".w3-right-align.w3-col s4",v(".w3-tag w3-orange",(u=s.issues)==null?void 0:u.length)))})))))}),yr=()=>({view:({attrs:{mdl:e,state:t}})=>v("nav.w3-bar.w3-container.w3-padding.w3-fixed",v("button.w3-button.w3-hide-large.w3-border",{onclick:()=>t.toggleSideBar(t)},"MENU"),e.currentStore&&v(".w3-row w3-section",v(".m6 w3-left",v("h1.w3-title w3-col",e.currentStore.title)),v(".m3 w3-right",v("button. w3-button  w3-border w3-large w3-col",{onclick:()=>{e.state.modalContent=v(ot,{mdl:e,catId:null}),e.state.showModal=!0}},"+"))))});var wr={exports:{}};(function(e,t){(function(i,o){e.exports=o()})(we,function(){function i(y){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(y)}function o(y,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(f&&f.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),f&&s(y,f)}function s(y,f){return(s=Object.setPrototypeOf||function(h,w){return h.__proto__=w,h})(y,f)}function l(y){var f=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var h,w=u(y);return h=f?(h=u(this).constructor,Reflect.construct(w,arguments,h)):w.apply(this,arguments),w=this,!(h=h)||i(h)!=="object"&&typeof h!="function"?function($){if($!==void 0)return $;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(w):h}}function u(y){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(y)}function c(y,f){if(!(y instanceof f))throw new TypeError("Cannot call a class as a function")}function g(y,f){for(var h=0;h<f.length;h++){var w=f[h];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}function b(y,f,h){return f&&g(y.prototype,f),h&&g(y,h),y}var T={set:function(y,f,h){W(y,f,h)},config:function(y){q.set(y)},map:function(){return z.apply(null,arguments)}},C=function(){function y(f,h,w){c(this,y),this.routeEvents(f,h,w),this.preventSelect(f,w)}return b(y,[{key:"routeEvents",value:function(f,h,w){var $=q.get("only",w);this.adapter=!N||$!=="mouse"&&$!==null?!R||$!=="pointer"&&$!==null?!H||$!=="touch"&&$!==null?new k(f,h).bindUnsupportedEvent():new D(f,h,w).bindEvents():new A(f,h,w).bindEvents():new _(f,h,w).bindEvents()}},{key:"preventSelect",value:function(f,h){q.get("preventSelect",h)&&(f.style.webkitTouchCallout="none",f.style.webkitUserSelect="none",f.style.khtmlUserSelect="none",f.style.MozUserSelect="none",f.style.msUserSelect="none",f.style.userSelect="none")}}]),y}(),k=function(){function y(f,h,w){c(this,y),this.el=f,this.block=h,this.options=w,this.pressed=!1,this.deepPressed=!1,this.nativeSupport=!1,this.runningPolyfill=!1,this.runKey=Math.random()}return b(y,[{key:"setPressed",value:function(f){this.pressed=f}},{key:"setDeepPressed",value:function(f){this.deepPressed=f}},{key:"isPressed",value:function(){return this.pressed}},{key:"isDeepPressed",value:function(){return this.deepPressed}},{key:"add",value:function(f,h){this.el.addEventListener(f,h,!1)}},{key:"runClosure",value:function(f){f in this.block&&this.block[f].apply(this.el,Array.prototype.slice.call(arguments,1))}},{key:"fail",value:function(f,h){q.get("polyfill",this.options)?this.runKey===h&&this.runPolyfill(f):this.runClosure("unsupported",f)}},{key:"bindUnsupportedEvent",value:function(){var f=this;this.add(H?"touchstart":"mousedown",function(h){return f.runClosure("unsupported",h)})}},{key:"_startPress",value:function(f){this.isPressed()===!1&&(this.runningPolyfill=!1,this.setPressed(!0),this.runClosure("start",f))}},{key:"_startDeepPress",value:function(f){this.isPressed()&&this.isDeepPressed()===!1&&(this.setDeepPressed(!0),this.runClosure("startDeepPress",f))}},{key:"_changePress",value:function(f,h){this.nativeSupport=!0,this.runClosure("change",f,h)}},{key:"_endDeepPress",value:function(){this.isPressed()&&this.isDeepPressed()&&(this.setDeepPressed(!1),this.runClosure("endDeepPress"))}},{key:"_endPress",value:function(){this.runningPolyfill===!1?(this.isPressed()&&(this._endDeepPress(),this.setPressed(!1),this.runClosure("end")),this.runKey=Math.random(),this.nativeSupport=!1):this.setPressed(!1)}},{key:"deepPress",value:function(f,h){.5<=f?this._startDeepPress(h):this._endDeepPress()}},{key:"runPolyfill",value:function(f){this.increment=q.get("polyfillSpeedUp",this.options)===0?1:10/q.get("polyfillSpeedUp",this.options),this.decrement=q.get("polyfillSpeedDown",this.options)===0?1:10/q.get("polyfillSpeedDown",this.options),this.setPressed(!0),this.runClosure("start",f),this.runningPolyfill===!1&&this.loopPolyfillForce(0,f)}},{key:"loopPolyfillForce",value:function(f,h){this.nativeSupport===!1&&(this.isPressed()?(this.runningPolyfill=!0,f=1<f+this.increment?1:f+this.increment,this.runClosure("change",f,h),this.deepPress(f,h),setTimeout(this.loopPolyfillForce.bind(this,f,h),10)):((f=f-this.decrement<0?0:f-this.decrement)<.5&&this.isDeepPressed()&&(this.setDeepPressed(!1),this.runClosure("endDeepPress")),f===0?(this.runningPolyfill=!1,this.setPressed(!0),this._endPress()):(this.runClosure("change",f,h),this.deepPress(f,h),setTimeout(this.loopPolyfillForce.bind(this,f,h),10))))}}]),y}(),_=function(){o(f,k);var y=l(f);function f(h,w,$){return c(this,f),y.call(this,h,w,$)}return b(f,[{key:"bindEvents",value:function(){this.add("webkitmouseforcewillbegin",this._startPress.bind(this)),this.add("mousedown",this.support.bind(this)),this.add("webkitmouseforcechanged",this.change.bind(this)),this.add("webkitmouseforcedown",this._startDeepPress.bind(this)),this.add("webkitmouseforceup",this._endDeepPress.bind(this)),this.add("mouseleave",this._endPress.bind(this)),this.add("mouseup",this._endPress.bind(this))}},{key:"support",value:function(h){this.isPressed()===!1&&this.fail(h,this.runKey)}},{key:"change",value:function(h){this.isPressed()&&0<h.webkitForce&&this._changePress(this.normalizeForce(h.webkitForce),h)}},{key:"normalizeForce",value:function(h){return this.reachOne(z(h,1,3,0,1))}},{key:"reachOne",value:function(h){return .995<h?1:h}}]),f}(),D=function(){o(f,k);var y=l(f);function f(h,w,$){return c(this,f),y.call(this,h,w,$)}return b(f,[{key:"bindEvents",value:function(){S?(this.add("touchforcechange",this.start.bind(this)),this.add("touchstart",this.support.bind(this,0))):this.add("touchstart",this.startLegacy.bind(this)),this.add("touchend",this._endPress.bind(this))}},{key:"start",value:function(h){0<h.touches.length&&(this._startPress(h),this.touch=this.selectTouch(h),this.touch&&this._changePress(this.touch.force,h))}},{key:"support",value:function(h,w,$){$=2<arguments.length&&$!==void 0?$:this.runKey,this.isPressed()===!1&&(h<=6?(h++,setTimeout(this.support.bind(this,h,w,$),10)):this.fail(w,$))}},{key:"startLegacy",value:function(h){this.initialForce=h.touches[0].force,this.supportLegacy(0,h,this.runKey,this.initialForce)}},{key:"supportLegacy",value:function(h,w,$,Y){Y!==this.initialForce?(this._startPress(w),this.loopForce(w)):h<=6?(h++,setTimeout(this.supportLegacy.bind(this,h,w,$,Y),10)):this.fail(w,$)}},{key:"loopForce",value:function(h){this.isPressed()&&(this.touch=this.selectTouch(h),setTimeout(this.loopForce.bind(this,h),10),this._changePress(this.touch.force,h))}},{key:"selectTouch",value:function(h){if(h.touches.length===1)return this.returnTouch(h.touches[0],h);for(var w=0;w<h.touches.length;w++)if(h.touches[w].target===this.el||this.el.contains(h.touches[w].target))return this.returnTouch(h.touches[w],h)}},{key:"returnTouch",value:function(h,w){return this.deepPress(h.force,w),h}}]),f}(),A=function(){o(f,k);var y=l(f);function f(h,w,$){return c(this,f),y.call(this,h,w,$)}return b(f,[{key:"bindEvents",value:function(){this.add("pointerdown",this.support.bind(this)),this.add("pointermove",this.change.bind(this)),this.add("pointerup",this._endPress.bind(this)),this.add("pointerleave",this._endPress.bind(this))}},{key:"support",value:function(h){this.isPressed()===!1&&(h.pressure===0||h.pressure===.5||1<h.pressure?this.fail(h,this.runKey):(this._startPress(h),this._changePress(h.pressure,h)))}},{key:"change",value:function(h){this.isPressed()&&0<h.pressure&&h.pressure!==.5&&(this._changePress(h.pressure,h),this.deepPress(h.pressure,h))}}]),f}(),q={polyfill:!0,polyfillSpeedUp:1e3,polyfillSpeedDown:0,preventSelect:!0,only:null,get:function(y,f){return(f.hasOwnProperty(y)?f:this)[y]},set:function(y){for(var f in y)y.hasOwnProperty(f)&&this.hasOwnProperty(f)&&f!="get"&&f!="set"&&(this[f]=y[f])}},W=function(y,f,h){var w=2<arguments.length&&h!==void 0?h:{};if(typeof y=="string"||y instanceof String)for(var $=document.querySelectorAll(y),Y=0;Y<$.length;Y++)new C($[Y],f,w);else if(G(y))new C(y,f,w);else for(Y=0;Y<y.length;Y++)new C(y[Y],f,w)},G=function(y){return(typeof HTMLElement=="undefined"?"undefined":i(HTMLElement))==="object"?y instanceof HTMLElement:y&&i(y)==="object"&&y!==null&&y.nodeType===1&&typeof y.nodeName=="string"},z=function(y,f,h,w,$){return(y-f)*($-w)/(h-f)+w},N=!1,H=!1,R=!1,V=!1,S=!1;if(typeof window!="undefined"){if(typeof Touch!="undefined")try{(Touch.prototype.hasOwnProperty("force")||"force"in new Touch)&&(V=!0)}catch{}H="ontouchstart"in window.document&&V,N="onmousemove"in window.document&&"onwebkitmouseforcechanged"in window.document&&!H,R="onpointermove"in window.document,S="ontouchforcechange"in window.document}return T})})(wr);const vr=(e,t)=>{console.log(e,t),e.http.deleteTask(e,`items/${t}`).fork(log("err"),()=>Ae(e))},br=(e,t)=>i=>{i.preventDefault();const o=()=>{Ae(e),t.highlight=!1,e.state.dragging.item=null,e.state.dragging.swapItem=null};return e.state.dragging.item.order=e.state.dragging.swapItem.order,e.http.putTask(e,`items/${e.state.dragging.item.id}`,e.state.dragging.item).fork(log("error"),o),e},Er=(e,t,i)=>o=>{t.highlight=!0,e.state.dragging.swapItem=i,o.preventDefault()},Pr=(e,t,i)=>o=>(t.highlight=!0,e.state.dragging.swapItem=i,o.preventDefault(),!0),Sr=e=>t=>(e.highlight=!1,t.preventDefault(),!0),Tr=(e,t,i)=>o=>(t.highlight=!1,e.state.dragging.swapItem=i,o.preventDefault(),!0),Wt=(e,t)=>{e.state.showModal=!0,e.state.modalContent=v(ot,{catId:t.catId,mdl:e,item:t,isEdit:!0})},Cr=(e,t,i)=>{t.left=!0,Wt(e,i),st(e,t)},kr=(e,t,i)=>{t.right=!0,vr(e,i.id),st(e,t)},st=(e,t,i)=>{t.left=!1,t.right=!1},Jt=e=>e.classList.contains("swipe-container")?e:Jt(e.parentElement),Or=({leftAction:e,rightAction:t,resetAction:i},o)=>{const s=Jt(o.target),l=s.clientWidth*60/100,u=s.scrollLeft-s.clientWidth;console.log(u),u<l*-1?e():u>l?t():i()},Lr=(e,t,i)=>o=>t.draggable?()=>{}:Or({leftAction:()=>Cr(e,t,i),rightAction:()=>kr(e,t,i),resetAction:()=>st(e,t)},o),Ar=()=>{const e={highlight:!1,draggable:!1};return{view:({attrs:{item:t,mdl:i}})=>v("li.w3-list-item.w3-leftbar.dragster-block",{id:t.id,draggable:e.draggable,class:e.highlight?"w3-orange":"",ondrop:br(i,e),ondragover:Er(i,e,t),ondragenter:Pr(i,e,t),ondragend:Tr(i,e,t),ondragleave:Sr(e),ondragstart:()=>i.state.dragging.item=t},v(".w3-bar.swipe-container",{ontouchend:Lr(i,e,t)},!e.draggable&&v(".swipe-action.swipe-left",v("button.w3-button w3-border.w3-left",{onclick:()=>Wt(i,t)},"Edit")),v(".",{class:e.draggable?"":"swipe-element",style:{height:"98px",width:"395px"}},t.img&&v("img.w3-bar-item.w3-circle",{src:t.img,style:{width:"85px"}}),v("h4.w3-bar-item",t.title),v(".w3-border.w3-right",{style:{height:"100%"},onpointerdown:o=>e.draggable=!0,onpointermove:o=>console.log("pm",o,e),onpointerup:o=>e.draggable=!1,ontouchstart:()=>e.draggable=!0,onmouseup:()=>e.draggable=!1,ontouchend:()=>e.draggable=!1},"Move")),!e.draggable&&v(".swipe-action.swipe-right",v("icon",v.trust("&#9888;")))),v(".w3-bar",t.quantity>1&&v("p.w3-p",`${t.quantity} ${t.unit}`)))}};var _r={exports:{}};/*@preserve
 * Dragster - drag'n'drop library v1.6.2
 * https://github.com/sunpietro/dragster
 *
 * Copyright 2015-2017 Piotr Nalepa
 * http://blog.piotrnalepa.pl
 *
 * Released under the MIT license
 * https://github.com/sunpietro/dragster/blob/master/LICENSE
 *
 * Date: 2017-06-28T22:30Z
 */(function(e,t){(function(i,o,s){e.exports=s()})(we,"Dragster",function(){var i=function(o){var s="dragster-",l="is-dragging",u="is-drag-over",c=s+"draggable",g=s+"drag-region",b=s+"drop-placeholder",T=s+"temp",C=T+"-container",k=s+"is-hidden",_=s+"replacable",D="touchstart",A="touchmove",q="touchend",W="mousedown",G="mousemove",z="mouseup",N="top",H="bottom",R="px",V="div",S=!1,y=!0,f=null,h=function(){},w={elementSelector:".dragster-block",regionSelector:".dragster-region",dragHandleCssClass:S,dragOnlyRegionCssClass:s+"region--drag-only",replaceElements:S,updateRegionsHeight:y,minimumRegionHeight:60,onBeforeDragStart:h,onAfterDragStart:h,onBeforeDragMove:h,onAfterDragMove:h,onBeforeDragEnd:h,onAfterDragEnd:h,onAfterDragDrop:h,scrollWindowOnDrag:S,dragOnlyRegionsEnabled:S,cloneElements:S,wrapDraggableElements:y,shadowElementUnderMouse:S},$={top:S,bottom:S},Y={drag:{node:f},drop:{node:f},shadow:{node:f,top:0,left:0},placeholder:{node:f,position:f},dropped:f,clonedFrom:f,clonedTo:f},X={},ce,ue,fe,ie,ge,_e,Q,De,te,Ie,xe,be,Ee,je,Ve,me,Me,le,Pe,ye,Se,qe,pe,r,n,a,d,m,E,x,U,L,K=window.innerHeight,ae=Math.floor((1+Math.random())*65536).toString(16);for(ce in o)o.hasOwnProperty(ce)&&(w[ce]=o[ce]);return Se=function(){return[].slice.call(document.querySelectorAll(w.elementSelector))},qe=function(){return[].slice.call(document.querySelectorAll(w.regionSelector))},pe=function(p){if(w.wrapDraggableElements===S)return console.warn(`You have disabled the default behavior of wrapping the draggable elements. If you want Dragster.js to work properly you still will have to do this manually.

More info: https://github.com/sunpietro/dragster/blob/master/README.md#user-content-wrapdraggableelements---boolean`),S;p.forEach(function(P){var O=je(),I=P.parentNode;if(I.classList.contains(c))return S;I.insertBefore(O,P),I.removeChild(P),O.appendChild(P)})},De=Se(),ue=qe(),w.replaceElements&&(_e=document.createElement(V),_e.classList.add(k),_e.classList.add(C),document.body.appendChild(_e)),fe=function(p,P){var O=p.parentNode;if(!(!O||p.classList&&p.classList.contains(g)&&!p.classList.contains(w.dragOnlyRegionCssClass)))return P(p)?p:P(O)?O:fe(O,P)},le=function(p){var P=[].slice.call(document.getElementsByClassName(p));P.forEach(function(O){O.dataset.dragsterId===ae&&O.parentNode.removeChild(O)})},Pe=function(p,P){P&&(ue.forEach(function(O){O.removeEventListener(P,te.mousemove)}),document.body.removeEventListener(P,te.mousemove)),p&&p.classList.remove(l),[].slice.call(document.getElementsByClassName(c)).forEach(function(O){O.firstChild||O.parentNode.removeChild(O)}),le(b),le(T),r()},ye=function(){[].slice.call(document.getElementsByClassName(_)).forEach(function(p){p.classList.remove(_)})},je=function(){var p=document.createElement(V);return p.classList.add(c),p.dataset.dragsterId=ae,p},me=function(){var p=document.createElement(V);return p.classList.add(b),p.dataset.dragsterId=ae,p},Ve=function(){var p=document.createElement(V);return p.classList.add(T),p.classList.add(k),p.style.position="fixed",p.dataset.dragsterId=ae,document.body.appendChild(p),p},be=function(p,P){if(p&&p.parentNode){var O=w.wrapDraggableElements===S?p:p.nextSibling;p.parentNode.insertBefore(P,O)}},Ee=function(p,P){p&&p.parentNode&&p.parentNode.insertBefore(P,p)},Ie=function(p){return p.classList&&p.classList.contains(c)&&p.dataset.dragsterId===ae},xe=function(p){return p.classList&&p.classList.contains(w.dragOnlyRegionCssClass)},r=function(){if(w.updateRegionsHeight){var p=[].slice.call(document.getElementsByClassName(g));p.forEach(function(P){var O=[].slice.call(P.querySelectorAll(w.elementSelector)),I=w.minimumRegionHeight;!O.length||(O.forEach(function(j){var B=window.getComputedStyle(j);I+=j.offsetHeight+parseInt(B.marginTop,10)+parseInt(B.marginBottom,10)}),P.style.height=I+R)})}},d=function(p,P){Pe(Q,p),Pe(Q,P)},te={mousedown:function(p){if(w.dragHandleCssClass&&(typeof w.dragHandleCssClass!="string"||!p.target.classList.contains(w.dragHandleCssClass)))return S;var P,O,I,j=p.type===D,B=p.changedTouches?p.changedTouches[0]:p;if(X=JSON.parse(JSON.stringify(Y)),p.dragster=X,w.onBeforeDragStart(p)===S||p.which===3||(p.preventDefault(),Q=fe(p.target,Ie),!Q))return S;O=j?A:G,I=j?q:z,ue.forEach(function(M){M.addEventListener(O,te.mousemove,S),M.addEventListener(I,te.mouseup,S)}),document.body.addEventListener(O,te.mousemove,S),document.body.addEventListener(I,te.mouseup,S),P=Q.getBoundingClientRect(),x=P.left-B.clientX,U=P.top-B.clientY,ie=Ve(),ie.innerHTML=Q.innerHTML,ie.style.width=P.width+R,ie.style.height=P.height+R,ie.dataset.dragsterId=ae,ge=ie.getBoundingClientRect(),Q.classList.add(l),X.drag.node=Q,X.shadow.node=ie,p.dragster=X,w.onAfterDragStart(p)},mousemove:function(p){if(p.dragster=X,w.onBeforeDragMove(p)===S||!ge)return S;p.preventDefault();var P=p.changedTouches?p.changedTouches[0]:p,O=P.view?P.view.pageXOffset:0,I=P.view?P.view.pageYOffset:0,j=P.clientY+I,B=P.clientX+O,M=document.elementFromPoint(P.clientX,P.clientY),oe=fe(M,Ie),he=w.shadowElementUnderMouse?P.clientY+U:P.clientY,$e=w.shadowElementUnderMouse?B+x:B-ge.width/2,Te=X.drag.node&&X.drag.node.dataset,He=!!(oe&&fe(oe,xe)),J=M.dataset.dragsterId===ae,Ce=M.classList.contains(g)&&J,Ne=M.classList.contains(w.dragOnlyRegionCssClass)&&J,Ue=M.classList.contains(b),de=M.getElementsByClassName(c).length>0,ut=M.getElementsByClassName(b).length>0;clearTimeout(Me),ie.style.top=he+R,ie.style.left=$e+R,ie.classList.remove(k),X.shadow.top=he,X.shadow.left=$e,!Te&&!Ce&&!Ue?E.removePlaceholders():oe&&oe!==Q&&!He?(E.removePlaceholders(),E.addPlaceholderOnTarget(oe,j,I)):Ce&&!Ne&&!de&&!ut?(E.removePlaceholders(),E.addPlaceholderInRegion(M)):Ce&&!Ne&&de&&!ut&&(E.removePlaceholders(),E.addPlaceholderInRegionBelowTargets(M)),w.scrollWindowOnDrag&&n(p),r(),w.onAfterDragMove(p)},mouseup:function(p){p.dragster=X;var P=p.type===D,O=P?A:G,I=P?q:z,j,B,M,oe,he;if(w.onBeforeDragEnd(p)===S||(j=w.replaceElements?_:b,B=document.getElementsByClassName(j)[0],oe=!!(Q&&fe(Q,xe)),he=w.cloneElements&&oe,Me=setTimeout(d,200),ye(),!Q||!B))return d(O,I),S;M=fe(B,Ie),M=M||B,Q!==M&&(!w.replaceElements&&!he?(p.dragster=m.moveElement(p.dragster,B,M),w.onAfterDragDrop(p)):w.replaceElements&&!he?(p.dragster=m.replaceElements(p.dragster,M),w.onAfterDragDrop(p)):!w.replaceElements&&he&&(p.dragster=m.cloneElements(p.dragster,B,M),w.onAfterDragDrop(p)),M.classList.remove(u)),d(O,I),w.onAfterDragEnd(p)}},E={addPlaceholderOnTarget:function(p,P,O){var I=p.getBoundingClientRect(),j=me(),B=I.height/2;ye(),w.replaceElements?p.classList.add(_):P-O-I.top<B&&!$.top?(le(b),j.dataset.placeholderPosition=N,Ee(p.firstChild,j),X.placeholder.position=N):I.bottom-(P-O)<B&&!$.bottom&&(le(b),j.dataset.placeholderPosition=H,p.appendChild(j),X.placeholder.position=H),X.placeholder.node=j,X.drop.node=p},addPlaceholderInRegion:function(p){var P=me();p.appendChild(P),X.placeholder.position=H,X.placeholder.node=P,X.drop.node=p},addPlaceholderInRegionBelowTargets:function(p){var P=[].slice.call(p.getElementsByClassName(c)),O=P.filter(function(B){return B.dataset.dragsterId===ae}),I=O[O.length-1],j=me();j.dataset.placeholderPosition=H,le(b),I.appendChild(j),X.placeholder.position=H,X.placeholder.node=j,X.drop.node=I},removePlaceholders:function(){w.replaceElements?ye():le(b)}},m={moveElement:function(p,P,O){var I=w.wrapDraggableElements===S?Q:je(),j=P.dataset.placeholderPosition;return j===N?Ee(O,I):w.wrapDraggableElements===S?be(I,O):be(O,I),Q.firstChild&&w.wrapDraggableElements===y&&I.appendChild(Q.firstChild),p.dropped=I,p},replaceElements:function(p,P){var O=document.getElementsByClassName(C)[0];return O.innerHTML=Q.innerHTML,Q.innerHTML=P.innerHTML,P.innerHTML=O.innerHTML,O.innerHTML="",p.dropped=O,p},cloneElements:function(p,P,O){var I=Q.cloneNode(!0),j=P.dataset.placeholderPosition;return j===N?Ee(O,I):be(O,I),Pe(I),p.clonedFrom=Q,p.clonedTo=I,p}},n=function(p){var P=p.changedTouches?p.changedTouches[0]:p,O=60;K-P.clientY<O?window.scrollBy(0,10):P.clientY<O&&window.scrollBy(0,-10)},a=function(){K=window.innerHeight},pe(De),L=function(){ue.forEach(function(p){p.classList.add(g),p.dataset.dragsterId=ae,p.addEventListener(W,te.mousedown,S),p.addEventListener(D,te.mousedown,S)})},L(),window.addEventListener("resize",a,!1),{update:function(){De=Se(),pe(De),r(),a()},updateRegions:function(){ue=qe(),L()},destroy:function(){ue.forEach(function(p){p.classList.remove(g),p.removeEventListener(W,te.mousedown,S),p.removeEventListener(G,te.mousemove,S),p.removeEventListener(z,te.mouseup,S),p.removeEventListener(D,te.mousedown,S),p.removeEventListener(A,te.mousemove,S),p.removeEventListener(q,te.mouseup,S)}),document.body.removeEventListener(G,te.mousemove,S),document.body.removeEventListener(A,te.mousemove,S),document.body.removeEventListener(z,te.mouseup,S),document.body.removeEventListener(q,te.mouseup,S),window.removeEventListener("resize",a,!1)}}};return i})})(_r);const Dr=({attrs:{mdl:e,cat:t}})=>{const i={catId:t.id,title:t.title,items:t.items,isSelected:!1,togglePinSection:{onclick:()=>i.isSelected=!i.isSelected}};return{view:({attrs:{cat:o,mdl:s,key:l}})=>v("section.w3-section.w3-border-left.",{key:l,id:o.id},v(".w3-panel.w3-bar",{style:{position:"-webkit-sticky",position:"sticky",top:0,backgroundColor:"white"}},v("p.w3-right",o.title.toUpperCase()),v("button.w3-btn w3-border-none w3-padding.w3-left",{onclick:()=>{s.state.modalContent=v(ot,{mdl:s,catId:o.id}),s.state.showModal=!0}},"+")),v(".w3-ul w3-paddings w3-border-top.dragster-region",o.items.map((u,c)=>v(Ar,{key:u.id,item:u,mdl:s}))))}},Ir=()=>({view:({attrs:{mdl:e,state:t}})=>v("section.w3-section.w3-row w3-ul. w3-padding-row",{style:{height:"80dvh",overflow:"auto"}},e.currentStore?e.currentStore.cats.map((i,o)=>v(Dr,{key:o,cat:i,mdl:e,state:t})):v("section.w3-section",v("button.w3-border-0 w3-button w3-panel.w3-display-middle w3-light-grey w3-col-1",{onclick:()=>{e.state.modalContent=v(Vt,{mdl:e}),e.state.showModal=!0}},"Create a Store to Begin")))}),Nr=({attrs:{mdl:e}})=>({view:()=>v(".w3-modal#modal",{onclick:t=>{t.target.id=="modal"&&(e.state.showModal=!1,e.state.modalContent=null)},style:{display:e.state.showModal?"block":"none"}},v("modal.w3-modal-content",v(".w3-container",e.state.modalContent)))});ee.SKIP={};ee.lift=jr;ee.scan=Rr;ee.merge=Gt;ee.combine=Xe;ee.scanMerge=xr;ee["fantasy-land/of"]=ee;var Ot=!1;Object.defineProperty(ee,"HALT",{get:function(){return Ot||console.log("HALT is deprecated and has been renamed to SKIP"),Ot=!0,ee.SKIP}});function ee(e){var t=[],i=[];function o(u){return arguments.length&&u!==ee.SKIP&&(e=u,Lt(o)&&(o.changing(),o.state="active",t.forEach(function(c,g){c(i[g](e))}))),e}o.constructor=ee,o.state=arguments.length&&e!==ee.SKIP?"active":"pending",o.parents=[],o.changing=function(){Lt(o)&&(o.state="changing"),t.forEach(function(u){u.changing()})},o.map=function(u,c){var g=o.state==="active"&&c!==ee.SKIP?ee(u(e)):ee();return g.parents.push(o),t.push(g),i.push(u),g};var s;function l(){return s=ee(),s.map(function(u){return u===!0&&(o.parents.forEach(function(c){c.unregisterChild(o)}),o.state="ended",o.parents.length=t.length=i.length=0),u}),s}return o.toJSON=function(){return e!=null&&typeof e.toJSON=="function"?e.toJSON():e},o["fantasy-land/map"]=o.map,o["fantasy-land/ap"]=function(u){return Xe(function(c,g){return c()(g())},[u,o])},o.unregisterChild=function(u){var c=t.indexOf(u);c!==-1&&(t.splice(c,1),i.splice(c,1))},Object.defineProperty(o,"end",{get:function(){return s||l()}}),o}function Xe(e,t){var i=t.every(function(c){if(c.constructor!==ee)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return c.state==="active"}),o=i?ee(e.apply(null,t.concat([t]))):ee(),s=[],l=t.map(function(c){return c.map(function(g){return s.push(c),(i||t.every(function(b){return b.state!=="pending"}))&&(i=!0,o(e.apply(null,t.concat([s]))),s=[]),g},ee.SKIP)}),u=o.end.map(function(c){c===!0&&(l.forEach(function(g){g.end(!0)}),u.end(!0))});return o}function Gt(e){return Xe(function(){return e.map(function(t){return t()})},e)}function Rr(e,t,i){var o=i.map(function(s){var l=e(t,s);return l!==ee.SKIP&&(t=l),l});return o(t),o}function xr(e,t){var i=e.map(function(s){return s[0]}),o=Xe(function(){var s=arguments[arguments.length-1];return i.forEach(function(l,u){s.indexOf(l)>-1&&(t=e[u][1](t,l()))}),t},i);return o(t),o}function jr(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Gt(t).map(function(i){return e.apply(void 0,i)})}function Lt(e){return e.state==="pending"||e.state==="active"||e.state==="changing"}const Mr=e=>({maxHeight:"100dvh",overflow:"hidden",marginLeft:e.settings.profile=="desktop"?"300px":"0"}),qr=e=>{const t={sidebar:{open:!1},setCat:ee(null),toggleSideBar:i=>i.sidebar.open=!i.sidebar.open};return Ae(e),{view:()=>v("page.w3-theme",v(Nr,{mdl:e}),v(mr,{mdl:e,state:t}),v("section.#main",{style:Mr(e)},v(yr,{mdl:e,state:t}),v(Ir,{mdl:e,state:t})))}},$r=document.body;let Yt=window.innerWidth;"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./service-worker.js").then(e=>{console.log("\u2699\uFE0F SW registered: ",e)}).catch(e=>{console.log("\u{1F9DF} SW registration failed: ",e)})});const Xt=e=>e<=411?"phone":e<=990?"tablet":"desktop",Qt=e=>{const t=window.innerWidth;if(e!==t){e=t;var i=Ke.settings.profile;Ke.settings.profile=Xt(t),i!=Ke.settings.profile&&v.redraw()}return requestAnimationFrame(Qt)};Ke.settings.profile=Xt(Yt);Qt(Yt);v.mount($r,qr(Ke));
