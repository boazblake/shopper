const er=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerpolicy&&(l.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?l.credentials="include":n.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}};er();var Ce=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Oe(e,t,a,o,n,l){return{tag:e,key:t,attrs:a,children:o,text:n,dom:l,domSize:void 0,state:void 0,events:void 0,instance:void 0}}Oe.normalize=function(e){return Array.isArray(e)?Oe("[",void 0,void 0,Oe.normalizeChildren(e),void 0,void 0):e==null||typeof e=="boolean"?null:typeof e=="object"?e:Oe("#",void 0,void 0,String(e),void 0,void 0)};Oe.normalizeChildren=function(e){var t=[];if(e.length){for(var a=e[0]!=null&&e[0].key!=null,o=1;o<e.length;o++)if((e[o]!=null&&e[o].key!=null)!==a)throw new TypeError(a&&(e[o]!=null||typeof e[o]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var o=0;o<e.length;o++)t[o]=Oe.normalize(e[o])}return t};var we=Oe,tr=we,At=function(){var e=arguments[this],t=this+1,a;if(e==null?e={}:(typeof e!="object"||e.tag!=null||Array.isArray(e))&&(e={},t=this),arguments.length===t+1)a=arguments[t],Array.isArray(a)||(a=[a]);else for(a=[];t<arguments.length;)a.push(arguments[t++]);return tr("",e.key,e,a)},Xe={}.hasOwnProperty,rr=we,nr=At,xe=Xe,ir=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,It={};function ct(e){for(var t in e)if(xe.call(e,t))return!1;return!0}function ar(e){for(var t,a="div",o=[],n={};t=ir.exec(e);){var l=t[1],u=t[2];if(l===""&&u!=="")a=u;else if(l==="#")n.id=u;else if(l===".")o.push(u);else if(t[3][0]==="["){var c=t[6];c&&(c=c.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),t[4]==="class"?o.push(c):n[t[4]]=c===""?c:c||!0}}return o.length>0&&(n.className=o.join(" ")),It[e]={tag:a,attrs:n}}function or(e,t){var a=t.attrs,o=xe.call(a,"class"),n=o?a.class:a.className;if(t.tag=e.tag,t.attrs={},!ct(e.attrs)&&!ct(a)){var l={};for(var u in a)xe.call(a,u)&&(l[u]=a[u]);a=l}for(var u in e.attrs)xe.call(e.attrs,u)&&u!=="className"&&!xe.call(a,u)&&(a[u]=e.attrs[u]);(n!=null||e.attrs.className!=null)&&(a.className=n!=null?e.attrs.className!=null?String(e.attrs.className)+" "+String(n):n:e.attrs.className!=null?e.attrs.className:null),o&&(a.class=null);for(var u in a)if(xe.call(a,u)&&u!=="key"){t.attrs=a;break}return t}function sr(e){if(e==null||typeof e!="string"&&typeof e!="function"&&typeof e.view!="function")throw Error("The selector must be either a string or a component.");var t=nr.apply(1,arguments);return typeof e=="string"&&(t.children=rr.normalizeChildren(t.children),e!=="[")?or(It[e]||ar(e),t):(t.tag=e,t)}var kt=sr,lr=we,ur=function(e){return e==null&&(e=""),lr("<",void 0,void 0,e,void 0,void 0)},cr=we,fr=At,pr=function(){var e=fr.apply(0,arguments);return e.tag="[",e.children=cr.normalizeChildren(e.children),e},tt=kt;tt.trust=ur;tt.fragment=pr;var hr=tt,Fe={exports:{}},ee=function(e){if(!(this instanceof ee))throw new Error("Promise must be called with 'new'.");if(typeof e!="function")throw new TypeError("executor must be a function.");var t=this,a=[],o=[],n=p(a,!0),l=p(o,!1),u=t._instance={resolvers:a,rejectors:o},c=typeof setImmediate=="function"?setImmediate:setTimeout;function p(E,b){return function T(D){var P;try{if(b&&D!=null&&(typeof D=="object"||typeof D=="function")&&typeof(P=D.then)=="function"){if(D===t)throw new TypeError("Promise can't be resolved with itself.");m(P.bind(D))}else c(function(){!b&&E.length===0&&console.error("Possible unhandled promise rejection:",D);for(var C=0;C<E.length;C++)E[C](D);a.length=0,o.length=0,u.state=b,u.retry=function(){T(D)}})}catch(C){l(C)}}}function m(E){var b=0;function T(P){return function(C){b++>0||P(C)}}var D=T(l);try{E(T(n),D)}catch(P){D(P)}}m(e)};ee.prototype.then=function(e,t){var a=this,o=a._instance;function n(p,m,E,b){m.push(function(T){if(typeof p!="function")E(T);else try{l(p(T))}catch(D){u&&u(D)}}),typeof o.retry=="function"&&b===o.state&&o.retry()}var l,u,c=new ee(function(p,m){l=p,u=m});return n(e,o.resolvers,l,!0),n(t,o.rejectors,u,!1),c};ee.prototype.catch=function(e){return this.then(null,e)};ee.prototype.finally=function(e){return this.then(function(t){return ee.resolve(e()).then(function(){return t})},function(t){return ee.resolve(e()).then(function(){return ee.reject(t)})})};ee.resolve=function(e){return e instanceof ee?e:new ee(function(t){t(e)})};ee.reject=function(e){return new ee(function(t,a){a(e)})};ee.all=function(e){return new ee(function(t,a){var o=e.length,n=0,l=[];if(e.length===0)t([]);else for(var u=0;u<e.length;u++)(function(c){function p(m){n++,l[c]=m,n===o&&t(l)}e[c]!=null&&(typeof e[c]=="object"||typeof e[c]=="function")&&typeof e[c].then=="function"?e[c].then(p,a):p(e[c])})(u)})};ee.race=function(e){return new ee(function(t,a){for(var o=0;o<e.length;o++)e[o].then(t,a)})};var Rt=ee,ze=Rt;typeof window!="undefined"?(typeof window.Promise=="undefined"?window.Promise=ze:window.Promise.prototype.finally||(window.Promise.prototype.finally=ze.prototype.finally),Fe.exports=window.Promise):typeof Ce!="undefined"?(typeof Ce.Promise=="undefined"?Ce.Promise=ze:Ce.Promise.prototype.finally||(Ce.Promise.prototype.finally=ze.prototype.finally),Fe.exports=Ce.Promise):Fe.exports=ze;var Qe=we,gr=function(e){var t=e&&e.document,a,o={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function n(i){return i.attrs&&i.attrs.xmlns||o[i.tag]}function l(i,r){if(i.state!==r)throw new Error("'vnode.state' must not be modified.")}function u(i){var r=i.state;try{return this.apply(r,arguments)}finally{l(i,r)}}function c(){try{return t.activeElement}catch{return null}}function p(i,r,s,h,g,y,L){for(var M=s;M<h;M++){var S=r[M];S!=null&&m(i,S,g,L,y)}}function m(i,r,s,h,g){var y=r.tag;if(typeof y=="string")switch(r.state={},r.attrs!=null&&ye(r.attrs,r,s),y){case"#":E(i,r,g);break;case"<":T(i,r,h,g);break;case"[":D(i,r,s,h,g);break;default:P(i,r,s,h,g)}else $(i,r,s,h,g)}function E(i,r,s){r.dom=t.createTextNode(r.children),ne(i,r.dom,s)}var b={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function T(i,r,s,h){var g=r.children.match(/^\s*?<(\w+)/im)||[],y=t.createElement(b[g[1]]||"div");s==="http://www.w3.org/2000/svg"?(y.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+r.children+"</svg>",y=y.firstChild):y.innerHTML=r.children,r.dom=y.firstChild,r.domSize=y.childNodes.length,r.instance=[];for(var L=t.createDocumentFragment(),M;M=y.firstChild;)r.instance.push(M),L.appendChild(M);ne(i,L,h)}function D(i,r,s,h,g){var y=t.createDocumentFragment();if(r.children!=null){var L=r.children;p(y,L,0,L.length,s,null,h)}r.dom=y.firstChild,r.domSize=y.childNodes.length,ne(i,y,g)}function P(i,r,s,h,g){var y=r.tag,L=r.attrs,M=L&&L.is;h=n(r)||h;var S=h?M?t.createElementNS(h,y,{is:M}):t.createElementNS(h,y):M?t.createElement(y,{is:M}):t.createElement(y);if(r.dom=S,L!=null&&Ae(r,L,h),ne(i,S,g),!Y(r)&&r.children!=null){var z=r.children;p(S,z,0,z.length,s,null,h),r.tag==="select"&&L!=null&&Z(r,L)}}function C(i,r){var s;if(typeof i.tag.view=="function"){if(i.state=Object.create(i.tag),s=i.state.view,s.$$reentrantLock$$!=null)return;s.$$reentrantLock$$=!0}else{if(i.state=void 0,s=i.tag,s.$$reentrantLock$$!=null)return;s.$$reentrantLock$$=!0,i.state=i.tag.prototype!=null&&typeof i.tag.prototype.view=="function"?new i.tag(i):i.tag(i)}if(ye(i.state,i,r),i.attrs!=null&&ye(i.attrs,i,r),i.instance=Qe.normalize(u.call(i.state.view,i)),i.instance===i)throw Error("A view cannot return the vnode it received as argument");s.$$reentrantLock$$=null}function $(i,r,s,h,g){C(r,s),r.instance!=null?(m(i,r.instance,s,h,g),r.dom=r.instance.dom,r.domSize=r.dom!=null?r.instance.domSize:0):r.domSize=0}function F(i,r,s,h,g,y){if(!(r===s||r==null&&s==null))if(r==null||r.length===0)p(i,s,0,s.length,h,g,y);else if(s==null||s.length===0)ce(i,r,0,r.length);else{var L=r[0]!=null&&r[0].key!=null,M=s[0]!=null&&s[0].key!=null,S=0,z=0;if(!L)for(;z<r.length&&r[z]==null;)z++;if(!M)for(;S<s.length&&s[S]==null;)S++;if(L!==M)ce(i,r,z,r.length),p(i,s,S,s.length,h,g,y);else if(M){for(var f=r.length-1,w=s.length-1,_,O,A,H,I,ae;f>=z&&w>=S&&(H=r[f],I=s[w],H.key===I.key);)H!==I&&J(i,H,I,h,g,y),I.dom!=null&&(g=I.dom),f--,w--;for(;f>=z&&w>=S&&(O=r[z],A=s[S],O.key===A.key);)z++,S++,O!==A&&J(i,O,A,h,Q(r,z,g),y);for(;f>=z&&w>=S&&!(S===w||O.key!==I.key||H.key!==A.key);)ae=Q(r,z,g),x(i,H,ae),H!==A&&J(i,H,A,h,ae,y),++S<=--w&&x(i,O,g),O!==I&&J(i,O,I,h,g,y),I.dom!=null&&(g=I.dom),z++,f--,H=r[f],I=s[w],O=r[z],A=s[S];for(;f>=z&&w>=S&&H.key===I.key;)H!==I&&J(i,H,I,h,g,y),I.dom!=null&&(g=I.dom),f--,w--,H=r[f],I=s[w];if(S>w)ce(i,r,z,f+1);else if(z>f)p(i,s,S,w+1,h,g,y);else{var he=g,qe=w-S+1,Se=new Array(qe),$e=0,W=0,Te=2147483647,Re=0,_,Be;for(W=0;W<qe;W++)Se[W]=-1;for(W=w;W>=S;W--){_==null&&(_=v(r,z,f+1)),I=s[W];var ge=_[I.key];ge!=null&&(Te=ge<Te?ge:-1,Se[W-S]=ge,H=r[ge],r[ge]=null,H!==I&&J(i,H,I,h,g,y),I.dom!=null&&(g=I.dom),Re++)}if(g=he,Re!==f-z+1&&ce(i,r,z,f+1),Re===0)p(i,s,S,w+1,h,g,y);else if(Te===-1)for(Be=K(Se),$e=Be.length-1,W=w;W>=S;W--)A=s[W],Se[W-S]===-1?m(i,A,h,y,g):Be[$e]===W-S?$e--:x(i,A,g),A.dom!=null&&(g=s[W].dom);else for(W=w;W>=S;W--)A=s[W],Se[W-S]===-1&&m(i,A,h,y,g),A.dom!=null&&(g=s[W].dom)}}else{var ie=r.length<s.length?r.length:s.length;for(S=S<z?S:z;S<ie;S++)O=r[S],A=s[S],!(O===A||O==null&&A==null)&&(O==null?m(i,A,h,y,Q(r,S+1,g)):A==null?se(i,O):J(i,O,A,h,Q(r,S+1,g),y));r.length>ie&&ce(i,r,S,r.length),s.length>ie&&p(i,s,S,s.length,h,g,y)}}}function J(i,r,s,h,g,y){var L=r.tag,M=s.tag;if(L===M){if(s.state=r.state,s.events=r.events,je(s,r))return;if(typeof L=="string")switch(s.attrs!=null&&_e(s.attrs,s,h),L){case"#":j(r,s);break;case"<":k(i,r,s,y,g);break;case"[":q(i,r,s,h,g,y);break;default:R(r,s,h,y)}else U(i,r,s,h,g,y)}else se(i,r),m(i,s,h,y,g)}function j(i,r){i.children.toString()!==r.children.toString()&&(i.dom.nodeValue=r.children),r.dom=i.dom}function k(i,r,s,h,g){r.children!==s.children?(fe(i,r),T(i,s,h,g)):(s.dom=r.dom,s.domSize=r.domSize,s.instance=r.instance)}function q(i,r,s,h,g,y){F(i,r.children,s.children,h,g,y);var L=0,M=s.children;if(s.dom=null,M!=null){for(var S=0;S<M.length;S++){var z=M[S];z!=null&&z.dom!=null&&(s.dom==null&&(s.dom=z.dom),L+=z.domSize||1)}L!==1&&(s.domSize=L)}}function R(i,r,s,h){var g=r.dom=i.dom;h=n(r)||h,r.tag==="textarea"&&r.attrs==null&&(r.attrs={}),ke(r,i.attrs,r.attrs,h),Y(r)||F(g,i.children,r.children,s,null,h)}function U(i,r,s,h,g,y){if(s.instance=Qe.normalize(u.call(s.state.view,s)),s.instance===s)throw Error("A view cannot return the vnode it received as argument");_e(s.state,s,h),s.attrs!=null&&_e(s.attrs,s,h),s.instance!=null?(r.instance==null?m(i,s.instance,h,y,g):J(i,r.instance,s.instance,h,g,y),s.dom=s.instance.dom,s.domSize=s.instance.domSize):r.instance!=null?(se(i,r.instance),s.dom=void 0,s.domSize=0):(s.dom=r.dom,s.domSize=r.domSize)}function v(i,r,s){for(var h=Object.create(null);r<s;r++){var g=i[r];if(g!=null){var y=g.key;y!=null&&(h[y]=r)}}return h}var N=[];function K(i){for(var r=[0],s=0,h=0,g=0,y=N.length=i.length,g=0;g<y;g++)N[g]=i[g];for(var g=0;g<y;++g)if(i[g]!==-1){var L=r[r.length-1];if(i[L]<i[g]){N[g]=L,r.push(g);continue}for(s=0,h=r.length-1;s<h;){var M=(s>>>1)+(h>>>1)+(s&h&1);i[r[M]]<i[g]?s=M+1:h=M}i[g]<i[r[s]]&&(s>0&&(N[g]=r[s-1]),r[s]=g)}for(s=r.length,h=r[s-1];s-- >0;)r[s]=h,h=N[h];return N.length=0,r}function Q(i,r,s){for(;r<i.length;r++)if(i[r]!=null&&i[r].dom!=null)return i[r].dom;return s}function x(i,r,s){var h=t.createDocumentFragment();ue(i,h,r),ne(i,h,s)}function ue(i,r,s){for(;s.dom!=null&&s.dom.parentNode===i;){if(typeof s.tag!="string"){if(s=s.instance,s!=null)continue}else if(s.tag==="<")for(var h=0;h<s.instance.length;h++)r.appendChild(s.instance[h]);else if(s.tag!=="[")r.appendChild(s.dom);else if(s.children.length===1){if(s=s.children[0],s!=null)continue}else for(var h=0;h<s.children.length;h++){var g=s.children[h];g!=null&&ue(i,r,g)}break}}function ne(i,r,s){s!=null?i.insertBefore(r,s):i.appendChild(r)}function Y(i){if(i.attrs==null||i.attrs.contenteditable==null&&i.attrs.contentEditable==null)return!1;var r=i.children;if(r!=null&&r.length===1&&r[0].tag==="<"){var s=r[0].children;i.dom.innerHTML!==s&&(i.dom.innerHTML=s)}else if(r!=null&&r.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function ce(i,r,s,h){for(var g=s;g<h;g++){var y=r[g];y!=null&&se(i,y)}}function se(i,r){var s=0,h=r.state,g,y;if(typeof r.tag!="string"&&typeof r.state.onbeforeremove=="function"){var L=u.call(r.state.onbeforeremove,r);L!=null&&typeof L.then=="function"&&(s=1,g=L)}if(r.attrs&&typeof r.attrs.onbeforeremove=="function"){var L=u.call(r.attrs.onbeforeremove,r);L!=null&&typeof L.then=="function"&&(s|=2,y=L)}if(l(r,h),!s)de(r),re(i,r);else{if(g!=null){var M=function(){s&1&&(s&=2,s||S())};g.then(M,M)}if(y!=null){var M=function(){s&2&&(s&=1,s||S())};y.then(M,M)}}function S(){l(r,h),de(r),re(i,r)}}function fe(i,r){for(var s=0;s<r.instance.length;s++)i.removeChild(r.instance[s])}function re(i,r){for(;r.dom!=null&&r.dom.parentNode===i;){if(typeof r.tag!="string"){if(r=r.instance,r!=null)continue}else if(r.tag==="<")fe(i,r);else{if(r.tag!=="["&&(i.removeChild(r.dom),!Array.isArray(r.children)))break;if(r.children.length===1){if(r=r.children[0],r!=null)continue}else for(var s=0;s<r.children.length;s++){var h=r.children[s];h!=null&&re(i,h)}}break}}function de(i){if(typeof i.tag!="string"&&typeof i.state.onremove=="function"&&u.call(i.state.onremove,i),i.attrs&&typeof i.attrs.onremove=="function"&&u.call(i.attrs.onremove,i),typeof i.tag!="string")i.instance!=null&&de(i.instance);else{var r=i.children;if(Array.isArray(r))for(var s=0;s<r.length;s++){var h=r[s];h!=null&&de(h)}}}function Ae(i,r,s){i.tag==="input"&&r.type!=null&&i.dom.setAttribute("type",r.type);var h=r!=null&&i.tag==="input"&&r.type==="file";for(var g in r)V(i,g,null,r[g],s,h)}function V(i,r,s,h,g,y){if(!(r==="key"||r==="is"||h==null||ve(r)||s===h&&!Ne(i,r)&&typeof h!="object"||r==="type"&&i.tag==="input")){if(r[0]==="o"&&r[1]==="n")return be(i,r,h);if(r.slice(0,6)==="xlink:")i.dom.setAttributeNS("http://www.w3.org/1999/xlink",r.slice(6),h);else if(r==="style")He(i.dom,s,h);else if(Ee(i,r,g)){if(r==="value"){if((i.tag==="input"||i.tag==="textarea")&&i.dom.value===""+h&&(y||i.dom===c())||i.tag==="select"&&s!==null&&i.dom.value===""+h||i.tag==="option"&&s!==null&&i.dom.value===""+h)return;if(y&&""+h!=""){console.error("`value` is read-only on file inputs!");return}}i.dom[r]=h}else typeof h=="boolean"?h?i.dom.setAttribute(r,""):i.dom.removeAttribute(r):i.dom.setAttribute(r==="className"?"class":r,h)}}function Ie(i,r,s,h){if(!(r==="key"||r==="is"||s==null||ve(r)))if(r[0]==="o"&&r[1]==="n")be(i,r,void 0);else if(r==="style")He(i.dom,s,null);else if(Ee(i,r,h)&&r!=="className"&&r!=="title"&&!(r==="value"&&(i.tag==="option"||i.tag==="select"&&i.dom.selectedIndex===-1&&i.dom===c()))&&!(i.tag==="input"&&r==="type"))i.dom[r]=null;else{var g=r.indexOf(":");g!==-1&&(r=r.slice(g+1)),s!==!1&&i.dom.removeAttribute(r==="className"?"class":r)}}function Z(i,r){if("value"in r)if(r.value===null)i.dom.selectedIndex!==-1&&(i.dom.value=null);else{var s=""+r.value;(i.dom.value!==s||i.dom.selectedIndex===-1)&&(i.dom.value=s)}"selectedIndex"in r&&V(i,"selectedIndex",null,r.selectedIndex,void 0)}function ke(i,r,s,h){if(r&&r===s&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),s!=null){i.tag==="input"&&s.type!=null&&i.dom.setAttribute("type",s.type);var g=i.tag==="input"&&s.type==="file";for(var y in s)V(i,y,r&&r[y],s[y],h,g)}var L;if(r!=null)for(var y in r)(L=r[y])!=null&&(s==null||s[y]==null)&&Ie(i,y,L,h)}function Ne(i,r){return r==="value"||r==="checked"||r==="selectedIndex"||r==="selected"&&i.dom===c()||i.tag==="option"&&i.dom.parentNode===t.activeElement}function ve(i){return i==="oninit"||i==="oncreate"||i==="onupdate"||i==="onremove"||i==="onbeforeremove"||i==="onbeforeupdate"}function Ee(i,r,s){return s===void 0&&(i.tag.indexOf("-")>-1||i.attrs!=null&&i.attrs.is||r!=="href"&&r!=="list"&&r!=="form"&&r!=="width"&&r!=="height")&&r in i.dom}var Me=/[A-Z]/g;function We(i){return"-"+i.toLowerCase()}function me(i){return i[0]==="-"&&i[1]==="-"?i:i==="cssFloat"?"float":i.replace(Me,We)}function He(i,r,s){if(r!==s)if(s==null)i.style.cssText="";else if(typeof s!="object")i.style.cssText=s;else if(r==null||typeof r!="object"){i.style.cssText="";for(var h in s){var g=s[h];g!=null&&i.style.setProperty(me(h),String(g))}}else{for(var h in s){var g=s[h];g!=null&&(g=String(g))!==String(r[h])&&i.style.setProperty(me(h),g)}for(var h in r)r[h]!=null&&s[h]==null&&i.style.removeProperty(me(h))}}function le(){this._=a}le.prototype=Object.create(null),le.prototype.handleEvent=function(i){var r=this["on"+i.type],s;typeof r=="function"?s=r.call(i.currentTarget,i):typeof r.handleEvent=="function"&&r.handleEvent(i),this._&&i.redraw!==!1&&(0,this._)(),s===!1&&(i.preventDefault(),i.stopPropagation())};function be(i,r,s){if(i.events!=null){if(i.events._=a,i.events[r]===s)return;s!=null&&(typeof s=="function"||typeof s=="object")?(i.events[r]==null&&i.dom.addEventListener(r.slice(2),i.events,!1),i.events[r]=s):(i.events[r]!=null&&i.dom.removeEventListener(r.slice(2),i.events,!1),i.events[r]=void 0)}else s!=null&&(typeof s=="function"||typeof s=="object")&&(i.events=new le,i.dom.addEventListener(r.slice(2),i.events,!1),i.events[r]=s)}function ye(i,r,s){typeof i.oninit=="function"&&u.call(i.oninit,r),typeof i.oncreate=="function"&&s.push(u.bind(i.oncreate,r))}function _e(i,r,s){typeof i.onupdate=="function"&&s.push(u.bind(i.onupdate,r))}function je(i,r){do{if(i.attrs!=null&&typeof i.attrs.onbeforeupdate=="function"){var s=u.call(i.attrs.onbeforeupdate,i,r);if(s!==void 0&&!s)break}if(typeof i.tag!="string"&&typeof i.state.onbeforeupdate=="function"){var s=u.call(i.state.onbeforeupdate,i,r);if(s!==void 0&&!s)break}return!1}while(!1);return i.dom=r.dom,i.domSize=r.domSize,i.instance=r.instance,i.attrs=r.attrs,i.children=r.children,i.text=r.text,!0}var pe;return function(i,r,s){if(!i)throw new TypeError("DOM element being rendered to does not exist.");if(pe!=null&&i.contains(pe))throw new TypeError("Node is currently being rendered to and thus is locked.");var h=a,g=pe,y=[],L=c(),M=i.namespaceURI;pe=i,a=typeof s=="function"?s:void 0;try{i.vnodes==null&&(i.textContent=""),r=Qe.normalizeChildren(Array.isArray(r)?r:[r]),F(i,i.vnodes,r,y,null,M==="http://www.w3.org/1999/xhtml"?void 0:M),i.vnodes=r,L!=null&&c()!==L&&typeof L.focus=="function"&&L.focus();for(var S=0;S<y.length;S++)y[S]()}finally{a=h,pe=g}}},xt=gr(typeof window!="undefined"?window:null),ft=we,dr=function(e,t,a){var o=[],n=!1,l=-1;function u(){for(l=0;l<o.length;l+=2)try{e(o[l],ft(o[l+1]),c)}catch(m){a.error(m)}l=-1}function c(){n||(n=!0,t(function(){n=!1,u()}))}c.sync=u;function p(m,E){if(E!=null&&E.view==null&&typeof E!="function")throw new TypeError("m.mount expects a component, not a vnode.");var b=o.indexOf(m);b>=0&&(o.splice(b,2),b<=l&&(l-=2),e(m,[])),E!=null&&(o.push(m,E),e(m,ft(E),c))}return{mount:p,redraw:c}},mr=xt,rt=dr(mr,typeof requestAnimationFrame!="undefined"?requestAnimationFrame:null,typeof console!="undefined"?console:null),Nt=function(e){if(Object.prototype.toString.call(e)!=="[object Object]")return"";var t=[];for(var a in e)o(a,e[a]);return t.join("&");function o(n,l){if(Array.isArray(l))for(var u=0;u<l.length;u++)o(n+"["+u+"]",l[u]);else if(Object.prototype.toString.call(l)==="[object Object]")for(var u in l)o(n+"["+u+"]",l[u]);else t.push(encodeURIComponent(n)+(l!=null&&l!==""?"="+encodeURIComponent(l):""))}},yr=Xe,Mt=Object.assign||function(e,t){for(var a in t)yr.call(t,a)&&(e[a]=t[a])},wr=Nt,vr=Mt,nt=function(e,t){if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(t==null)return e;var a=e.indexOf("?"),o=e.indexOf("#"),n=o<0?e.length:o,l=a<0?n:a,u=e.slice(0,l),c={};vr(c,t);var p=u.replace(/:([^\/\.-]+)(\.{3})?/g,function(C,$,F){return delete c[$],t[$]==null?C:F?t[$]:encodeURIComponent(String(t[$]))}),m=p.indexOf("?"),E=p.indexOf("#"),b=E<0?p.length:E,T=m<0?b:m,D=p.slice(0,T);a>=0&&(D+=e.slice(a,n)),m>=0&&(D+=(a<0?"?":"&")+p.slice(m,b));var P=wr(c);return P&&(D+=(a<0&&m<0?"?":"&")+P),o>=0&&(D+=e.slice(o)),E>=0&&(D+=(o<0?"":"&")+p.slice(E)),D},Er=nt,pt=Xe,br=function(e,t,a){var o=0;function n(c){return new t(c)}n.prototype=t.prototype,n.__proto__=t;function l(c){return function(p,m){typeof p!="string"?(m=p,p=p.url):m==null&&(m={});var E=new t(function(P,C){c(Er(p,m.params),m,function($){if(typeof m.type=="function")if(Array.isArray($))for(var F=0;F<$.length;F++)$[F]=new m.type($[F]);else $=new m.type($);P($)},C)});if(m.background===!0)return E;var b=0;function T(){--b===0&&typeof a=="function"&&a()}return D(E);function D(P){var C=P.then;return P.constructor=n,P.then=function(){b++;var $=C.apply(P,arguments);return $.then(T,function(F){if(T(),b===0)throw F}),D($)},P}}}function u(c,p){for(var m in c.headers)if(pt.call(c.headers,m)&&m.toLowerCase()===p)return!0;return!1}return{request:l(function(c,p,m,E){var b=p.method!=null?p.method.toUpperCase():"GET",T=p.body,D=(p.serialize==null||p.serialize===JSON.serialize)&&!(T instanceof e.FormData||T instanceof e.URLSearchParams),P=p.responseType||(typeof p.extract=="function"?"":"json"),C=new e.XMLHttpRequest,$=!1,F=!1,J=C,j,k=C.abort;C.abort=function(){$=!0,k.call(this)},C.open(b,c,p.async!==!1,typeof p.user=="string"?p.user:void 0,typeof p.password=="string"?p.password:void 0),D&&T!=null&&!u(p,"content-type")&&C.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof p.deserialize!="function"&&!u(p,"accept")&&C.setRequestHeader("Accept","application/json, text/*"),p.withCredentials&&(C.withCredentials=p.withCredentials),p.timeout&&(C.timeout=p.timeout),C.responseType=P;for(var q in p.headers)pt.call(p.headers,q)&&C.setRequestHeader(q,p.headers[q]);C.onreadystatechange=function(R){if(!$&&R.target.readyState===4)try{var U=R.target.status>=200&&R.target.status<300||R.target.status===304||/^file:\/\//i.test(c),v=R.target.response,N;if(P==="json"){if(!R.target.responseType&&typeof p.extract!="function")try{v=JSON.parse(R.target.responseText)}catch{v=null}}else(!P||P==="text")&&v==null&&(v=R.target.responseText);if(typeof p.extract=="function"?(v=p.extract(R.target,p),U=!0):typeof p.deserialize=="function"&&(v=p.deserialize(v)),U)m(v);else{var K=function(){try{N=R.target.responseText}catch{N=v}var Q=new Error(N);Q.code=R.target.status,Q.response=v,E(Q)};C.status===0?setTimeout(function(){F||K()}):K()}}catch(Q){E(Q)}},C.ontimeout=function(R){F=!0;var U=new Error("Request timed out");U.code=R.target.status,E(U)},typeof p.config=="function"&&(C=p.config(C,p,c)||C,C!==J&&(j=C.abort,C.abort=function(){$=!0,j.call(this)})),T==null?C.send():typeof p.serialize=="function"?C.send(p.serialize(T)):T instanceof e.FormData||T instanceof e.URLSearchParams?C.send(T):C.send(JSON.stringify(T))}),jsonp:l(function(c,p,m,E){var b=p.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+o++,T=e.document.createElement("script");e[b]=function(D){delete e[b],T.parentNode.removeChild(T),m(D)},T.onerror=function(){delete e[b],T.parentNode.removeChild(T),E(new Error("JSONP request failed"))},T.src=c+(c.indexOf("?")<0?"?":"&")+encodeURIComponent(p.callbackKey||"callback")+"="+encodeURIComponent(b),e.document.documentElement.appendChild(T)})}},_r=Fe.exports,Sr=rt,Tr=br(typeof window!="undefined"?window:null,_r,Sr.redraw);function ht(e){try{return decodeURIComponent(e)}catch{return e}}var Ht=function(e){if(e===""||e==null)return{};e.charAt(0)==="?"&&(e=e.slice(1));for(var t=e.split("&"),a={},o={},n=0;n<t.length;n++){var l=t[n].split("="),u=ht(l[0]),c=l.length===2?ht(l[1]):"";c==="true"?c=!0:c==="false"&&(c=!1);var p=u.split(/\]\[?|\[/),m=o;u.indexOf("[")>-1&&p.pop();for(var E=0;E<p.length;E++){var b=p[E],T=p[E+1],D=T==""||!isNaN(parseInt(T,10));if(b===""){var u=p.slice(0,E).join();a[u]==null&&(a[u]=Array.isArray(m)?m.length:0),b=a[u]++}else if(b==="__proto__")break;if(E===p.length-1)m[b]=c;else{var P=Object.getOwnPropertyDescriptor(m,b);P!=null&&(P=P.value),P==null&&(m[b]=P=D?[]:{}),m=P}}}return o},Cr=Ht,it=function(e){var t=e.indexOf("?"),a=e.indexOf("#"),o=a<0?e.length:a,n=t<0?o:t,l=e.slice(0,n).replace(/\/{2,}/g,"/");return l?(l[0]!=="/"&&(l="/"+l),l.length>1&&l[l.length-1]==="/"&&(l=l.slice(0,-1))):l="/",{path:l,params:t<0?{}:Cr(e.slice(t+1,o))}},Dr=it,Or=function(e){var t=Dr(e),a=Object.keys(t.params),o=[],n=new RegExp("^"+t.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(l,u,c){return u==null?"\\"+l:(o.push({k:u,r:c==="..."}),c==="..."?"(.*)":c==="."?"([^/]+)\\.":"([^/]+)"+(c||""))})+"$");return function(l){for(var u=0;u<a.length;u++)if(t.params[a[u]]!==l.params[a[u]])return!1;if(!o.length)return n.test(l.path);var c=n.exec(l.path);if(c==null)return!1;for(var u=0;u<o.length;u++)l.params[o[u].k]=o[u].r?c[u+1]:decodeURIComponent(c[u+1]);return!0}},gt=Xe,dt=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$"),jt=function(e,t){var a={};if(t!=null)for(var o in e)gt.call(e,o)&&!dt.test(o)&&t.indexOf(o)<0&&(a[o]=e[o]);else for(var o in e)gt.call(e,o)&&!dt.test(o)&&(a[o]=e[o]);return a},Pr=we,Lr=kt,Ar=Fe.exports,mt=nt,yt=it,Ir=Or,kr=Mt,Rr=jt,Ze={};function xr(e){try{return decodeURIComponent(e)}catch{return e}}var Nr=function(e,t){var a=e==null?null:typeof e.setImmediate=="function"?e.setImmediate:e.setTimeout,o=Ar.resolve(),n=!1,l=!1,u=0,c,p,m=Ze,E,b,T,D,P={onbeforeupdate:function(){return u=u?2:1,!(!u||Ze===m)},onremove:function(){e.removeEventListener("popstate",F,!1),e.removeEventListener("hashchange",$,!1)},view:function(){if(!(!u||Ze===m)){var k=[Pr(E,b.key,b)];return m&&(k=m.render(k[0])),k}}},C=j.SKIP={};function $(){n=!1;var k=e.location.hash;j.prefix[0]!=="#"&&(k=e.location.search+k,j.prefix[0]!=="?"&&(k=e.location.pathname+k,k[0]!=="/"&&(k="/"+k)));var q=k.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,xr).slice(j.prefix.length),R=yt(q);kr(R.params,e.history.state);function U(N){console.error(N),J(p,null,{replace:!0})}v(0);function v(N){for(;N<c.length;N++)if(c[N].check(R)){var K=c[N].component,Q=c[N].route,x=K,ue=D=function(ne){if(ue===D){if(ne===C)return v(N+1);E=ne!=null&&(typeof ne.view=="function"||typeof ne=="function")?ne:"div",b=R.params,T=q,D=null,m=K.render?K:null,u===2?t.redraw():(u=2,t.redraw.sync())}};K.view||typeof K=="function"?(K={},ue(x)):K.onmatch?o.then(function(){return K.onmatch(R.params,q,Q)}).then(ue,q===p?null:U):ue("div");return}if(q===p)throw new Error("Could not resolve default route "+p+".");J(p,null,{replace:!0})}}function F(){n||(n=!0,a($))}function J(k,q,R){if(k=mt(k,q),l){F();var U=R?R.state:null,v=R?R.title:null;R&&R.replace?e.history.replaceState(U,v,j.prefix+k):e.history.pushState(U,v,j.prefix+k)}else e.location.href=j.prefix+k}function j(k,q,R){if(!k)throw new TypeError("DOM element being rendered to does not exist.");if(c=Object.keys(R).map(function(v){if(v[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(v))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:v,component:R[v],check:Ir(v)}}),p=q,q!=null){var U=yt(q);if(!c.some(function(v){return v.check(U)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof e.history.pushState=="function"?e.addEventListener("popstate",F,!1):j.prefix[0]==="#"&&e.addEventListener("hashchange",$,!1),l=!0,t.mount(k,P),$()}return j.set=function(k,q,R){D!=null&&(R=R||{},R.replace=!0),D=null,J(k,q,R)},j.get=function(){return T},j.prefix="#!",j.Link={view:function(k){var q=Lr(k.attrs.selector||"a",Rr(k.attrs,["options","params","selector","onclick"]),k.children),R,U,v;return(q.attrs.disabled=Boolean(q.attrs.disabled))?(q.attrs.href=null,q.attrs["aria-disabled"]="true"):(R=k.attrs.options,U=k.attrs.onclick,v=mt(q.attrs.href,k.attrs.params),q.attrs.href=j.prefix+v,q.attrs.onclick=function(N){var K;typeof U=="function"?K=U.call(N.currentTarget,N):U==null||typeof U!="object"||typeof U.handleEvent=="function"&&U.handleEvent(N),K!==!1&&!N.defaultPrevented&&(N.button===0||N.which===0||N.which===1)&&(!N.currentTarget.target||N.currentTarget.target==="_self")&&!N.ctrlKey&&!N.metaKey&&!N.shiftKey&&!N.altKey&&(N.preventDefault(),N.redraw=!1,j.set(v,null,R))}),q}},j.param=function(k){return b&&k!=null?b[k]:b},j},Mr=rt,Hr=Nr(typeof window!="undefined"?window:null,Mr),Ge=hr,qt=Tr,$t=rt,te=function(){return Ge.apply(this,arguments)};te.m=Ge;te.trust=Ge.trust;te.fragment=Ge.fragment;te.Fragment="[";te.mount=$t.mount;te.route=Hr;te.render=xt;te.redraw=$t.redraw;te.request=qt.request;te.jsonp=qt.jsonp;te.parseQueryString=Ht;te.buildQueryString=Nt;te.parsePathname=it;te.buildPathname=nt;te.vnode=we;te.PromisePolyfill=Rt;te.censor=jt;var d=te;function X(e){return e!=null&&typeof e=="object"&&e["@@functional/placeholder"]===!0}function oe(e){return function t(a){return arguments.length===0||X(a)?t:e.apply(this,arguments)}}function De(e){return function t(a,o){switch(arguments.length){case 0:return t;case 1:return X(a)?t:oe(function(n){return e(a,n)});default:return X(a)&&X(o)?t:X(a)?oe(function(n){return e(n,o)}):X(o)?oe(function(n){return e(a,n)}):e(a,o)}}}function jr(e){return function t(a,o,n){switch(arguments.length){case 0:return t;case 1:return X(a)?t:De(function(l,u){return e(a,l,u)});case 2:return X(a)&&X(o)?t:X(a)?De(function(l,u){return e(l,o,u)}):X(o)?De(function(l,u){return e(a,l,u)}):oe(function(l){return e(a,o,l)});default:return X(a)&&X(o)&&X(n)?t:X(a)&&X(o)?De(function(l,u){return e(l,u,n)}):X(a)&&X(n)?De(function(l,u){return e(l,o,u)}):X(o)&&X(n)?De(function(l,u){return e(a,l,u)}):X(a)?oe(function(l){return e(l,o,n)}):X(o)?oe(function(l){return e(a,l,n)}):X(n)?oe(function(l){return e(a,o,l)}):e(a,o,n)}}}var qr=Array.isArray||function(t){return t!=null&&t.length>=0&&Object.prototype.toString.call(t)==="[object Array]"};function $r(e){return Object.prototype.toString.call(e)==="[object String]"}function Ve(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var wt=Object.prototype.toString,Br=function(){return wt.call(arguments)==="[object Arguments]"?function(t){return wt.call(t)==="[object Arguments]"}:function(t){return Ve("callee",t)}}(),Bt=Br,zr=!{toString:null}.propertyIsEnumerable("toString"),vt=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Et=function(){return arguments.propertyIsEnumerable("length")}(),Ur=function(t,a){for(var o=0;o<t.length;){if(t[o]===a)return!0;o+=1}return!1},Fr=oe(typeof Object.keys=="function"&&!Et?function(t){return Object(t)!==t?[]:Object.keys(t)}:function(t){if(Object(t)!==t)return[];var a,o,n=[],l=Et&&Bt(t);for(a in t)Ve(a,t)&&(!l||a!=="length")&&(n[n.length]=a);if(zr)for(o=vt.length-1;o>=0;)a=vt[o],Ve(a,t)&&!Ur(n,a)&&(n[n.length]=a),o-=1;return n}),bt=Fr,Kr=oe(function(t){return t===null?"Null":t===void 0?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}),_t=Kr;function St(e){for(var t=[],a;!(a=e.next()).done;)t.push(a.value);return t}function Tt(e,t,a){for(var o=0,n=a.length;o<n;){if(e(t,a[o]))return!0;o+=1}return!1}function Wr(e){var t=String(e).match(/^function (\w*)/);return t==null?"":t[1]}function Yr(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var et=typeof Object.is=="function"?Object.is:Yr;function Ct(e,t,a,o){var n=St(e),l=St(t);function u(c,p){return at(c,p,a.slice(),o.slice())}return!Tt(function(c,p){return!Tt(u,p,c)},l,n)}function at(e,t,a,o){if(et(e,t))return!0;var n=_t(e);if(n!==_t(t)||e==null||t==null)return!1;if(typeof e["fantasy-land/equals"]=="function"||typeof t["fantasy-land/equals"]=="function")return typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t)&&typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e);if(typeof e.equals=="function"||typeof t.equals=="function")return typeof e.equals=="function"&&e.equals(t)&&typeof t.equals=="function"&&t.equals(e);switch(n){case"Arguments":case"Array":case"Object":if(typeof e.constructor=="function"&&Wr(e.constructor)==="Promise")return e===t;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof t&&et(e.valueOf(),t.valueOf())))return!1;break;case"Date":if(!et(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(!(e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.sticky===t.sticky&&e.unicode===t.unicode))return!1;break}for(var l=a.length-1;l>=0;){if(a[l]===e)return o[l]===t;l-=1}switch(n){case"Map":return e.size!==t.size?!1:Ct(e.entries(),t.entries(),a.concat([e]),o.concat([t]));case"Set":return e.size!==t.size?!1:Ct(e.values(),t.values(),a.concat([e]),o.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var u=bt(e);if(u.length!==bt(t).length)return!1;var c=a.concat([e]),p=o.concat([t]);for(l=u.length-1;l>=0;){var m=u[l];if(!(Ve(m,t)&&at(t[m],e[m],c,p)))return!1;l-=1}return!0}var Vr=De(function(t,a){return at(t,a,[],[])}),zt=Vr;function Xr(e){return Object.prototype.toString.call(e)==="[object Object]"}var Gr=oe(function(t){return t!=null&&typeof t["fantasy-land/empty"]=="function"?t["fantasy-land/empty"]():t!=null&&t.constructor!=null&&typeof t.constructor["fantasy-land/empty"]=="function"?t.constructor["fantasy-land/empty"]():t!=null&&typeof t.empty=="function"?t.empty():t!=null&&t.constructor!=null&&typeof t.constructor.empty=="function"?t.constructor.empty():qr(t)?[]:$r(t)?"":Xr(t)?{}:Bt(t)?function(){return arguments}():void 0}),Jr=Gr,Qr=oe(function(t){return t!=null&&zt(t,Jr(t))}),Dt=Qr,Zr=jr(function(t,a,o){return zt(a,o[t])}),Pe=Zr,Ut=typeof setImmediate!="undefined"?setImmediate:typeof process!="undefined"?process.nextTick:setTimeout,en=B;function B(e,t){this.fork=e,this.cleanup=t||function(){}}B.prototype.of=function(t){return new B(function(a,o){return o(t)})};B.of=B.prototype.of;B.prototype.rejected=function(t){return new B(function(a){return a(t)})};B.rejected=B.prototype.rejected;B.prototype.map=function(t){var a=this.fork,o=this.cleanup;return new B(function(n,l){return a(function(u){return n(u)},function(u){return l(t(u))})},o)};B.prototype.chain=function(t){var a=this.fork,o=this.cleanup;return new B(function(n,l){return a(function(u){return n(u)},function(u){return t(u).fork(n,l)})},o)};B.prototype.ap=function(t){var a=this.fork,o=t.fork,n=this.cleanup,l=t.cleanup;function u(c){n(c[0]),l(c[1])}return new B(function(c,p){var m,E=!1,b,T=!1,D=!1,P,C=a(J,F(function(j){E=!0,m=j})),$=o(J,F(function(j){T=!0,b=j}));function F(j){return function(k){if(!D)return j(k),E&&T?(Ut(function(){u(P)}),p(m(b))):k}}function J(j){if(!D)return D=!0,c(j)}return P=[C,$]},u)};B.prototype.concat=function(t){var a=this.fork,o=t.fork,n=this.cleanup,l=t.cleanup;function u(c){n(c[0]),l(c[1])}return new B(function(c,p){var m=!1,E,b=a(D(c),D(p)),T=o(D(c),D(p));return E=[b,T];function D(P){return function(C){if(!m)return m=!0,Ut(function(){u(E)}),P(C)}}},u)};B.empty=function(){return new B(function(){})};B.prototype.empty=B.empty;B.prototype.toString=function(){return"Task"};B.prototype.orElse=function(t){var a=this.fork,o=this.cleanup;return new B(function(n,l){return a(function(u){return t(u).fork(n,l)},function(u){return l(u)})},o)};B.prototype.fold=function(t,a){var o=this.fork,n=this.cleanup;return new B(function(l,u){return o(function(c){return u(t(c))},function(c){return u(a(c))})},n)};B.prototype.cata=function(t){return this.fold(t.Rejected,t.Resolved)};B.prototype.swap=function(){var t=this.fork,a=this.cleanup;return new B(function(o,n){return t(function(l){return n(l)},function(l){return o(l)})},a)};B.prototype.bimap=function(t,a){var o=this.fork,n=this.cleanup;return new B(function(l,u){return o(function(c){return l(t(c))},function(c){return u(a(c))})},n)};B.prototype.rejectedMap=function(t){var a=this.fork,o=this.cleanup;return new B(function(n,l){return a(function(u){return n(t(u))},function(u){return l(u)})},o)};var Ft=en;const tn="https://shopper.deno.dev/",rn={"Content-Type":"application/json"},nn=e=>t=>a=>t(JSON.parse(JSON.stringify(a))),an=e=>t=>a=>t(a),Ye=e=>t=>a=>o=>new Ft((n,l)=>d.request({method:e,url:tn+a,headers:rn,body:o,withCredentials:!1}).then(an()(l),nn()(n))),on={getTask:(e,t)=>Ye("GET")(e)(t)(),postTask:(e,t,a)=>Ye("POST")(e)(t)(a),putTask:(e,t,a)=>Ye("PUT")(e)(t)(a),deleteTask:(e,t)=>Ye("DELETE")(e)(t)()},Kt=()=>"xxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,a=e=="x"?t:t&3|8;return a.toString(16)}),Wt=e=>t=>(console.log(e,t),t);window.log=Wt;const sn=["Of Them","Boxe(s)","Can(s)","gram(s)","kilogram(s)","pound(s)","liter(s)","mliter(s)","ounce(s)"],ln=e=>{var t;return e.stores.find(Pe("id",(t=e.currentStore)==null?void 0:t.id))||e.stores[0]},Le=e=>{const t=u=>u.http.getTask(u,"stores"),a=u=>u.http.getTask(u,"cats"),o=u=>u.http.getTask(u,"items"),n=({stores:u,cats:c,items:p})=>{let m=c.map(E=>(E.items=p.filter(Pe("catId",E.id)).sort((b,T)=>b.order-T.order).reverse(),E)).sort((E,b)=>E.order-b.order);return{cats:m,stores:u.map(E=>(E.cats=m.filter(Pe("storeId",E.id)).sort((b,T)=>b.order-T.order),E)),items:p}},l=({stores:u,cats:c,items:p})=>{e.stores=u,e.cats=c,e.items=p.reverse(),e.currentStore=ln(e)};Ft.of(u=>c=>p=>n({stores:u,cats:c,items:p})).ap(t(e)).ap(a(e)).ap(o(e)).fork(Wt("error"),l)},un=({catId:e,title:t,notes:a,quantity:o,unit:n,price:l,order:u})=>({id:Kt(),title:t,notes:a,catId:e,order:u,quantity:o,unit:n,price:l,notes:a,purchased:!1}),cn=(e,t=0)=>({title:e,id:Kt(),order:t}),Ke={state:{},http:on,settings:{},state:{dragging:{isDragging:!0,item:"",swapItem:""},catIds:[],items:[],showModal:!1,modalContent:null},stores:[],cats:[],items:[],currentStore:null},ot=e=>{e.state.showModal=!1,e.state.modalContent=null},fn=(e,t)=>{let a=cn(t.title);const o=log("error"),n=l=>{t.title="",e.state.showModal=!1,e.state.modalContent=null,Le(e)};e.http.postTask(e,"stores",a).fork(o,n)},Yt=()=>{const e={title:""};return{view:({attrs:{mdl:t}})=>d("form.w3-container.w3-card.w3-white.w3-animate-zoom",{onsubmit:a=>a.preventDefault()},d(".w3-section",d("label",d("b","Store Title")),d("input.w3-input.w3-border-bottom",{oncreate:({dom:a})=>{a.select(),a.focus()},type:"text",value:e.title,oninput:a=>e.title=a.target.value})),d("button.w3-button.w3-block.w3-orange.w3-section.w3-padding",{onclick:()=>fn(t,e)},"add"))}},pn=(e,t)=>e.cats.find(Pe("id",t)).items.length,hn=(e,t,a)=>{const{catId:o,title:n,notes:l,order:u,quantity:c,unit:p,price:m,id:E}=t;let b=a?{catId:o,title:n,notes:l,order:u,quantity:c,unit:p,price:m,id:E}:un({catId:o,title:n,notes:l,order:pn(e,o),quantity:c,unit:p,price:m});const T=P=>{t={catId:o,title:"",notes:"",order:0,quantity:"",unit:"",price:0},Le(e),ot(e)};return((P,C)=>a?P.http.postTask(P,"items",C):P.http.putTask(P,`items/${C.id}`,C))(e,b).fork(log("error"),T)},gn=(e,t)=>e.http.deleteTask(e,`items/${t}`).fork(log("err"),()=>{Le(e),ot(e)}),st=({attrs:{mdl:e,catId:t,item:a,isEdit:o}})=>{const n={catId:t,catTitle:"",title:"",notes:"",order:"",quantity:"",unit:"",price:""};return t&&(n.catTitle=e.cats.find(Pe("id",t)).title),o&&(n.catId=a.catId,n.title=a.title,n.notes=a.notes,n.order=a.order,n.quantity=a.quantity,n.unit=a.unit,n.price=a.price,n.id=a.id),{view:({attrs:{mdl:l}})=>{var u;return d("form.w3-container.w3-card.w3-white.w3-animate-zoom",{onsubmit:c=>c.preventDefault()},d(".w3-section",d("button.w3-button.w3-black.w3-border-black.w3-text-white",{style:{position:"absolute",top:"-50px"},onclick:()=>ot(l)},d.trust("&#10005;"))),d(".w3-section",d("label",d("b","Title")),d("input.w3-input.w3-border-bottom",{oncreate:({dom:c})=>{c.select(),c.focus()},type:"text",value:n.title,oninput:c=>n.title=c.target.value})),d(".w3-section",d("label",d("b","Category")),d("select.w3-input.w3-border-bottom",{value:((u=l.cats.find(Pe("id",n.catId)))==null?void 0:u.title)||"",onchange:c=>{n.catTitle=c.target.value,n.catId=l.cats.find(Pe("title",n.catTitle)).id}},l.cats.map(c=>d(`option#${c.id}`,c.title)))),d(".w3-section",d("label",d("b","Quantity")),d("input.w3-input.w3-border-bottom",{type:"number",value:n.quantity,pattern:"[0-9]*",inputmode:"numeric",oninput:c=>n.quantity=c.target.value})),d(".w3-section",d("label",d("b","Unit")),d("select.w3-input.w3-border-bottom",{value:n.unit,onchange:c=>n.unit=c.target.value},sn.map(c=>d("option",c)))),d(".w3-section",d("label",d("b","Price")),d("input.w3-input.w3-border-bottom",{pattern:"[0-9]*",inputmode:"numeric",value:n.price,oninput:c=>n.price=c.target.value})),d(".w3-section",d("label",d("b","Notes")),d("textarea.w3-input.w3-border-bottom",{oninput:c=>n.notes=c.target.value},n.notes)),d("button.w3-button.w3-block.w3-orange.w3-margin-bottom",{onclick:()=>hn(l,n,o)},o?"Update":"Add"),o&&d("button.w3-button.w3-red.w3-margin-top.w3-left",{onclick:()=>gn(l,a.id)},"Delete"))}}},Ue=new Set,dn=(e,t)=>{e.http.deleteTask(e,`stores/${t}`).fork(log("error deleteing"),()=>Le(e))},mn=(e,t)=>{e.http.deleteTask(e,`cats/${t}`).fork(log("error deleteing"),()=>Le(e))},yn=(e,t)=>Promise.resolve(e.setCat(t)),Ot=(e,t,a)=>Promise.resolve(e.currentStore=a).then(()=>t.toggleSideBar(t)),wn=()=>({view:({attrs:{mdl:e,state:t}})=>d(".w3-sidebar#sidebar.w3-bar-block.w3-collapse.w3-card.w3-animate-left",{style:{width:e.settings.profile=="desktop"?"300px":"90%",display:t.sidebar.open?"block":"none"}},e.settings.profile!="desktop"&&d("button.w3-bar-item.w3-button.w3-large",{onclick:()=>t.toggleSideBar(t)},"Close "),d("button.w3-button.w3-orange",{onclick:()=>{e.state.modalContent=d(Yt,{mdl:e}),e.state.showModal=!0}},"New Store"),e.stores.map((a,o)=>d(".w3-right-align.w3-row",{key:a.id},d("button.w3-button.w3-left-align.w3-col",{class:e.currentStore.id==a.id?"w3-leftbar w3-border-orange w3-border-10":"",onclick:n=>{n.stopPropagation(),Ot(e,t,a)}},d(".w3-left-align.w3-col.s4",d("button.pointer.w3-badge.w3-pink.w3-border-0.w3-circle.w3-hover-red.w3-left-align",{onclick:n=>{n.stopPropagation(),dn(e,a.id)}},"x")),d("label.w3-label.w3-col.s4.w3-left-align.pointer",a.title),!Dt(a.cats)&&d(".w3-col.s4.w3-right-align",{onclick:n=>{n.stopPropagation(),Ue.has(a.id)?Ue.delete(a.id):Ue.add(a.id)}},d("i.w3-btn.w3-circle",Ue.has(a.id)?"V":">"))),!Dt(a.cats)&&d("ul.w3-list",{class:Ue.has(a.id)?"w3-show":"w3-hide",id:a.id},a.cats.map((n,l)=>{var u;return d(".w3-list-item.pointer.w3-row",{key:n.id,onclick:()=>{yn(t,n.id).then(()=>Ot(e,t,a))}},d("button.pointer.w3-badge.w3-pink.w3-border-0.w3-circle.w3-hover-red.w3-left-align",{onclick:c=>{c.stopPropagation(),mn(e,n.id)}},"x"),d("label.w3-col s4",n.title),d(".w3-right-align.w3-col s4",d(".w3-tag w3-orange",(u=n.issues)==null?void 0:u.length)))})))))}),vn=()=>({view:({attrs:{mdl:e,state:t}})=>d("nav.w3-fixed.w3-container",e.currentStore&&d(".w3-bar",d("button.w3-button.w3-hide-large.w3-border.w3-bar-item.w3-left",{onclick:()=>t.toggleSideBar(t)},"MENU"),d(".w3-bar-item",e.currentStore.title),d("button.w3-button.w3-border.w3-bar-item.w3-right",{onclick:()=>{e.state.modalContent=d(st,{mdl:e,catId:null}),e.state.showModal=!0}},"Add an Item"),e.state.dragging.isDragging&&d("button.w3-block.w3-button.w3-green",{onclick:()=>e.state.dragging.isDragging=!1},"Save Changes")))}),En=(e,t)=>a=>{console.log(DragDropTouch),a.preventDefault();const o=()=>{Le(e),t.highlight=!1,e.state.dragging.item=null,e.state.dragging.swapItem=null};return e.state.dragging.item.order=e.state.dragging.swapItem.order,e.http.putTask(e,`items/${e.state.dragging.item.id}`,e.state.dragging.item).fork(log("error"),o),e},bn=(e,t,a)=>o=>{t.highlight=!0,e.state.dragging.swapItem=a,o.preventDefault()},_n=(e,t,a)=>o=>(t.highlight=!0,e.state.dragging.swapItem=a,o.preventDefault(),!0),Sn=e=>t=>(e.highlight=!1,t.preventDefault(),!0),Tn=(e,t,a)=>o=>(t.highlight=!1,e.state.dragging.swapItem=a,o.preventDefault(),!0),Cn=(e,t)=>{e.state.showModal=!0,e.state.modalContent=d(st,{catId:t.catId,mdl:e,item:t,isEdit:!0})},Dn=(e,t,a)=>{t.left=!0,Cn(e,a),lt(e,t)},On=(e,t,a)=>{t.right=!0,e.state.dragging.isDragging=!e.state.dragging.isDragging,lt(e,t)},lt=(e,t,a)=>{t.left=!1,t.right=!1},Pn=e=>e.classList.contains("swipe-container"),Vt=e=>Pn(e)?e:Vt(e.parentElement),Ln=({leftAction:e,rightAction:t,resetAction:a},o)=>{const n=Vt(o.target),l=n.clientWidth*30/100,u=n.scrollLeft-n.clientWidth;u<l*-1?e():u>l?t():a()},An=(e,t,a)=>o=>{e.state.dragging.isDragging||Ln({leftAction:()=>Dn(e,t,a),rightAction:()=>On(e,t),resetAction:()=>lt(e,t)},o)},In=()=>{const e={highlight:!1};return{view:({attrs:{item:t,mdl:a}})=>(console.log(a.state.dragging.isDragging),d("li.w3-li.w3-leftbar.w3-border-bottom",{id:t.id,draggable:a.state.dragging.isDragging,style:{height:"80px"},ondrop:En(a,e),ondragover:bn(a,e,t),ondragenter:_n(a,e,t),ondragend:Tn(a,e,t),ondragleave:Sn(e),ondragstart:()=>a.state.dragging.item=t},d(".swipe-container",{ontouchend:An(a,e,t)},d(".swipe-action.swipe-left",d("icon",d.trust("&#9997;"))),d(".swipe-element",d("img.w3-left",{src:t.img,style:{maxWidth:"85px"}}),d(".w3-block",{style:{fontSize:"1.2rem"}},t.title),d(".w3-bar",d(".w3-bar-item",t.quantity>0&&d("",`${t.quantity} ${t.unit}`)),d(".w3-bar-item",t.price>0&&d("",`$ ${t.price}`)))),d(".swipe-action.swipe-right",d("icon",d.trust("&#9888;"))))))}};var Xt={exports:{}};/*@preserve
 * Dragster - drag'n'drop library v1.6.2
 * https://github.com/sunpietro/dragster
 *
 * Copyright 2015-2017 Piotr Nalepa
 * http://blog.piotrnalepa.pl
 *
 * Released under the MIT license
 * https://github.com/sunpietro/dragster/blob/master/LICENSE
 *
 * Date: 2017-06-28T22:30Z
 */(function(e,t){(function(a,o,n){e.exports=n()})(Ce,"Dragster",function(){var a=function(o){var n="dragster-",l="is-dragging",u="is-drag-over",c=n+"draggable",p=n+"drag-region",m=n+"drop-placeholder",E=n+"temp",b=E+"-container",T=n+"is-hidden",D=n+"replacable",P="touchstart",C="touchmove",$="touchend",F="mousedown",J="mousemove",j="mouseup",k="top",q="bottom",R="px",U="div",v=!1,N=!0,K=null,Q=function(){},x={elementSelector:".dragster-block",regionSelector:".dragster-region",dragHandleCssClass:v,dragOnlyRegionCssClass:n+"region--drag-only",replaceElements:v,updateRegionsHeight:N,minimumRegionHeight:60,onBeforeDragStart:Q,onAfterDragStart:Q,onBeforeDragMove:Q,onAfterDragMove:Q,onBeforeDragEnd:Q,onAfterDragEnd:Q,onAfterDragDrop:Q,scrollWindowOnDrag:v,dragOnlyRegionsEnabled:v,cloneElements:v,wrapDraggableElements:N,shadowElementUnderMouse:v},ue={top:v,bottom:v},ne={drag:{node:K},drop:{node:K},shadow:{node:K,top:0,left:0},placeholder:{node:K,position:K},dropped:K,clonedFrom:K,clonedTo:K},Y={},ce,se,fe,re,de,Ae,V,Ie,Z,ke,Ne,ve,Ee,Me,We,me,He,le,be,ye,_e,je,pe,i,r,s,h,g,y,L,M,S,z=window.innerHeight,ie=Math.floor((1+Math.random())*65536).toString(16);for(ce in o)o.hasOwnProperty(ce)&&(x[ce]=o[ce]);return _e=function(){return[].slice.call(document.querySelectorAll(x.elementSelector))},je=function(){return[].slice.call(document.querySelectorAll(x.regionSelector))},pe=function(f){if(x.wrapDraggableElements===v)return console.warn(`You have disabled the default behavior of wrapping the draggable elements. If you want Dragster.js to work properly you still will have to do this manually.

More info: https://github.com/sunpietro/dragster/blob/master/README.md#user-content-wrapdraggableelements---boolean`),v;f.forEach(function(w){var _=Me(),O=w.parentNode;if(O.classList.contains(c))return v;O.insertBefore(_,w),O.removeChild(w),_.appendChild(w)})},Ie=_e(),se=je(),x.replaceElements&&(Ae=document.createElement(U),Ae.classList.add(T),Ae.classList.add(b),document.body.appendChild(Ae)),fe=function(f,w){var _=f.parentNode;if(!(!_||f.classList&&f.classList.contains(p)&&!f.classList.contains(x.dragOnlyRegionCssClass)))return w(f)?f:w(_)?_:fe(_,w)},le=function(f){var w=[].slice.call(document.getElementsByClassName(f));w.forEach(function(_){_.dataset.dragsterId===ie&&_.parentNode.removeChild(_)})},be=function(f,w){w&&(se.forEach(function(_){_.removeEventListener(w,Z.mousemove)}),document.body.removeEventListener(w,Z.mousemove)),f&&f.classList.remove(l),[].slice.call(document.getElementsByClassName(c)).forEach(function(_){_.firstChild||_.parentNode.removeChild(_)}),le(m),le(E),i()},ye=function(){[].slice.call(document.getElementsByClassName(D)).forEach(function(f){f.classList.remove(D)})},Me=function(){var f=document.createElement(U);return f.classList.add(c),f.dataset.dragsterId=ie,f},me=function(){var f=document.createElement(U);return f.classList.add(m),f.dataset.dragsterId=ie,f},We=function(){var f=document.createElement(U);return f.classList.add(E),f.classList.add(T),f.style.position="fixed",f.dataset.dragsterId=ie,document.body.appendChild(f),f},ve=function(f,w){if(f&&f.parentNode){var _=x.wrapDraggableElements===v?f:f.nextSibling;f.parentNode.insertBefore(w,_)}},Ee=function(f,w){f&&f.parentNode&&f.parentNode.insertBefore(w,f)},ke=function(f){return f.classList&&f.classList.contains(c)&&f.dataset.dragsterId===ie},Ne=function(f){return f.classList&&f.classList.contains(x.dragOnlyRegionCssClass)},i=function(){if(x.updateRegionsHeight){var f=[].slice.call(document.getElementsByClassName(p));f.forEach(function(w){var _=[].slice.call(w.querySelectorAll(x.elementSelector)),O=x.minimumRegionHeight;!_.length||(_.forEach(function(A){var H=window.getComputedStyle(A);O+=A.offsetHeight+parseInt(H.marginTop,10)+parseInt(H.marginBottom,10)}),w.style.height=O+R)})}},h=function(f,w){be(V,f),be(V,w)},Z={mousedown:function(f){if(x.dragHandleCssClass&&(typeof x.dragHandleCssClass!="string"||!f.target.classList.contains(x.dragHandleCssClass)))return v;var w,_,O,A=f.type===P,H=f.changedTouches?f.changedTouches[0]:f;if(Y=JSON.parse(JSON.stringify(ne)),f.dragster=Y,x.onBeforeDragStart(f)===v||f.which===3||(f.preventDefault(),V=fe(f.target,ke),!V))return v;_=A?C:J,O=A?$:j,se.forEach(function(I){I.addEventListener(_,Z.mousemove,v),I.addEventListener(O,Z.mouseup,v)}),document.body.addEventListener(_,Z.mousemove,v),document.body.addEventListener(O,Z.mouseup,v),w=V.getBoundingClientRect(),L=w.left-H.clientX,M=w.top-H.clientY,re=We(),re.innerHTML=V.innerHTML,re.style.width=w.width+R,re.style.height=w.height+R,re.dataset.dragsterId=ie,de=re.getBoundingClientRect(),V.classList.add(l),Y.drag.node=V,Y.shadow.node=re,f.dragster=Y,x.onAfterDragStart(f)},mousemove:function(f){if(f.dragster=Y,x.onBeforeDragMove(f)===v||!de)return v;f.preventDefault();var w=f.changedTouches?f.changedTouches[0]:f,_=w.view?w.view.pageXOffset:0,O=w.view?w.view.pageYOffset:0,A=w.clientY+O,H=w.clientX+_,I=document.elementFromPoint(w.clientX,w.clientY),ae=fe(I,ke),he=x.shadowElementUnderMouse?w.clientY+M:w.clientY,qe=x.shadowElementUnderMouse?H+L:H-de.width/2,Se=Y.drag.node&&Y.drag.node.dataset,$e=!!(ae&&fe(ae,Ne)),W=I.dataset.dragsterId===ie,Te=I.classList.contains(p)&&W,Re=I.classList.contains(x.dragOnlyRegionCssClass)&&W,Be=I.classList.contains(m),ge=I.getElementsByClassName(c).length>0,ut=I.getElementsByClassName(m).length>0;clearTimeout(He),re.style.top=he+R,re.style.left=qe+R,re.classList.remove(T),Y.shadow.top=he,Y.shadow.left=qe,!Se&&!Te&&!Be?y.removePlaceholders():ae&&ae!==V&&!$e?(y.removePlaceholders(),y.addPlaceholderOnTarget(ae,A,O)):Te&&!Re&&!ge&&!ut?(y.removePlaceholders(),y.addPlaceholderInRegion(I)):Te&&!Re&&ge&&!ut&&(y.removePlaceholders(),y.addPlaceholderInRegionBelowTargets(I)),x.scrollWindowOnDrag&&r(f),i(),x.onAfterDragMove(f)},mouseup:function(f){f.dragster=Y;var w=f.type===P,_=w?C:J,O=w?$:j,A,H,I,ae,he;if(x.onBeforeDragEnd(f)===v||(A=x.replaceElements?D:m,H=document.getElementsByClassName(A)[0],ae=!!(V&&fe(V,Ne)),he=x.cloneElements&&ae,He=setTimeout(h,200),ye(),!V||!H))return h(_,O),v;I=fe(H,ke),I=I||H,V!==I&&(!x.replaceElements&&!he?(f.dragster=g.moveElement(f.dragster,H,I),x.onAfterDragDrop(f)):x.replaceElements&&!he?(f.dragster=g.replaceElements(f.dragster,I),x.onAfterDragDrop(f)):!x.replaceElements&&he&&(f.dragster=g.cloneElements(f.dragster,H,I),x.onAfterDragDrop(f)),I.classList.remove(u)),h(_,O),x.onAfterDragEnd(f)}},y={addPlaceholderOnTarget:function(f,w,_){var O=f.getBoundingClientRect(),A=me(),H=O.height/2;ye(),x.replaceElements?f.classList.add(D):w-_-O.top<H&&!ue.top?(le(m),A.dataset.placeholderPosition=k,Ee(f.firstChild,A),Y.placeholder.position=k):O.bottom-(w-_)<H&&!ue.bottom&&(le(m),A.dataset.placeholderPosition=q,f.appendChild(A),Y.placeholder.position=q),Y.placeholder.node=A,Y.drop.node=f},addPlaceholderInRegion:function(f){var w=me();f.appendChild(w),Y.placeholder.position=q,Y.placeholder.node=w,Y.drop.node=f},addPlaceholderInRegionBelowTargets:function(f){var w=[].slice.call(f.getElementsByClassName(c)),_=w.filter(function(H){return H.dataset.dragsterId===ie}),O=_[_.length-1],A=me();A.dataset.placeholderPosition=q,le(m),O.appendChild(A),Y.placeholder.position=q,Y.placeholder.node=A,Y.drop.node=O},removePlaceholders:function(){x.replaceElements?ye():le(m)}},g={moveElement:function(f,w,_){var O=x.wrapDraggableElements===v?V:Me(),A=w.dataset.placeholderPosition;return A===k?Ee(_,O):x.wrapDraggableElements===v?ve(O,_):ve(_,O),V.firstChild&&x.wrapDraggableElements===N&&O.appendChild(V.firstChild),f.dropped=O,f},replaceElements:function(f,w){var _=document.getElementsByClassName(b)[0];return _.innerHTML=V.innerHTML,V.innerHTML=w.innerHTML,w.innerHTML=_.innerHTML,_.innerHTML="",f.dropped=_,f},cloneElements:function(f,w,_){var O=V.cloneNode(!0),A=w.dataset.placeholderPosition;return A===k?Ee(_,O):ve(_,O),be(O),f.clonedFrom=V,f.clonedTo=O,f}},r=function(f){var w=f.changedTouches?f.changedTouches[0]:f,_=60;z-w.clientY<_?window.scrollBy(0,10):w.clientY<_&&window.scrollBy(0,-10)},s=function(){z=window.innerHeight},pe(Ie),S=function(){se.forEach(function(f){f.classList.add(p),f.dataset.dragsterId=ie,f.addEventListener(F,Z.mousedown,v),f.addEventListener(P,Z.mousedown,v)})},S(),window.addEventListener("resize",s,!1),{update:function(){Ie=_e(),pe(Ie),i(),s()},updateRegions:function(){se=je(),S()},destroy:function(){se.forEach(function(f){f.classList.remove(p),f.removeEventListener(F,Z.mousedown,v),f.removeEventListener(J,Z.mousemove,v),f.removeEventListener(j,Z.mouseup,v),f.removeEventListener(P,Z.mousedown,v),f.removeEventListener(C,Z.mousemove,v),f.removeEventListener($,Z.mouseup,v)}),document.body.removeEventListener(J,Z.mousemove,v),document.body.removeEventListener(C,Z.mousemove,v),document.body.removeEventListener(j,Z.mouseup,v),document.body.removeEventListener($,Z.mouseup,v),window.removeEventListener("resize",s,!1)}}};return a})})(Xt);var kn=Xt.exports;const Rn=({dom:e})=>{new kn({elementSelector:".dragster-block",regionSelector:".dragster-region",dragHandleCssClass:!1,replaceElements:!1,updateRegionsHeight:!0,minimumRegionHeight:60,scrollWindowOnDrag:!0,dragOnlyRegionsEnabled:!1,cloneElements:!1,wrapDraggableElements:!0,shadowElementUnderMouse:!1})},xn=({attrs:{mdl:e,cat:t}})=>{const a={catId:t.id,title:t.title,items:t.items,isSelected:!1,togglePinSection:{onclick:()=>a.isSelected=!a.isSelected}};return{oncreate:Rn,view:({attrs:{cat:o,mdl:n,key:l}})=>d("section.w3-section.w3-border-left",{key:l,id:o.id},d(".w3-bar",{style:{position:"-webkit-sticky",position:"sticky",backgroundColor:"white"}},d("p.w3-right",{style:{padding:"0 16px"}},o.title.toUpperCase()),d("button.w3-btn w3-border-none w3-padding.w3-left",{onclick:()=>{n.state.modalContent=d(st,{mdl:n,catId:o.id}),n.state.showModal=!0}},d("strong","+"))),d(".w3-ul",o.items.map((u,c)=>d(In,{key:u.id,item:u,mdl:n}))))}},Nn=()=>({view:({attrs:{mdl:e,state:t}})=>d("section.w3-section.w3-row w3-ul.w3-padding-row",{style:{height:"90dvh",overflowX:"hidden",overflowY:"auto"}},e.currentStore?e.currentStore.cats.map((a,o)=>d(xn,{key:o,cat:a,mdl:e,state:t})):d("section.w3-section",d("button.w3-border w3-button w3-panel.w3-display-middle w3-light-grey w3-col-1",{onclick:()=>{e.state.modalContent=d(Yt,{mdl:e}),e.state.showModal=!0}},"Create a Store to Begin")))}),Mn=({attrs:{mdl:e}})=>({view:()=>d(".w3-modal#modal",{onclick:t=>{t.target.id=="modal"&&(e.state.showModal=!1,e.state.modalContent=null)},style:{display:e.state.showModal?"block":"none"}},d("modal.w3-modal-content",d(".w3-container",e.state.modalContent)))});G.SKIP={};G.lift=qn;G.scan=Hn;G.merge=Gt;G.combine=Je;G.scanMerge=jn;G["fantasy-land/of"]=G;var Pt=!1;Object.defineProperty(G,"HALT",{get:function(){return Pt||console.log("HALT is deprecated and has been renamed to SKIP"),Pt=!0,G.SKIP}});function G(e){var t=[],a=[];function o(u){return arguments.length&&u!==G.SKIP&&(e=u,Lt(o)&&(o.changing(),o.state="active",t.forEach(function(c,p){c(a[p](e))}))),e}o.constructor=G,o.state=arguments.length&&e!==G.SKIP?"active":"pending",o.parents=[],o.changing=function(){Lt(o)&&(o.state="changing"),t.forEach(function(u){u.changing()})},o.map=function(u,c){var p=o.state==="active"&&c!==G.SKIP?G(u(e)):G();return p.parents.push(o),t.push(p),a.push(u),p};var n;function l(){return n=G(),n.map(function(u){return u===!0&&(o.parents.forEach(function(c){c.unregisterChild(o)}),o.state="ended",o.parents.length=t.length=a.length=0),u}),n}return o.toJSON=function(){return e!=null&&typeof e.toJSON=="function"?e.toJSON():e},o["fantasy-land/map"]=o.map,o["fantasy-land/ap"]=function(u){return Je(function(c,p){return c()(p())},[u,o])},o.unregisterChild=function(u){var c=t.indexOf(u);c!==-1&&(t.splice(c,1),a.splice(c,1))},Object.defineProperty(o,"end",{get:function(){return n||l()}}),o}function Je(e,t){var a=t.every(function(c){if(c.constructor!==G)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return c.state==="active"}),o=a?G(e.apply(null,t.concat([t]))):G(),n=[],l=t.map(function(c){return c.map(function(p){return n.push(c),(a||t.every(function(m){return m.state!=="pending"}))&&(a=!0,o(e.apply(null,t.concat([n]))),n=[]),p},G.SKIP)}),u=o.end.map(function(c){c===!0&&(l.forEach(function(p){p.end(!0)}),u.end(!0))});return o}function Gt(e){return Je(function(){return e.map(function(t){return t()})},e)}function Hn(e,t,a){var o=a.map(function(n){var l=e(t,n);return l!==G.SKIP&&(t=l),l});return o(t),o}function jn(e,t){var a=e.map(function(n){return n[0]}),o=Je(function(){var n=arguments[arguments.length-1];return a.forEach(function(l,u){n.indexOf(l)>-1&&(t=e[u][1](t,l()))}),t},a);return o(t),o}function qn(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Gt(t).map(function(a){return e.apply(void 0,a)})}function Lt(e){return e.state==="pending"||e.state==="active"||e.state==="changing"}const $n=e=>({maxHeight:"100dvh",overflow:"hidden",marginLeft:e.settings.profile=="desktop"?"300px":"0"}),Bn=e=>{const t={sidebar:{open:!1},setCat:G(null),toggleSideBar:a=>a.sidebar.open=!a.sidebar.open};return Le(e),{view:()=>d("page.w3-theme",d(Mn,{mdl:e}),d(wn,{mdl:e,state:t}),d("section.#main",{style:$n(e)},d(vn,{mdl:e,state:t}),d(Nn,{mdl:e,state:t})))}};window.DragDropTouch={};(function(e){var t=function(){function o(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(o.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(n){this._dropEffect=n},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(n){this._effectAllowed=n},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),o.prototype.clearData=function(n){n!==null?delete this._data[n.toLowerCase()]:this._data={}},o.prototype.getData=function(n){return this._data[n.toLowerCase()]||""},o.prototype.setData=function(n,l){this._data[n.toLowerCase()]=l},o.prototype.setDragImage=function(n,l,u){var c=a._instance;c._imgCustom=n,c._imgOffset={x:l,y:u}},o}();e.DataTransfer=t;var a=function(){function o(){if(this._lastClick=0,o._instance)throw"DragDropTouch instance already created.";var n=!1;if(document.addEventListener("test",function(){},{get passive(){return n=!0,!0}}),navigator.maxTouchPoints){var l=document,u=this._touchstart.bind(this),c=this._touchmove.bind(this),p=this._touchend.bind(this),m=n?{passive:!1,capture:!1}:!1;l.addEventListener("touchstart",u,m),l.addEventListener("touchmove",c,m),l.addEventListener("touchend",p),l.addEventListener("touchcancel",p)}}return o.getInstance=function(){return o._instance},o.prototype._touchstart=function(n){var l=this;if(this._shouldHandle(n)){if(Date.now()-this._lastClick<o._DBLCLICK&&this._dispatchEvent(n,"dblclick",n.target)){n.preventDefault(),this._reset();return}this._reset();var u=this._closestDraggable(n.target);u&&!this._dispatchEvent(n,"mousemove",n.target)&&!this._dispatchEvent(n,"mousedown",n.target)&&(this._dragSource=u,this._ptDown=this._getPoint(n),this._lastTouch=n,n.preventDefault(),setTimeout(function(){l._dragSource===u&&l._img===null&&l._dispatchEvent(n,"contextmenu",u)&&l._reset()},o._CTXMENU),o._ISPRESSHOLDMODE&&(this._pressHoldInterval=setTimeout(function(){l._isDragEnabled=!0,l._touchmove(n)},o._PRESSHOLDAWAIT)))}},o.prototype._touchmove=function(n){if(this._shouldCancelPressHoldMove(n)){this._reset();return}if(this._shouldHandleMove(n)||this._shouldHandlePressHoldMove(n)){var l=this._getTarget(n);if(this._dispatchEvent(n,"mousemove",l)){this._lastTouch=n,n.preventDefault();return}if(this._dragSource&&!this._img&&this._shouldStartDragging(n)){if(this._dispatchEvent(this._lastTouch,"dragstart",this._dragSource)){this._dragSource=null;return}this._createImage(n),this._dispatchEvent(n,"dragenter",l)}this._img&&(this._lastTouch=n,n.preventDefault(),this._dispatchEvent(n,"drag",this._dragSource),l!==this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(n,"dragenter",l),this._lastTarget=l),this._moveImage(n),this._isDropZone=this._dispatchEvent(n,"dragover",l))}},o.prototype._touchend=function(n){if(this._shouldHandle(n)){if(this._dispatchEvent(this._lastTouch,"mouseup",n.target)){n.preventDefault();return}this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",n.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(n.type.indexOf("cancel")<0&&this._isDropZone&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},o.prototype._shouldHandle=function(n){return n&&!n.defaultPrevented&&n.touches&&n.touches.length<2},o.prototype._shouldHandleMove=function(n){return!o._ISPRESSHOLDMODE&&this._shouldHandle(n)},o.prototype._shouldHandlePressHoldMove=function(n){return o._ISPRESSHOLDMODE&&this._isDragEnabled&&n&&n.touches&&n.touches.length},o.prototype._shouldCancelPressHoldMove=function(n){return o._ISPRESSHOLDMODE&&!this._isDragEnabled&&this._getDelta(n)>o._PRESSHOLDMARGIN},o.prototype._shouldStartDragging=function(n){var l=this._getDelta(n);return l>o._THRESHOLD||o._ISPRESSHOLDMODE&&l>=o._PRESSHOLDTHRESHOLD},o.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new t,clearInterval(this._pressHoldInterval)},o.prototype._getPoint=function(n,l){return n&&n.touches&&(n=n.touches[0]),{x:l?n.pageX:n.clientX,y:l?n.pageY:n.clientY}},o.prototype._getDelta=function(n){if(o._ISPRESSHOLDMODE&&!this._ptDown)return 0;var l=this._getPoint(n);return Math.abs(l.x-this._ptDown.x)+Math.abs(l.y-this._ptDown.y)},o.prototype._getTarget=function(n){for(var l=this._getPoint(n),u=document.elementFromPoint(l.x,l.y);u&&getComputedStyle(u).pointerEvents=="none";)u=u.parentElement;return u},o.prototype._createImage=function(n){this._img&&this._destroyImage();var l=this._imgCustom||this._dragSource;if(this._img=l.cloneNode(!0),this._copyStyle(l,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var u=l.getBoundingClientRect(),c=this._getPoint(n);this._imgOffset={x:c.x-u.left,y:c.y-u.top},this._img.style.opacity=o._OPACITY.toString()}this._moveImage(n),document.body.appendChild(this._img)},o.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},o.prototype._moveImage=function(n){var l=this;requestAnimationFrame(function(){if(l._img){var u=l._getPoint(n,!0),c=l._img.style;c.position="absolute",c.pointerEvents="none",c.zIndex="999999",c.left=Math.round(u.x-l._imgOffset.x)+"px",c.top=Math.round(u.y-l._imgOffset.y)+"px"}})},o.prototype._copyProps=function(n,l,u){for(var c=0;c<u.length;c++){var p=u[c];n[p]=l[p]}},o.prototype._copyStyle=function(n,l){if(o._rmvAtts.forEach(function(b){l.removeAttribute(b)}),n instanceof HTMLCanvasElement){var u=n,c=l;c.width=u.width,c.height=u.height,c.getContext("2d").drawImage(u,0,0)}for(var p=getComputedStyle(n),m=0;m<p.length;m++){var E=p[m];E.indexOf("transition")<0&&(l.style[E]=p[E])}l.style.pointerEvents="none";for(var m=0;m<n.children.length;m++)this._copyStyle(n.children[m],l.children[m])},o.prototype._dispatchEvent=function(n,l,u){if(n&&u){var c=document.createEvent("Event"),p=n.touches?n.touches[0]:n;return c.initEvent(l,!0,!0),c.button=0,c.which=c.buttons=1,this._copyProps(c,n,o._kbdProps),this._copyProps(c,p,o._ptProps),c.dataTransfer=this._dataTransfer,u.dispatchEvent(c),c.defaultPrevented}return!1},o.prototype._closestDraggable=function(n){for(;n;n=n.parentElement)if(n.hasAttribute("draggable")&&n.draggable)return n;return null},o}();a._instance=new a,a._THRESHOLD=5,a._OPACITY=.5,a._DBLCLICK=500,a._CTXMENU=900,a._ISPRESSHOLDMODE=!1,a._PRESSHOLDAWAIT=400,a._PRESSHOLDMARGIN=25,a._PRESSHOLDTHRESHOLD=0,a._rmvAtts="id,class,style,draggable".split(","),a._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),a._ptProps="pageX,pageY,clientX,clientY,screenX,screenY,offsetX,offsetY".split(","),e.DragDropTouch=a})(DragDropTouch||(DragDropTouch={}));const zn=document.body;let Jt=window.innerWidth;"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./service-worker.js").then(e=>{console.log("\u2699\uFE0F SW registered: ",e)}).catch(e=>{console.log("\u{1F9DF} SW registration failed: ",e)})});const Qt=e=>e<=411?"phone":e<=990?"tablet":"desktop",Zt=e=>{const t=window.innerWidth;if(e!==t){e=t;var a=Ke.settings.profile;Ke.settings.profile=Qt(t),a!=Ke.settings.profile&&d.redraw()}return requestAnimationFrame(Zt)};Ke.settings.profile=Qt(Jt);Zt(Jt);d.mount(zn,Bn(Ke));
