const Xe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&u(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function u(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}};Xe();var ot=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function rt(t,e,i,u,o,c){return{tag:t,key:e,attrs:i,children:u,text:o,dom:c,domSize:void 0,state:void 0,events:void 0,instance:void 0}}rt.normalize=function(t){return Array.isArray(t)?rt("[",void 0,void 0,rt.normalizeChildren(t),void 0,void 0):t==null||typeof t=="boolean"?null:typeof t=="object"?t:rt("#",void 0,void 0,String(t),void 0,void 0)};rt.normalizeChildren=function(t){var e=[];if(t.length){for(var i=t[0]!=null&&t[0].key!=null,u=1;u<t.length;u++)if((t[u]!=null&&t[u].key!=null)!==i)throw new TypeError(i&&(t[u]!=null||typeof t[u]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var u=0;u<t.length;u++)e[u]=rt.normalize(t[u])}return e};var Z=rt,Ye=Z,be=function(){var t=arguments[this],e=this+1,i;if(t==null?t={}:(typeof t!="object"||t.tag!=null||Array.isArray(t))&&(t={},e=this),arguments.length===e+1)i=arguments[e],Array.isArray(i)||(i=[i]);else for(i=[];e<arguments.length;)i.push(arguments[e++]);return Ye("",t.key,t,i)},Tt={}.hasOwnProperty,Ze=Z,tr=be,ft=Tt,er=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,ve={};function Yt(t){for(var e in t)if(ft.call(t,e))return!1;return!0}function rr(t){for(var e,i="div",u=[],o={};e=er.exec(t);){var c=e[1],f=e[2];if(c===""&&f!=="")i=f;else if(c==="#")o.id=f;else if(c===".")u.push(f);else if(e[3][0]==="["){var l=e[6];l&&(l=l.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),e[4]==="class"?u.push(l):o[e[4]]=l===""?l:l||!0}}return u.length>0&&(o.className=u.join(" ")),ve[t]={tag:i,attrs:o}}function nr(t,e){var i=e.attrs,u=ft.call(i,"class"),o=u?i.class:i.className;if(e.tag=t.tag,e.attrs={},!Yt(t.attrs)&&!Yt(i)){var c={};for(var f in i)ft.call(i,f)&&(c[f]=i[f]);i=c}for(var f in t.attrs)ft.call(t.attrs,f)&&f!=="className"&&!ft.call(i,f)&&(i[f]=t.attrs[f]);(o!=null||t.attrs.className!=null)&&(i.className=o!=null?t.attrs.className!=null?String(t.attrs.className)+" "+String(o):o:t.attrs.className!=null?t.attrs.className:null),u&&(i.class=null);for(var f in i)if(ft.call(i,f)&&f!=="key"){e.attrs=i;break}return e}function ir(t){if(t==null||typeof t!="string"&&typeof t!="function"&&typeof t.view!="function")throw Error("The selector must be either a string or a component.");var e=tr.apply(1,arguments);return typeof t=="string"&&(e.children=Ze.normalizeChildren(e.children),t!=="[")?nr(ve[t]||rr(t),e):(e.tag=t,e)}var Te=ir,ar=Z,ur=function(t){return t==null&&(t=""),ar("<",void 0,void 0,t,void 0,void 0)},or=Z,fr=be,cr=function(){var t=fr.apply(0,arguments);return t.tag="[",t.children=or.normalizeChildren(t.children),t},Mt=Te;Mt.trust=ur;Mt.fragment=cr;var lr=Mt,gt={exports:{}},H=function(t){if(!(this instanceof H))throw new Error("Promise must be called with 'new'.");if(typeof t!="function")throw new TypeError("executor must be a function.");var e=this,i=[],u=[],o=p(i,!0),c=p(u,!1),f=e._instance={resolvers:i,rejectors:u},l=typeof setImmediate=="function"?setImmediate:setTimeout;function p(y,d){return function v(k){var S;try{if(d&&k!=null&&(typeof k=="object"||typeof k=="function")&&typeof(S=k.then)=="function"){if(k===e)throw new TypeError("Promise can't be resolved with itself.");m(S.bind(k))}else l(function(){!d&&y.length===0&&console.error("Possible unhandled promise rejection:",k);for(var T=0;T<y.length;T++)y[T](k);i.length=0,u.length=0,f.state=d,f.retry=function(){v(k)}})}catch(T){c(T)}}}function m(y){var d=0;function v(S){return function(T){d++>0||S(T)}}var k=v(c);try{y(v(o),k)}catch(S){k(S)}}m(t)};H.prototype.then=function(t,e){var i=this,u=i._instance;function o(p,m,y,d){m.push(function(v){if(typeof p!="function")y(v);else try{c(p(v))}catch(k){f&&f(k)}}),typeof u.retry=="function"&&d===u.state&&u.retry()}var c,f,l=new H(function(p,m){c=p,f=m});return o(t,u.resolvers,c,!0),o(e,u.rejectors,f,!1),l};H.prototype.catch=function(t){return this.then(null,t)};H.prototype.finally=function(t){return this.then(function(e){return H.resolve(t()).then(function(){return e})},function(e){return H.resolve(t()).then(function(){return H.reject(e)})})};H.resolve=function(t){return t instanceof H?t:new H(function(e){e(t)})};H.reject=function(t){return new H(function(e,i){i(t)})};H.all=function(t){return new H(function(e,i){var u=t.length,o=0,c=[];if(t.length===0)e([]);else for(var f=0;f<t.length;f++)(function(l){function p(m){o++,c[l]=m,o===u&&e(c)}t[l]!=null&&(typeof t[l]=="object"||typeof t[l]=="function")&&typeof t[l].then=="function"?t[l].then(p,i):p(t[l])})(f)})};H.race=function(t){return new H(function(e,i){for(var u=0;u<t.length;u++)t[u].then(e,i)})};var ke=H,pt=ke;typeof window!="undefined"?(typeof window.Promise=="undefined"?window.Promise=pt:window.Promise.prototype.finally||(window.Promise.prototype.finally=pt.prototype.finally),gt.exports=window.Promise):typeof ot!="undefined"?(typeof ot.Promise=="undefined"?ot.Promise=pt:ot.Promise.prototype.finally||(ot.Promise.prototype.finally=pt.prototype.finally),gt.exports=ot.Promise):gt.exports=pt;var Lt=Z,sr=function(t){var e=t&&t.document,i,u={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function o(n){return n.attrs&&n.attrs.xmlns||u[n.tag]}function c(n,r){if(n.state!==r)throw new Error("'vnode.state' must not be modified.")}function f(n){var r=n.state;try{return this.apply(r,arguments)}finally{c(n,r)}}function l(){try{return e.activeElement}catch{return null}}function p(n,r,a,s,h,w,E){for(var A=a;A<s;A++){var b=r[A];b!=null&&m(n,b,h,E,w)}}function m(n,r,a,s,h){var w=r.tag;if(typeof w=="string")switch(r.state={},r.attrs!=null&&At(r.attrs,r,a),w){case"#":y(n,r,h);break;case"<":v(n,r,s,h);break;case"[":k(n,r,a,s,h);break;default:S(n,r,a,s,h)}else q(n,r,a,s,h)}function y(n,r,a){r.dom=e.createTextNode(r.children),Y(n,r.dom,a)}var d={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function v(n,r,a,s){var h=r.children.match(/^\s*?<(\w+)/im)||[],w=e.createElement(d[h[1]]||"div");a==="http://www.w3.org/2000/svg"?(w.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+r.children+"</svg>",w=w.firstChild):w.innerHTML=r.children,r.dom=w.firstChild,r.domSize=w.childNodes.length,r.instance=[];for(var E=e.createDocumentFragment(),A;A=w.firstChild;)r.instance.push(A),E.appendChild(A);Y(n,E,s)}function k(n,r,a,s,h){var w=e.createDocumentFragment();if(r.children!=null){var E=r.children;p(w,E,0,E.length,a,null,s)}r.dom=w.firstChild,r.domSize=w.childNodes.length,Y(n,w,h)}function S(n,r,a,s,h){var w=r.tag,E=r.attrs,A=E&&E.is;s=o(r)||s;var b=s?A?e.createElementNS(s,w,{is:A}):e.createElementNS(s,w):A?e.createElement(w,{is:A}):e.createElement(w);if(r.dom=b,E!=null&&Fe(r,E,s),Y(n,b,h),!Bt(r)&&r.children!=null){var N=r.children;p(b,N,0,N.length,a,null,s),r.tag==="select"&&E!=null&&Ke(r,E)}}function T(n,r){var a;if(typeof n.tag.view=="function"){if(n.state=Object.create(n.tag),a=n.state.view,a.$$reentrantLock$$!=null)return;a.$$reentrantLock$$=!0}else{if(n.state=void 0,a=n.tag,a.$$reentrantLock$$!=null)return;a.$$reentrantLock$$=!0,n.state=n.tag.prototype!=null&&typeof n.tag.prototype.view=="function"?new n.tag(n):n.tag(n)}if(At(n.state,n,r),n.attrs!=null&&At(n.attrs,n,r),n.instance=Lt.normalize(f.call(n.state.view,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");a.$$reentrantLock$$=null}function q(n,r,a,s,h){T(r,a),r.instance!=null?(m(n,r.instance,a,s,h),r.dom=r.instance.dom,r.domSize=r.dom!=null?r.instance.domSize:0):r.domSize=0}function z(n,r,a,s,h,w){if(!(r===a||r==null&&a==null))if(r==null||r.length===0)p(n,a,0,a.length,s,h,w);else if(a==null||a.length===0)ct(n,r,0,r.length);else{var E=r[0]!=null&&r[0].key!=null,A=a[0]!=null&&a[0].key!=null,b=0,N=0;if(!E)for(;N<r.length&&r[N]==null;)N++;if(!A)for(;b<a.length&&a[b]==null;)b++;if(E!==A)ct(n,r,N,r.length),p(n,a,b,a.length,s,h,w);else if(A){for(var V=r.length-1,F=a.length-1,dt,Q,D,J,$,jt;V>=N&&F>=b&&(J=r[V],$=a[F],J.key===$.key);)J!==$&&B(n,J,$,s,h,w),$.dom!=null&&(h=$.dom),V--,F--;for(;V>=N&&F>=b&&(Q=r[N],D=a[b],Q.key===D.key);)N++,b++,Q!==D&&B(n,Q,D,s,G(r,N,h),w);for(;V>=N&&F>=b&&!(b===F||Q.key!==$.key||J.key!==D.key);)jt=G(r,N,h),at(n,J,jt),J!==D&&B(n,J,D,s,jt,w),++b<=--F&&at(n,Q,h),Q!==$&&B(n,Q,$,s,h,w),$.dom!=null&&(h=$.dom),N++,V--,J=r[V],$=a[F],Q=r[N],D=a[b];for(;V>=N&&F>=b&&J.key===$.key;)J!==$&&B(n,J,$,s,h,w),$.dom!=null&&(h=$.dom),V--,F--,J=r[V],$=a[F];if(b>F)ct(n,r,N,V+1);else if(N>V)p(n,a,b,F+1,s,h,w);else{var Ge=h,Xt=F-b+1,st=new Array(Xt),Nt=0,U=0,qt=2147483647,_t=0,dt,$t;for(U=0;U<Xt;U++)st[U]=-1;for(U=F;U>=b;U--){dt==null&&(dt=x(r,N,V+1)),$=a[U];var ut=dt[$.key];ut!=null&&(qt=ut<qt?ut:-1,st[U-b]=ut,J=r[ut],r[ut]=null,J!==$&&B(n,J,$,s,h,w),$.dom!=null&&(h=$.dom),_t++)}if(h=Ge,_t!==V-N+1&&ct(n,r,N,V+1),_t===0)p(n,a,b,F+1,s,h,w);else if(qt===-1)for($t=W(st),Nt=$t.length-1,U=F;U>=b;U--)D=a[U],st[U-b]===-1?m(n,D,s,w,h):$t[Nt]===U-b?Nt--:at(n,D,h),D.dom!=null&&(h=a[U].dom);else for(U=F;U>=b;U--)D=a[U],st[U-b]===-1&&m(n,D,s,w,h),D.dom!=null&&(h=a[U].dom)}}else{var xt=r.length<a.length?r.length:a.length;for(b=b<N?b:N;b<xt;b++)Q=r[b],D=a[b],!(Q===D||Q==null&&D==null)&&(Q==null?m(n,D,s,w,G(r,b+1,h)):D==null?wt(n,Q):B(n,Q,D,s,G(r,b+1,h),w));r.length>xt&&ct(n,r,b,r.length),a.length>xt&&p(n,a,b,a.length,s,h,w)}}}function B(n,r,a,s,h,w){var E=r.tag,A=a.tag;if(E===A){if(a.state=r.state,a.events=r.events,Qe(a,r))return;if(typeof E=="string")switch(a.attrs!=null&&It(a.attrs,a,s),E){case"#":j(r,a);break;case"<":C(n,r,a,w,h);break;case"[":_(n,r,a,s,h,w);break;default:O(r,a,s,w)}else M(n,r,a,s,h,w)}else wt(n,r),m(n,a,s,w,h)}function j(n,r){n.children.toString()!==r.children.toString()&&(n.dom.nodeValue=r.children),r.dom=n.dom}function C(n,r,a,s,h){r.children!==a.children?(Wt(n,r),v(n,a,s,h)):(a.dom=r.dom,a.domSize=r.domSize,a.instance=r.instance)}function _(n,r,a,s,h,w){z(n,r.children,a.children,s,h,w);var E=0,A=a.children;if(a.dom=null,A!=null){for(var b=0;b<A.length;b++){var N=A[b];N!=null&&N.dom!=null&&(a.dom==null&&(a.dom=N.dom),E+=N.domSize||1)}E!==1&&(a.domSize=E)}}function O(n,r,a,s){var h=r.dom=n.dom;s=o(r)||s,r.tag==="textarea"&&r.attrs==null&&(r.attrs={}),Be(r,n.attrs,r.attrs,s),Bt(r)||z(h,n.children,r.children,a,null,s)}function M(n,r,a,s,h,w){if(a.instance=Lt.normalize(f.call(a.state.view,a)),a.instance===a)throw Error("A view cannot return the vnode it received as argument");It(a.state,a,s),a.attrs!=null&&It(a.attrs,a,s),a.instance!=null?(r.instance==null?m(n,a.instance,s,w,h):B(n,r.instance,a.instance,s,h,w),a.dom=a.instance.dom,a.domSize=a.instance.domSize):r.instance!=null?(wt(n,r.instance),a.dom=void 0,a.domSize=0):(a.dom=r.dom,a.domSize=r.domSize)}function x(n,r,a){for(var s=Object.create(null);r<a;r++){var h=n[r];if(h!=null){var w=h.key;w!=null&&(s[w]=r)}}return s}var P=[];function W(n){for(var r=[0],a=0,s=0,h=0,w=P.length=n.length,h=0;h<w;h++)P[h]=n[h];for(var h=0;h<w;++h)if(n[h]!==-1){var E=r[r.length-1];if(n[E]<n[h]){P[h]=E,r.push(h);continue}for(a=0,s=r.length-1;a<s;){var A=(a>>>1)+(s>>>1)+(a&s&1);n[r[A]]<n[h]?a=A+1:s=A}n[h]<n[r[a]]&&(a>0&&(P[h]=r[a-1]),r[a]=h)}for(a=r.length,s=r[a-1];a-- >0;)r[a]=s,s=P[s];return P.length=0,r}function G(n,r,a){for(;r<n.length;r++)if(n[r]!=null&&n[r].dom!=null)return n[r].dom;return a}function at(n,r,a){var s=e.createDocumentFragment();tt(n,s,r),Y(n,s,a)}function tt(n,r,a){for(;a.dom!=null&&a.dom.parentNode===n;){if(typeof a.tag!="string"){if(a=a.instance,a!=null)continue}else if(a.tag==="<")for(var s=0;s<a.instance.length;s++)r.appendChild(a.instance[s]);else if(a.tag!=="[")r.appendChild(a.dom);else if(a.children.length===1){if(a=a.children[0],a!=null)continue}else for(var s=0;s<a.children.length;s++){var h=a.children[s];h!=null&&tt(n,r,h)}break}}function Y(n,r,a){a!=null?n.insertBefore(r,a):n.appendChild(r)}function Bt(n){if(n.attrs==null||n.attrs.contenteditable==null&&n.attrs.contentEditable==null)return!1;var r=n.children;if(r!=null&&r.length===1&&r[0].tag==="<"){var a=r[0].children;n.dom.innerHTML!==a&&(n.dom.innerHTML=a)}else if(r!=null&&r.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function ct(n,r,a,s){for(var h=a;h<s;h++){var w=r[h];w!=null&&wt(n,w)}}function wt(n,r){var a=0,s=r.state,h,w;if(typeof r.tag!="string"&&typeof r.state.onbeforeremove=="function"){var E=f.call(r.state.onbeforeremove,r);E!=null&&typeof E.then=="function"&&(a=1,h=E)}if(r.attrs&&typeof r.attrs.onbeforeremove=="function"){var E=f.call(r.attrs.onbeforeremove,r);E!=null&&typeof E.then=="function"&&(a|=2,w=E)}if(c(r,s),!a)yt(r),Et(n,r);else{if(h!=null){var A=function(){a&1&&(a&=2,a||b())};h.then(A,A)}if(w!=null){var A=function(){a&2&&(a&=1,a||b())};w.then(A,A)}}function b(){c(r,s),yt(r),Et(n,r)}}function Wt(n,r){for(var a=0;a<r.instance.length;a++)n.removeChild(r.instance[a])}function Et(n,r){for(;r.dom!=null&&r.dom.parentNode===n;){if(typeof r.tag!="string"){if(r=r.instance,r!=null)continue}else if(r.tag==="<")Wt(n,r);else{if(r.tag!=="["&&(n.removeChild(r.dom),!Array.isArray(r.children)))break;if(r.children.length===1){if(r=r.children[0],r!=null)continue}else for(var a=0;a<r.children.length;a++){var s=r.children[a];s!=null&&Et(n,s)}}break}}function yt(n){if(typeof n.tag!="string"&&typeof n.state.onremove=="function"&&f.call(n.state.onremove,n),n.attrs&&typeof n.attrs.onremove=="function"&&f.call(n.attrs.onremove,n),typeof n.tag!="string")n.instance!=null&&yt(n.instance);else{var r=n.children;if(Array.isArray(r))for(var a=0;a<r.length;a++){var s=r[a];s!=null&&yt(s)}}}function Fe(n,r,a){n.tag==="input"&&r.type!=null&&n.dom.setAttribute("type",r.type);var s=r!=null&&n.tag==="input"&&r.type==="file";for(var h in r)Ct(n,h,null,r[h],a,s)}function Ct(n,r,a,s,h,w){if(!(r==="key"||r==="is"||s==null||Jt(r)||a===s&&!We(n,r)&&typeof s!="object"||r==="type"&&n.tag==="input")){if(r[0]==="o"&&r[1]==="n")return Gt(n,r,s);if(r.slice(0,6)==="xlink:")n.dom.setAttributeNS("http://www.w3.org/1999/xlink",r.slice(6),s);else if(r==="style")Qt(n.dom,a,s);else if(Vt(n,r,h)){if(r==="value"){if((n.tag==="input"||n.tag==="textarea")&&n.dom.value===""+s&&(w||n.dom===l())||n.tag==="select"&&a!==null&&n.dom.value===""+s||n.tag==="option"&&a!==null&&n.dom.value===""+s)return;if(w&&""+s!=""){console.error("`value` is read-only on file inputs!");return}}n.dom[r]=s}else typeof s=="boolean"?s?n.dom.setAttribute(r,""):n.dom.removeAttribute(r):n.dom.setAttribute(r==="className"?"class":r,s)}}function He(n,r,a,s){if(!(r==="key"||r==="is"||a==null||Jt(r)))if(r[0]==="o"&&r[1]==="n")Gt(n,r,void 0);else if(r==="style")Qt(n.dom,a,null);else if(Vt(n,r,s)&&r!=="className"&&r!=="title"&&!(r==="value"&&(n.tag==="option"||n.tag==="select"&&n.dom.selectedIndex===-1&&n.dom===l()))&&!(n.tag==="input"&&r==="type"))n.dom[r]=null;else{var h=r.indexOf(":");h!==-1&&(r=r.slice(h+1)),a!==!1&&n.dom.removeAttribute(r==="className"?"class":r)}}function Ke(n,r){if("value"in r)if(r.value===null)n.dom.selectedIndex!==-1&&(n.dom.value=null);else{var a=""+r.value;(n.dom.value!==a||n.dom.selectedIndex===-1)&&(n.dom.value=a)}"selectedIndex"in r&&Ct(n,"selectedIndex",null,r.selectedIndex,void 0)}function Be(n,r,a,s){if(r&&r===a&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),a!=null){n.tag==="input"&&a.type!=null&&n.dom.setAttribute("type",a.type);var h=n.tag==="input"&&a.type==="file";for(var w in a)Ct(n,w,r&&r[w],a[w],s,h)}var E;if(r!=null)for(var w in r)(E=r[w])!=null&&(a==null||a[w]==null)&&He(n,w,E,s)}function We(n,r){return r==="value"||r==="checked"||r==="selectedIndex"||r==="selected"&&n.dom===l()||n.tag==="option"&&n.dom.parentNode===e.activeElement}function Jt(n){return n==="oninit"||n==="oncreate"||n==="onupdate"||n==="onremove"||n==="onbeforeremove"||n==="onbeforeupdate"}function Vt(n,r,a){return a===void 0&&(n.tag.indexOf("-")>-1||n.attrs!=null&&n.attrs.is||r!=="href"&&r!=="list"&&r!=="form"&&r!=="width"&&r!=="height")&&r in n.dom}var Je=/[A-Z]/g;function Ve(n){return"-"+n.toLowerCase()}function Ot(n){return n[0]==="-"&&n[1]==="-"?n:n==="cssFloat"?"float":n.replace(Je,Ve)}function Qt(n,r,a){if(r!==a)if(a==null)n.style.cssText="";else if(typeof a!="object")n.style.cssText=a;else if(r==null||typeof r!="object"){n.style.cssText="";for(var s in a){var h=a[s];h!=null&&n.style.setProperty(Ot(s),String(h))}}else{for(var s in a){var h=a[s];h!=null&&(h=String(h))!==String(r[s])&&n.style.setProperty(Ot(s),h)}for(var s in r)r[s]!=null&&a[s]==null&&n.style.removeProperty(Ot(s))}}function Pt(){this._=i}Pt.prototype=Object.create(null),Pt.prototype.handleEvent=function(n){var r=this["on"+n.type],a;typeof r=="function"?a=r.call(n.currentTarget,n):typeof r.handleEvent=="function"&&r.handleEvent(n),this._&&n.redraw!==!1&&(0,this._)(),a===!1&&(n.preventDefault(),n.stopPropagation())};function Gt(n,r,a){if(n.events!=null){if(n.events._=i,n.events[r]===a)return;a!=null&&(typeof a=="function"||typeof a=="object")?(n.events[r]==null&&n.dom.addEventListener(r.slice(2),n.events,!1),n.events[r]=a):(n.events[r]!=null&&n.dom.removeEventListener(r.slice(2),n.events,!1),n.events[r]=void 0)}else a!=null&&(typeof a=="function"||typeof a=="object")&&(n.events=new Pt,n.dom.addEventListener(r.slice(2),n.events,!1),n.events[r]=a)}function At(n,r,a){typeof n.oninit=="function"&&f.call(n.oninit,r),typeof n.oncreate=="function"&&a.push(f.bind(n.oncreate,r))}function It(n,r,a){typeof n.onupdate=="function"&&a.push(f.bind(n.onupdate,r))}function Qe(n,r){do{if(n.attrs!=null&&typeof n.attrs.onbeforeupdate=="function"){var a=f.call(n.attrs.onbeforeupdate,n,r);if(a!==void 0&&!a)break}if(typeof n.tag!="string"&&typeof n.state.onbeforeupdate=="function"){var a=f.call(n.state.onbeforeupdate,n,r);if(a!==void 0&&!a)break}return!1}while(!1);return n.dom=r.dom,n.domSize=r.domSize,n.instance=r.instance,n.attrs=r.attrs,n.children=r.children,n.text=r.text,!0}var lt;return function(n,r,a){if(!n)throw new TypeError("DOM element being rendered to does not exist.");if(lt!=null&&n.contains(lt))throw new TypeError("Node is currently being rendered to and thus is locked.");var s=i,h=lt,w=[],E=l(),A=n.namespaceURI;lt=n,i=typeof a=="function"?a:void 0;try{n.vnodes==null&&(n.textContent=""),r=Lt.normalizeChildren(Array.isArray(r)?r:[r]),z(n,n.vnodes,r,w,null,A==="http://www.w3.org/1999/xhtml"?void 0:A),n.vnodes=r,E!=null&&l()!==E&&typeof E.focus=="function"&&E.focus();for(var b=0;b<w.length;b++)w[b]()}finally{i=s,lt=h}}},Se=sr(typeof window!="undefined"?window:null),Zt=Z,pr=function(t,e,i){var u=[],o=!1,c=-1;function f(){for(c=0;c<u.length;c+=2)try{t(u[c],Zt(u[c+1]),l)}catch(m){i.error(m)}c=-1}function l(){o||(o=!0,e(function(){o=!1,f()}))}l.sync=f;function p(m,y){if(y!=null&&y.view==null&&typeof y!="function")throw new TypeError("m.mount expects a component, not a vnode.");var d=u.indexOf(m);d>=0&&(u.splice(d,2),d<=c&&(c-=2),t(m,[])),y!=null&&(u.push(m,y),t(m,Zt(y),l))}return{mount:p,redraw:l}},hr=Se,Ut=pr(hr,typeof requestAnimationFrame!="undefined"?requestAnimationFrame:null,typeof console!="undefined"?console:null),Ee=function(t){if(Object.prototype.toString.call(t)!=="[object Object]")return"";var e=[];for(var i in t)u(i,t[i]);return e.join("&");function u(o,c){if(Array.isArray(c))for(var f=0;f<c.length;f++)u(o+"["+f+"]",c[f]);else if(Object.prototype.toString.call(c)==="[object Object]")for(var f in c)u(o+"["+f+"]",c[f]);else e.push(encodeURIComponent(o)+(c!=null&&c!==""?"="+encodeURIComponent(c):""))}},gr=Tt,Ce=Object.assign||function(t,e){for(var i in e)gr.call(e,i)&&(t[i]=e[i])},mr=Ee,wr=Ce,Dt=function(t,e){if(/:([^\/\.-]+)(\.{3})?:/.test(t))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(e==null)return t;var i=t.indexOf("?"),u=t.indexOf("#"),o=u<0?t.length:u,c=i<0?o:i,f=t.slice(0,c),l={};wr(l,e);var p=f.replace(/:([^\/\.-]+)(\.{3})?/g,function(T,q,z){return delete l[q],e[q]==null?T:z?e[q]:encodeURIComponent(String(e[q]))}),m=p.indexOf("?"),y=p.indexOf("#"),d=y<0?p.length:y,v=m<0?d:m,k=p.slice(0,v);i>=0&&(k+=t.slice(i,o)),m>=0&&(k+=(i<0?"?":"&")+p.slice(m,d));var S=mr(l);return S&&(k+=(i<0&&m<0?"?":"&")+S),u>=0&&(k+=t.slice(u)),y>=0&&(k+=(u<0?"":"&")+p.slice(y)),k},yr=Dt,te=Tt,dr=function(t,e,i){var u=0;function o(l){return new e(l)}o.prototype=e.prototype,o.__proto__=e;function c(l){return function(p,m){typeof p!="string"?(m=p,p=p.url):m==null&&(m={});var y=new e(function(S,T){l(yr(p,m.params),m,function(q){if(typeof m.type=="function")if(Array.isArray(q))for(var z=0;z<q.length;z++)q[z]=new m.type(q[z]);else q=new m.type(q);S(q)},T)});if(m.background===!0)return y;var d=0;function v(){--d===0&&typeof i=="function"&&i()}return k(y);function k(S){var T=S.then;return S.constructor=o,S.then=function(){d++;var q=T.apply(S,arguments);return q.then(v,function(z){if(v(),d===0)throw z}),k(q)},S}}}function f(l,p){for(var m in l.headers)if(te.call(l.headers,m)&&m.toLowerCase()===p)return!0;return!1}return{request:c(function(l,p,m,y){var d=p.method!=null?p.method.toUpperCase():"GET",v=p.body,k=(p.serialize==null||p.serialize===JSON.serialize)&&!(v instanceof t.FormData||v instanceof t.URLSearchParams),S=p.responseType||(typeof p.extract=="function"?"":"json"),T=new t.XMLHttpRequest,q=!1,z=!1,B=T,j,C=T.abort;T.abort=function(){q=!0,C.call(this)},T.open(d,l,p.async!==!1,typeof p.user=="string"?p.user:void 0,typeof p.password=="string"?p.password:void 0),k&&v!=null&&!f(p,"content-type")&&T.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof p.deserialize!="function"&&!f(p,"accept")&&T.setRequestHeader("Accept","application/json, text/*"),p.withCredentials&&(T.withCredentials=p.withCredentials),p.timeout&&(T.timeout=p.timeout),T.responseType=S;for(var _ in p.headers)te.call(p.headers,_)&&T.setRequestHeader(_,p.headers[_]);T.onreadystatechange=function(O){if(!q&&O.target.readyState===4)try{var M=O.target.status>=200&&O.target.status<300||O.target.status===304||/^file:\/\//i.test(l),x=O.target.response,P;if(S==="json"){if(!O.target.responseType&&typeof p.extract!="function")try{x=JSON.parse(O.target.responseText)}catch{x=null}}else(!S||S==="text")&&x==null&&(x=O.target.responseText);if(typeof p.extract=="function"?(x=p.extract(O.target,p),M=!0):typeof p.deserialize=="function"&&(x=p.deserialize(x)),M)m(x);else{var W=function(){try{P=O.target.responseText}catch{P=x}var G=new Error(P);G.code=O.target.status,G.response=x,y(G)};T.status===0?setTimeout(function(){z||W()}):W()}}catch(G){y(G)}},T.ontimeout=function(O){z=!0;var M=new Error("Request timed out");M.code=O.target.status,y(M)},typeof p.config=="function"&&(T=p.config(T,p,l)||T,T!==B&&(j=T.abort,T.abort=function(){q=!0,j.call(this)})),v==null?T.send():typeof p.serialize=="function"?T.send(p.serialize(v)):v instanceof t.FormData||v instanceof t.URLSearchParams?T.send(v):T.send(JSON.stringify(v))}),jsonp:c(function(l,p,m,y){var d=p.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+u++,v=t.document.createElement("script");t[d]=function(k){delete t[d],v.parentNode.removeChild(v),m(k)},v.onerror=function(){delete t[d],v.parentNode.removeChild(v),y(new Error("JSONP request failed"))},v.src=l+(l.indexOf("?")<0?"?":"&")+encodeURIComponent(p.callbackKey||"callback")+"="+encodeURIComponent(d),t.document.documentElement.appendChild(v)})}},br=gt.exports,vr=Ut,Tr=dr(typeof window!="undefined"?window:null,br,vr.redraw);function ee(t){try{return decodeURIComponent(t)}catch{return t}}var Oe=function(t){if(t===""||t==null)return{};t.charAt(0)==="?"&&(t=t.slice(1));for(var e=t.split("&"),i={},u={},o=0;o<e.length;o++){var c=e[o].split("="),f=ee(c[0]),l=c.length===2?ee(c[1]):"";l==="true"?l=!0:l==="false"&&(l=!1);var p=f.split(/\]\[?|\[/),m=u;f.indexOf("[")>-1&&p.pop();for(var y=0;y<p.length;y++){var d=p[y],v=p[y+1],k=v==""||!isNaN(parseInt(v,10));if(d===""){var f=p.slice(0,y).join();i[f]==null&&(i[f]=Array.isArray(m)?m.length:0),d=i[f]++}else if(d==="__proto__")break;if(y===p.length-1)m[d]=l;else{var S=Object.getOwnPropertyDescriptor(m,d);S!=null&&(S=S.value),S==null&&(m[d]=S=k?[]:{}),m=S}}}return u},kr=Oe,Ft=function(t){var e=t.indexOf("?"),i=t.indexOf("#"),u=i<0?t.length:i,o=e<0?u:e,c=t.slice(0,o).replace(/\/{2,}/g,"/");return c?(c[0]!=="/"&&(c="/"+c),c.length>1&&c[c.length-1]==="/"&&(c=c.slice(0,-1))):c="/",{path:c,params:e<0?{}:kr(t.slice(e+1,u))}},Sr=Ft,Er=function(t){var e=Sr(t),i=Object.keys(e.params),u=[],o=new RegExp("^"+e.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(c,f,l){return f==null?"\\"+c:(u.push({k:f,r:l==="..."}),l==="..."?"(.*)":l==="."?"([^/]+)\\.":"([^/]+)"+(l||""))})+"$");return function(c){for(var f=0;f<i.length;f++)if(e.params[i[f]]!==c.params[i[f]])return!1;if(!u.length)return o.test(c.path);var l=o.exec(c.path);if(l==null)return!1;for(var f=0;f<u.length;f++)c.params[u[f].k]=u[f].r?l[f+1]:decodeURIComponent(l[f+1]);return!0}},re=Tt,ne=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$"),Pe=function(t,e){var i={};if(e!=null)for(var u in t)re.call(t,u)&&!ne.test(u)&&e.indexOf(u)<0&&(i[u]=t[u]);else for(var u in t)re.call(t,u)&&!ne.test(u)&&(i[u]=t[u]);return i},Cr=Z,Or=Te,Pr=gt.exports,ie=Dt,ae=Ft,Ar=Er,Ir=Ce,xr=Pe,Rt={};function jr(t){try{return decodeURIComponent(t)}catch{return t}}var Nr=function(t,e){var i=t==null?null:typeof t.setImmediate=="function"?t.setImmediate:t.setTimeout,u=Pr.resolve(),o=!1,c=!1,f=0,l,p,m=Rt,y,d,v,k,S={onbeforeupdate:function(){return f=f?2:1,!(!f||Rt===m)},onremove:function(){t.removeEventListener("popstate",z,!1),t.removeEventListener("hashchange",q,!1)},view:function(){if(!(!f||Rt===m)){var C=[Cr(y,d.key,d)];return m&&(C=m.render(C[0])),C}}},T=j.SKIP={};function q(){o=!1;var C=t.location.hash;j.prefix[0]!=="#"&&(C=t.location.search+C,j.prefix[0]!=="?"&&(C=t.location.pathname+C,C[0]!=="/"&&(C="/"+C)));var _=C.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,jr).slice(j.prefix.length),O=ae(_);Ir(O.params,t.history.state);function M(P){console.error(P),B(p,null,{replace:!0})}x(0);function x(P){for(;P<l.length;P++)if(l[P].check(O)){var W=l[P].component,G=l[P].route,at=W,tt=k=function(Y){if(tt===k){if(Y===T)return x(P+1);y=Y!=null&&(typeof Y.view=="function"||typeof Y=="function")?Y:"div",d=O.params,v=_,k=null,m=W.render?W:null,f===2?e.redraw():(f=2,e.redraw.sync())}};W.view||typeof W=="function"?(W={},tt(at)):W.onmatch?u.then(function(){return W.onmatch(O.params,_,G)}).then(tt,_===p?null:M):tt("div");return}if(_===p)throw new Error("Could not resolve default route "+p+".");B(p,null,{replace:!0})}}function z(){o||(o=!0,i(q))}function B(C,_,O){if(C=ie(C,_),c){z();var M=O?O.state:null,x=O?O.title:null;O&&O.replace?t.history.replaceState(M,x,j.prefix+C):t.history.pushState(M,x,j.prefix+C)}else t.location.href=j.prefix+C}function j(C,_,O){if(!C)throw new TypeError("DOM element being rendered to does not exist.");if(l=Object.keys(O).map(function(x){if(x[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(x))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:x,component:O[x],check:Ar(x)}}),p=_,_!=null){var M=ae(_);if(!l.some(function(x){return x.check(M)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof t.history.pushState=="function"?t.addEventListener("popstate",z,!1):j.prefix[0]==="#"&&t.addEventListener("hashchange",q,!1),c=!0,e.mount(C,S),q()}return j.set=function(C,_,O){k!=null&&(O=O||{},O.replace=!0),k=null,B(C,_,O)},j.get=function(){return v},j.prefix="#!",j.Link={view:function(C){var _=Or(C.attrs.selector||"a",xr(C.attrs,["options","params","selector","onclick"]),C.children),O,M,x;return(_.attrs.disabled=Boolean(_.attrs.disabled))?(_.attrs.href=null,_.attrs["aria-disabled"]="true"):(O=C.attrs.options,M=C.attrs.onclick,x=ie(_.attrs.href,C.attrs.params),_.attrs.href=j.prefix+x,_.attrs.onclick=function(P){var W;typeof M=="function"?W=M.call(P.currentTarget,P):M==null||typeof M!="object"||typeof M.handleEvent=="function"&&M.handleEvent(P),W!==!1&&!P.defaultPrevented&&(P.button===0||P.which===0||P.which===1)&&(!P.currentTarget.target||P.currentTarget.target==="_self")&&!P.ctrlKey&&!P.metaKey&&!P.shiftKey&&!P.altKey&&(P.preventDefault(),P.redraw=!1,j.set(x,null,O))}),_}},j.param=function(C){return d&&C!=null?d[C]:d},j},qr=Ut,_r=Nr(typeof window!="undefined"?window:null,qr),kt=lr,Ae=Tr,Ie=Ut,K=function(){return kt.apply(this,arguments)};K.m=kt;K.trust=kt.trust;K.fragment=kt.fragment;K.Fragment="[";K.mount=Ie.mount;K.route=_r;K.render=Se;K.redraw=Ie.redraw;K.request=Ae.request;K.jsonp=Ae.jsonp;K.parseQueryString=Oe;K.buildQueryString=Ee;K.parsePathname=Ft;K.buildPathname=Dt;K.vnode=Z;K.PromisePolyfill=ke;K.censor=Pe;var g=K;function L(t){return t!=null&&typeof t=="object"&&t["@@functional/placeholder"]===!0}function X(t){return function e(i){return arguments.length===0||L(i)?e:t.apply(this,arguments)}}function et(t){return function e(i,u){switch(arguments.length){case 0:return e;case 1:return L(i)?e:X(function(o){return t(i,o)});default:return L(i)&&L(u)?e:L(i)?X(function(o){return t(o,u)}):L(u)?X(function(o){return t(i,o)}):t(i,u)}}}function $r(t){return function e(i,u,o){switch(arguments.length){case 0:return e;case 1:return L(i)?e:et(function(c,f){return t(i,c,f)});case 2:return L(i)&&L(u)?e:L(i)?et(function(c,f){return t(c,u,f)}):L(u)?et(function(c,f){return t(i,c,f)}):X(function(c){return t(i,u,c)});default:return L(i)&&L(u)&&L(o)?e:L(i)&&L(u)?et(function(c,f){return t(c,f,o)}):L(i)&&L(o)?et(function(c,f){return t(c,u,f)}):L(u)&&L(o)?et(function(c,f){return t(i,c,f)}):L(i)?X(function(c){return t(c,u,o)}):L(u)?X(function(c){return t(i,c,o)}):L(o)?X(function(c){return t(i,u,c)}):t(i,u,o)}}}var Lr=Array.isArray||function(e){return e!=null&&e.length>=0&&Object.prototype.toString.call(e)==="[object Array]"};function Rr(t){return Object.prototype.toString.call(t)==="[object String]"}function vt(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var ue=Object.prototype.toString,zr=function(){return ue.call(arguments)==="[object Arguments]"?function(e){return ue.call(e)==="[object Arguments]"}:function(e){return vt("callee",e)}}(),xe=zr,Mr=!{toString:null}.propertyIsEnumerable("toString"),oe=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],fe=function(){return arguments.propertyIsEnumerable("length")}(),Ur=function(e,i){for(var u=0;u<e.length;){if(e[u]===i)return!0;u+=1}return!1},Dr=X(typeof Object.keys=="function"&&!fe?function(e){return Object(e)!==e?[]:Object.keys(e)}:function(e){if(Object(e)!==e)return[];var i,u,o=[],c=fe&&xe(e);for(i in e)vt(i,e)&&(!c||i!=="length")&&(o[o.length]=i);if(Mr)for(u=oe.length-1;u>=0;)i=oe[u],vt(i,e)&&!Ur(o,i)&&(o[o.length]=i),u-=1;return o}),ce=Dr,Fr=X(function(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}),le=Fr;function se(t){for(var e=[],i;!(i=t.next()).done;)e.push(i.value);return e}function pe(t,e,i){for(var u=0,o=i.length;u<o;){if(t(e,i[u]))return!0;u+=1}return!1}function Hr(t){var e=String(t).match(/^function (\w*)/);return e==null?"":e[1]}function Kr(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var zt=typeof Object.is=="function"?Object.is:Kr;function he(t,e,i,u){var o=se(t),c=se(e);function f(l,p){return Ht(l,p,i.slice(),u.slice())}return!pe(function(l,p){return!pe(f,p,l)},c,o)}function Ht(t,e,i,u){if(zt(t,e))return!0;var o=le(t);if(o!==le(e)||t==null||e==null)return!1;if(typeof t["fantasy-land/equals"]=="function"||typeof e["fantasy-land/equals"]=="function")return typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e)&&typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t);if(typeof t.equals=="function"||typeof e.equals=="function")return typeof t.equals=="function"&&t.equals(e)&&typeof e.equals=="function"&&e.equals(t);switch(o){case"Arguments":case"Array":case"Object":if(typeof t.constructor=="function"&&Hr(t.constructor)==="Promise")return t===e;break;case"Boolean":case"Number":case"String":if(!(typeof t==typeof e&&zt(t.valueOf(),e.valueOf())))return!1;break;case"Date":if(!zt(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(!(t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline&&t.sticky===e.sticky&&t.unicode===e.unicode))return!1;break}for(var c=i.length-1;c>=0;){if(i[c]===t)return u[c]===e;c-=1}switch(o){case"Map":return t.size!==e.size?!1:he(t.entries(),e.entries(),i.concat([t]),u.concat([e]));case"Set":return t.size!==e.size?!1:he(t.values(),e.values(),i.concat([t]),u.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var f=ce(t);if(f.length!==ce(e).length)return!1;var l=i.concat([t]),p=u.concat([e]);for(c=f.length-1;c>=0;){var m=f[c];if(!(vt(m,e)&&Ht(e[m],t[m],l,p)))return!1;c-=1}return!0}var Br=et(function(e,i){return Ht(e,i,[],[])}),je=Br;function Wr(t){return Object.prototype.toString.call(t)==="[object Object]"}var Jr=X(function(e){return e!=null&&typeof e["fantasy-land/empty"]=="function"?e["fantasy-land/empty"]():e!=null&&e.constructor!=null&&typeof e.constructor["fantasy-land/empty"]=="function"?e.constructor["fantasy-land/empty"]():e!=null&&typeof e.empty=="function"?e.empty():e!=null&&e.constructor!=null&&typeof e.constructor.empty=="function"?e.constructor.empty():Lr(e)?[]:Rr(e)?"":Wr(e)?{}:xe(e)?function(){return arguments}():void 0}),Vr=Jr,Qr=X(function(e){return e!=null&&je(e,Vr(e))}),ge=Qr,Gr=$r(function(e,i,u){return je(i,u[e])}),nt=Gr,Ne=typeof setImmediate!="undefined"?setImmediate:typeof process!="undefined"?process.nextTick:setTimeout,Xr=I;function I(t,e){this.fork=t,this.cleanup=e||function(){}}I.prototype.of=function(e){return new I(function(i,u){return u(e)})};I.of=I.prototype.of;I.prototype.rejected=function(e){return new I(function(i){return i(e)})};I.rejected=I.prototype.rejected;I.prototype.map=function(e){var i=this.fork,u=this.cleanup;return new I(function(o,c){return i(function(f){return o(f)},function(f){return c(e(f))})},u)};I.prototype.chain=function(e){var i=this.fork,u=this.cleanup;return new I(function(o,c){return i(function(f){return o(f)},function(f){return e(f).fork(o,c)})},u)};I.prototype.ap=function(e){var i=this.fork,u=e.fork,o=this.cleanup,c=e.cleanup;function f(l){o(l[0]),c(l[1])}return new I(function(l,p){var m,y=!1,d,v=!1,k=!1,S,T=i(B,z(function(j){y=!0,m=j})),q=u(B,z(function(j){v=!0,d=j}));function z(j){return function(C){if(!k)return j(C),y&&v?(Ne(function(){f(S)}),p(m(d))):C}}function B(j){if(!k)return k=!0,l(j)}return S=[T,q]},f)};I.prototype.concat=function(e){var i=this.fork,u=e.fork,o=this.cleanup,c=e.cleanup;function f(l){o(l[0]),c(l[1])}return new I(function(l,p){var m=!1,y,d=i(k(l),k(p)),v=u(k(l),k(p));return y=[d,v];function k(S){return function(T){if(!m)return m=!0,Ne(function(){f(y)}),S(T)}}},f)};I.empty=function(){return new I(function(){})};I.prototype.empty=I.empty;I.prototype.toString=function(){return"Task"};I.prototype.orElse=function(e){var i=this.fork,u=this.cleanup;return new I(function(o,c){return i(function(f){return e(f).fork(o,c)},function(f){return c(f)})},u)};I.prototype.fold=function(e,i){var u=this.fork,o=this.cleanup;return new I(function(c,f){return u(function(l){return f(e(l))},function(l){return f(i(l))})},o)};I.prototype.cata=function(e){return this.fold(e.Rejected,e.Resolved)};I.prototype.swap=function(){var e=this.fork,i=this.cleanup;return new I(function(u,o){return e(function(c){return o(c)},function(c){return u(c)})},i)};I.prototype.bimap=function(e,i){var u=this.fork,o=this.cleanup;return new I(function(c,f){return u(function(l){return c(e(l))},function(l){return f(i(l))})},o)};I.prototype.rejectedMap=function(e){var i=this.fork,u=this.cleanup;return new I(function(o,c){return i(function(f){return o(e(f))},function(f){return c(f)})},u)};var qe=Xr;const Yr="https://shopper.deno.dev/",Zr={"Content-Type":"application/json"},tn=t=>e=>i=>e(JSON.parse(JSON.stringify(i))),en=t=>e=>i=>e(i),bt=t=>e=>i=>u=>new qe((o,c)=>g.request({method:t,url:Yr+i,headers:Zr,body:u,withCredentials:!1}).then(en()(c),tn()(o))),rn={getTask:(t,e)=>bt("GET")(t)(e)(),postTask:(t,e,i)=>bt("POST")(t)(e)(i),putTask:(t,e,i)=>bt("PUT")(t)(e)(i),deleteTask:(t,e)=>bt("DELETE")(t)(e)()},_e=()=>"xxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,i=t=="x"?e:e&3|8;return i.toString(16)}),$e=t=>e=>(console.log(t,e),e);window.log=$e;const nn=["Of Them","Boxe(s)","Can(s)","gram(s)","kilogram(s)","pound(s)","liter(s)","mliter(s)","ounce(s)"],an=t=>{var e;return t.stores.find(nt("id",(e=t.currentStore)==null?void 0:e.id))||t.stores[0]},it=t=>{const e=f=>f.http.getTask(f,"stores"),i=f=>f.http.getTask(f,"cats"),u=f=>f.http.getTask(f,"items"),o=({stores:f,cats:l,items:p})=>{let m=l.map(y=>(y.items=p.filter(nt("catId",y.id)).sort((d,v)=>d.order-v.order).reverse(),y)).sort((y,d)=>y.order-d.order);return{cats:m,stores:f.map(y=>(y.cats=m.filter(nt("storeId",y.id)).sort((d,v)=>d.order-v.order),y)),items:p}},c=({stores:f,cats:l,items:p})=>{t.stores=f,t.cats=l,t.items=p.reverse(),t.currentStore=an(t)};qe.of(f=>l=>p=>o({stores:f,cats:l,items:p})).ap(e(t)).ap(i(t)).ap(u(t)).fork($e("error"),c)},un=({catId:t,title:e,notes:i,quantity:u,unit:o,price:c,order:f})=>({id:_e(),title:e,notes:i,catId:t,order:f,quantity:u,unit:o,price:c,notes:i,purchased:!1}),on=(t,e=0)=>({title:t,id:_e(),order:e}),mt={state:{},http:rn,settings:{},state:{dragging:{item:"",swapItem:""},catIds:[],items:[],showModal:!1,modalContent:null},stores:[],cats:[],items:[],currentStore:null},fn=(t,e)=>{let i=on(e.title);const u=log("error"),o=c=>{e.title="",t.state.showModal=!1,t.state.modalContent=null,it(t)};t.http.postTask(t,"stores",i).fork(u,o)},Le=()=>{const t={title:""};return{view:({attrs:{mdl:e}})=>g("form.w3-container.w3-card.w3-white.w3-animate-zoom",{onsubmit:i=>i.preventDefault()},g("div.w3-section",g("label",g("b","Store Title")),g("input.w3-input.w3-border-bottom",{oncreate:({dom:i})=>{i.select(),i.focus()},type:"text",value:t.title,oninput:i=>t.title=i.target.value})),g("button.w3-button.w3-block.w3-orange.w3-section.w3-padding",{onclick:()=>fn(e,t)},"add"))}},cn=(t,e)=>t.cats.find(nt("id",e)).items.length,ln=(t,e,i)=>{const{catId:u,title:o,notes:c,order:f,quantity:l,unit:p,price:m,id:y}=e;let d=i?{catId:u,title:o,notes:c,order:f,quantity:l,unit:p,price:m,id:y}:un({catId:u,title:o,notes:c,order:cn(t,u),quantity:l,unit:p,price:m});const v=S=>{e={catId:u,title:"",notes:"",order:0,quantity:"",unit:"",price:0},it(t),t.state.showModal=!1,t.state.modalContent=null};return((S,T)=>i?S.http.postTask(S,"items",T):S.http.putTask(S,`items/${T.id}`,T))(t,d).fork(log("error"),v)},Kt=({attrs:{mdl:t,catId:e,item:i,isEdit:u}})=>{const o={catId:e,catTitle:"",title:"",notes:"",order:0,quantity:0,unit:"",price:0};return e&&(o.catTitle=t.cats.find(nt("id",e)).title),u&&(o.catId=i.catId,o.title=i.title,o.notes=i.notes,o.order=i.order,o.quantity=i.quantity,o.unit=i.unit,o.price=i.price,o.id=i.id),{view:({attrs:{mdl:c}})=>{var f;return g("form.w3-container.w3-card.w3-white.w3-animate-zoom",{onsubmit:l=>l.preventDefault()},g("div.w3-section",g("label",g("b","Title")),g("input.w3-input.w3-border-bottom",{oncreate:({dom:l})=>{l.select(),l.focus()},type:"text",value:o.title,oninput:l=>o.title=l.target.value})),g("div.w3-section",g("label",g("b","Category")),g("select.w3-input.w3-border-bottom",{value:((f=c.cats.find(nt("id",o.catId)))==null?void 0:f.title)||"",onchange:l=>{o.catTitle=l.target.value,o.catId=c.cats.find(nt("title",o.catTitle)).id}},c.cats.map(l=>g(`option#${l.id}`,l.title)))),g("div.w3-section",g("label",g("b","Quantity")),g("input.w3-input.w3-border-bottom",{type:"number",value:o.quantity,oninput:l=>o.quantity=l.target.value})),g("div.w3-section",g("label",g("b","Unit")),g("select.w3-input.w3-border-bottom",{value:o.unit,onchange:l=>o.unit=l.target.value},nn.map(l=>g("option",l)))),g("div.w3-section",g("label",g("b","Price")),g("input.w3-input.w3-border-bottom",{type:"number",value:o.price,oninput:l=>o.price=l.target.value})),g("div.w3-section",g("label",g("b","Notes")),g("textarea.w3-input.w3-border-bottom",{oninput:l=>o.notes=l.target.value},o.notes)),g("button.w3-button.w3-block.w3-orange.w3-section.w3-padding",{onclick:()=>ln(c,o,u)},u?"Update":"Add"))}}},ht=new Set,sn=(t,e)=>{t.http.deleteTask(t,`stores/${e}`).fork(log("error deleteing"),()=>it(t))},pn=(t,e)=>{t.http.deleteTask(t,`cats/${e}`).fork(log("error deleteing"),()=>it(t))},hn=(t,e)=>Promise.resolve(t.setCat(e)),me=(t,e,i)=>Promise.resolve(t.currentStore=i).then(()=>e.toggleSideBar(e)),gn=()=>({view:({attrs:{mdl:t,state:e}})=>g(".w3-sidebar#sidebar.w3-bar-block.w3-collapse.w3-card.w3-animate-left",{style:{width:t.settings.profile=="desktop"?"300px":"90%",display:e.sidebar.open?"block":"none"}},t.settings.profile!="desktop"&&g("button.w3-bar-item.w3-button.w3-large",{onclick:()=>e.toggleSideBar(e)},"Close "),g("button.w3-button.w3-orange",{onclick:()=>{t.state.modalContent=g(Le,{mdl:t}),t.state.showModal=!0}},"New Store"),t.stores.map((i,u)=>g(".w3-right-align.w3-row",{key:i.id},g("button.w3-button.w3-left-align.w3-col",{class:t.currentStore.id==i.id?"w3-leftbar w3-border-orange w3-border-10":"",onclick:o=>{o.stopPropagation(),me(t,e,i)}},g(".w3-left-align.w3-col.s4",g("button.pointer.w3-badge.w3-pink.w3-border-0.w3-circle.w3-hover-red.w3-left-align",{onclick:o=>{o.stopPropagation(),sn(t,i.id)}},"x")),g("label.w3-label.w3-col.s4.w3-left-align.pointer",i.title),!ge(i.cats)&&g(".w3-col.s4.w3-right-align",{onclick:o=>{o.stopPropagation(),ht.has(i.id)?ht.delete(i.id):ht.add(i.id)}},g("i.w3-btn.w3-circle",ht.has(i.id)?"V":">"))),!ge(i.cats)&&g("ul.w3-list",{class:ht.has(i.id)?"w3-show":"w3-hide",id:i.id},i.cats.map((o,c)=>{var f;return g(".w3-list-item.pointer.w3-row",{key:o.id,onclick:()=>{hn(e,o.id).then(()=>me(t,e,i))}},g("button.pointer.w3-badge.w3-pink.w3-border-0.w3-circle.w3-hover-red.w3-left-align",{onclick:l=>{l.stopPropagation(),pn(t,o.id)}},"x"),g("label.w3-col s4",o.title),g(".w3-right-align.w3-col s4",g(".w3-tag w3-orange",(f=o.issues)==null?void 0:f.length)))})))))}),mn=()=>({view:({attrs:{mdl:t,state:e}})=>g("nav.w3-bar.w3-container.w3-padding.w3-fixed",g("button.w3-button.w3-hide-large.w3-border",{onclick:()=>e.toggleSideBar(e)},"MENU"),t.currentStore&&g(".w3-row w3-section",g(".m6 w3-left",g("h1.w3-title w3-col",t.currentStore.title)),g(".m3 w3-right",g("button. w3-button  w3-border w3-large w3-col",{onclick:()=>{t.state.modalContent=g(Kt,{mdl:t,catId:null}),t.state.showModal=!0}},"+"))))}),wn=(t,e)=>{console.log(t,e),t.http.deleteTask(t,`items/${e}`).fork(log("err"),()=>it(t))},yn=(t,e)=>i=>{i.preventDefault();const u=()=>{it(t),e.highlight=!1,t.state.dragging.item=null,t.state.dragging.swapItem=null};return t.state.dragging.item.order=t.state.dragging.swapItem.order,t.http.putTask(t,`items/${t.state.dragging.item.id}`,t.state.dragging.item).fork(log("error"),u),t},dn=(t,e,i)=>u=>{e.highlight=!0,t.state.dragging.swapItem=i,u.preventDefault()},bn=(t,e,i)=>u=>(e.highlight=!0,t.state.dragging.swapItem=i,u.preventDefault(),!0),vn=t=>e=>(t.highlight=!1,e.preventDefault(),!0),Tn=(t,e,i)=>u=>(e.highlight=!1,t.state.dragging.swapItem=i,u.preventDefault(),!0),we=(t,e)=>{t.state.showModal=!0,t.state.modalContent=g(Kt,{catId:e.catId,mdl:t,item:e,isEdit:!0})},Re=t=>t.classList.contains("swipe-container")?t:Re(t.parentElement),kn=(t,e)=>i=>{const u=Re(i.target),o=u.clientWidth*60/100,c=u.scrollLeft-u.clientWidth;console.log(u.clientWidth,c,o*-1),c<o*-1?t():c>o?e():console.log("nothing",i)},Sn=()=>{const t={highlight:!1,draggable:!1};return{view:({attrs:{item:e,mdl:i}})=>g("li.w3-list-item.w3-leftbar.w3-hover-border-orange.dragster-block",{id:e.id,draggable:t.draggable,class:t.highlight?"w3-orange":"",ondrop:yn(i,t),ondragover:dn(i,t,e),ondragenter:bn(i,t,e),ondragend:Tn(i,t,e),ondragleave:vn(t),ondragstart:()=>i.state.dragging.item=e},g(".w3-bar.swipe-container",{ontouchend:kn(()=>we(i,e),()=>wn(i,e.id))},g(".swipe-action.swipe-left",g("button.w3-button w3-border.w3-left",{onclick:()=>we(i,e)},"Edit")),g(".swipe-element",e.img&&g("img.w3-bar-item.w3-circle",{src:e.img,style:{width:"85px"}}),g("h4.w3-bar-item",e.title)),g(".swipe-action.swipe-right",g("button.w3-button w3-border.w3-right","Delete"))),g(".w3-bar",e.quantity>1&&g("p.w3-p",`${e.quantity} ${e.unit}`)))}},En=({attrs:{mdl:t,cat:e}})=>{const i={catId:e.id,title:e.title,items:e.items,isSelected:!1,togglePinSection:{onclick:()=>i.isSelected=!i.isSelected}};return{view:({attrs:{cat:u,mdl:o,key:c}})=>g("section.w3-section.w3-border-left.",{key:c,id:u.id},g(".w3-panel.w3-bar",{style:{position:"-webkit-sticky",position:"sticky",top:0,backgroundColor:"white"}},g("p.w3-right",u.title.toUpperCase()),g("button.w3-btn w3-border-none w3-padding.w3-left",{onclick:()=>{o.state.modalContent=g(Kt,{mdl:o,catId:u.id}),o.state.showModal=!0}},"+")),g(".w3-ul w3-paddings w3-border-top.dragster-region",u.items.map((f,l)=>g(Sn,{key:f.id,item:f,mdl:o}))))}},Cn=()=>({view:({attrs:{mdl:t,state:e}})=>g("section.w3-section.w3-row w3-ul. w3-padding-row",{style:{height:"80dvh",overflow:"auto"}},t.currentStore?t.currentStore.cats.map((i,u)=>g(En,{key:u,cat:i,mdl:t,state:e})):g("section.w3-section",g("button.w3-border-0 w3-button w3-panel.w3-display-middle w3-light-grey w3-col-1",{onclick:()=>{t.state.modalContent=g(Le,{mdl:t}),t.state.showModal=!0}},"Create a Store to Begin")))}),On=({attrs:{mdl:t}})=>({view:()=>g(".w3-modal#modal",{onclick:e=>{e.target.id=="modal"&&(t.state.showModal=!1,t.state.modalContent=null)},style:{display:t.state.showModal?"block":"none"}},g("modal.w3-modal-content",g(".w3-container",t.state.modalContent)))});R.SKIP={};R.lift=In;R.scan=Pn;R.merge=ze;R.combine=St;R.scanMerge=An;R["fantasy-land/of"]=R;var ye=!1;Object.defineProperty(R,"HALT",{get:function(){return ye||console.log("HALT is deprecated and has been renamed to SKIP"),ye=!0,R.SKIP}});function R(t){var e=[],i=[];function u(f){return arguments.length&&f!==R.SKIP&&(t=f,de(u)&&(u.changing(),u.state="active",e.forEach(function(l,p){l(i[p](t))}))),t}u.constructor=R,u.state=arguments.length&&t!==R.SKIP?"active":"pending",u.parents=[],u.changing=function(){de(u)&&(u.state="changing"),e.forEach(function(f){f.changing()})},u.map=function(f,l){var p=u.state==="active"&&l!==R.SKIP?R(f(t)):R();return p.parents.push(u),e.push(p),i.push(f),p};var o;function c(){return o=R(),o.map(function(f){return f===!0&&(u.parents.forEach(function(l){l.unregisterChild(u)}),u.state="ended",u.parents.length=e.length=i.length=0),f}),o}return u.toJSON=function(){return t!=null&&typeof t.toJSON=="function"?t.toJSON():t},u["fantasy-land/map"]=u.map,u["fantasy-land/ap"]=function(f){return St(function(l,p){return l()(p())},[f,u])},u.unregisterChild=function(f){var l=e.indexOf(f);l!==-1&&(e.splice(l,1),i.splice(l,1))},Object.defineProperty(u,"end",{get:function(){return o||c()}}),u}function St(t,e){var i=e.every(function(l){if(l.constructor!==R)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return l.state==="active"}),u=i?R(t.apply(null,e.concat([e]))):R(),o=[],c=e.map(function(l){return l.map(function(p){return o.push(l),(i||e.every(function(m){return m.state!=="pending"}))&&(i=!0,u(t.apply(null,e.concat([o]))),o=[]),p},R.SKIP)}),f=u.end.map(function(l){l===!0&&(c.forEach(function(p){p.end(!0)}),f.end(!0))});return u}function ze(t){return St(function(){return t.map(function(e){return e()})},t)}function Pn(t,e,i){var u=i.map(function(o){var c=t(e,o);return c!==R.SKIP&&(e=c),c});return u(e),u}function An(t,e){var i=t.map(function(o){return o[0]}),u=St(function(){var o=arguments[arguments.length-1];return i.forEach(function(c,f){o.indexOf(c)>-1&&(e=t[f][1](e,c()))}),e},i);return u(e),u}function In(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return ze(e).map(function(i){return t.apply(void 0,i)})}function de(t){return t.state==="pending"||t.state==="active"||t.state==="changing"}const xn=t=>({maxHeight:"100dvh",overflow:"hidden",marginLeft:t.settings.profile=="desktop"?"300px":"0"}),jn=t=>{const e={sidebar:{open:!1},setCat:R(null),toggleSideBar:i=>i.sidebar.open=!i.sidebar.open};return it(t),{view:()=>g("page.w3-theme",g(On,{mdl:t}),g(gn,{mdl:t,state:e}),g("section.#main",{style:xn(t)},g(mn,{mdl:t,state:e}),g(Cn,{mdl:t,state:e})))}},Nn=document.body;let Me=window.innerWidth;"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./service-worker.js").then(t=>{console.log("\u2699\uFE0F SW registered: ",t)}).catch(t=>{console.log("\u{1F9DF} SW registration failed: ",t)})});const Ue=t=>t<=411?"phone":t<=990?"tablet":"desktop",De=t=>{const e=window.innerWidth;if(t!==e){t=e;var i=mt.settings.profile;mt.settings.profile=Ue(e),i!=mt.settings.profile&&g.redraw()}return requestAnimationFrame(De)};mt.settings.profile=Ue(Me);De(Me);g.mount(Nn,jn(mt));
