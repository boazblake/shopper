const er=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const l of u.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function i(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerpolicy&&(u.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?u.credentials="include":s.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(s){if(s.ep)return;s.ep=!0;const u=i(s);fetch(s.href,u)}};er();var Oe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Ae(e,t,i,o,s,u){return{tag:e,key:t,attrs:i,children:o,text:s,dom:u,domSize:void 0,state:void 0,events:void 0,instance:void 0}}Ae.normalize=function(e){return Array.isArray(e)?Ae("[",void 0,void 0,Ae.normalizeChildren(e),void 0,void 0):e==null||typeof e=="boolean"?null:typeof e=="object"?e:Ae("#",void 0,void 0,String(e),void 0,void 0)};Ae.normalizeChildren=function(e){var t=[];if(e.length){for(var i=e[0]!=null&&e[0].key!=null,o=1;o<e.length;o++)if((e[o]!=null&&e[o].key!=null)!==i)throw new TypeError(i&&(e[o]!=null||typeof e[o]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var o=0;o<e.length;o++)t[o]=Ae.normalize(e[o])}return t};var ye=Ae,tr=ye,It=function(){var e=arguments[this],t=this+1,i;if(e==null?e={}:(typeof e!="object"||e.tag!=null||Array.isArray(e))&&(e={},t=this),arguments.length===t+1)i=arguments[t],Array.isArray(i)||(i=[i]);else for(i=[];t<arguments.length;)i.push(arguments[t++]);return tr("",e.key,e,i)},Ye={}.hasOwnProperty,rr=ye,nr=It,xe=Ye,ir=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,Dt={};function ct(e){for(var t in e)if(xe.call(e,t))return!1;return!0}function ar(e){for(var t,i="div",o=[],s={};t=ir.exec(e);){var u=t[1],l=t[2];if(u===""&&l!=="")i=l;else if(u==="#")s.id=l;else if(u===".")o.push(l);else if(t[3][0]==="["){var c=t[6];c&&(c=c.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),t[4]==="class"?o.push(c):s[t[4]]=c===""?c:c||!0}}return o.length>0&&(s.className=o.join(" ")),Dt[e]={tag:i,attrs:s}}function or(e,t){var i=t.attrs,o=xe.call(i,"class"),s=o?i.class:i.className;if(t.tag=e.tag,t.attrs={},!ct(e.attrs)&&!ct(i)){var u={};for(var l in i)xe.call(i,l)&&(u[l]=i[l]);i=u}for(var l in e.attrs)xe.call(e.attrs,l)&&l!=="className"&&!xe.call(i,l)&&(i[l]=e.attrs[l]);(s!=null||e.attrs.className!=null)&&(i.className=s!=null?e.attrs.className!=null?String(e.attrs.className)+" "+String(s):s:e.attrs.className!=null?e.attrs.className:null),o&&(i.class=null);for(var l in i)if(xe.call(i,l)&&l!=="key"){t.attrs=i;break}return t}function sr(e){if(e==null||typeof e!="string"&&typeof e!="function"&&typeof e.view!="function")throw Error("The selector must be either a string or a component.");var t=nr.apply(1,arguments);return typeof e=="string"&&(t.children=rr.normalizeChildren(t.children),e!=="[")?or(Dt[e]||ar(e),t):(t.tag=e,t)}var Nt=sr,lr=ye,ur=function(e){return e==null&&(e=""),lr("<",void 0,void 0,e,void 0,void 0)},cr=ye,fr=It,pr=function(){var e=fr.apply(0,arguments);return e.tag="[",e.children=cr.normalizeChildren(e.children),e},tt=Nt;tt.trust=ur;tt.fragment=pr;var gr=tt,Fe={exports:{}},ee=function(e){if(!(this instanceof ee))throw new Error("Promise must be called with 'new'.");if(typeof e!="function")throw new TypeError("executor must be a function.");var t=this,i=[],o=[],s=g(i,!0),u=g(o,!1),l=t._instance={resolvers:i,rejectors:o},c=typeof setImmediate=="function"?setImmediate:setTimeout;function g(b,C){return function T(L){var P;try{if(C&&L!=null&&(typeof L=="object"||typeof L=="function")&&typeof(P=L.then)=="function"){if(L===t)throw new TypeError("Promise can't be resolved with itself.");m(P.bind(L))}else c(function(){!C&&b.length===0&&console.error("Possible unhandled promise rejection:",L);for(var O=0;O<b.length;O++)b[O](L);i.length=0,o.length=0,l.state=C,l.retry=function(){T(L)}})}catch(O){u(O)}}}function m(b){var C=0;function T(P){return function(O){C++>0||P(O)}}var L=T(u);try{b(T(s),L)}catch(P){L(P)}}m(e)};ee.prototype.then=function(e,t){var i=this,o=i._instance;function s(g,m,b,C){m.push(function(T){if(typeof g!="function")b(T);else try{u(g(T))}catch(L){l&&l(L)}}),typeof o.retry=="function"&&C===o.state&&o.retry()}var u,l,c=new ee(function(g,m){u=g,l=m});return s(e,o.resolvers,u,!0),s(t,o.rejectors,l,!1),c};ee.prototype.catch=function(e){return this.then(null,e)};ee.prototype.finally=function(e){return this.then(function(t){return ee.resolve(e()).then(function(){return t})},function(t){return ee.resolve(e()).then(function(){return ee.reject(t)})})};ee.resolve=function(e){return e instanceof ee?e:new ee(function(t){t(e)})};ee.reject=function(e){return new ee(function(t,i){i(e)})};ee.all=function(e){return new ee(function(t,i){var o=e.length,s=0,u=[];if(e.length===0)t([]);else for(var l=0;l<e.length;l++)(function(c){function g(m){s++,u[c]=m,s===o&&t(u)}e[c]!=null&&(typeof e[c]=="object"||typeof e[c]=="function")&&typeof e[c].then=="function"?e[c].then(g,i):g(e[c])})(l)})};ee.race=function(e){return new ee(function(t,i){for(var o=0;o<e.length;o++)e[o].then(t,i)})};var Rt=ee,ze=Rt;typeof window!="undefined"?(typeof window.Promise=="undefined"?window.Promise=ze:window.Promise.prototype.finally||(window.Promise.prototype.finally=ze.prototype.finally),Fe.exports=window.Promise):typeof Oe!="undefined"?(typeof Oe.Promise=="undefined"?Oe.Promise=ze:Oe.Promise.prototype.finally||(Oe.Promise.prototype.finally=ze.prototype.finally),Fe.exports=Oe.Promise):Fe.exports=ze;var Qe=ye,hr=function(e){var t=e&&e.document,i,o={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function s(n){return n.attrs&&n.attrs.xmlns||o[n.tag]}function u(n,r){if(n.state!==r)throw new Error("'vnode.state' must not be modified.")}function l(n){var r=n.state;try{return this.apply(r,arguments)}finally{u(n,r)}}function c(){try{return t.activeElement}catch{return null}}function g(n,r,a,p,h,w,k){for(var M=a;M<p;M++){var S=r[M];S!=null&&m(n,S,h,k,w)}}function m(n,r,a,p,h){var w=r.tag;if(typeof w=="string")switch(r.state={},r.attrs!=null&&we(r.attrs,r,a),w){case"#":b(n,r,h);break;case"<":T(n,r,p,h);break;case"[":L(n,r,a,p,h);break;default:P(n,r,a,p,h)}else H(n,r,a,p,h)}function b(n,r,a){r.dom=t.createTextNode(r.children),ne(n,r.dom,a)}var C={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function T(n,r,a,p){var h=r.children.match(/^\s*?<(\w+)/im)||[],w=t.createElement(C[h[1]]||"div");a==="http://www.w3.org/2000/svg"?(w.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+r.children+"</svg>",w=w.firstChild):w.innerHTML=r.children,r.dom=w.firstChild,r.domSize=w.childNodes.length,r.instance=[];for(var k=t.createDocumentFragment(),M;M=w.firstChild;)r.instance.push(M),k.appendChild(M);ne(n,k,p)}function L(n,r,a,p,h){var w=t.createDocumentFragment();if(r.children!=null){var k=r.children;g(w,k,0,k.length,a,null,p)}r.dom=w.firstChild,r.domSize=w.childNodes.length,ne(n,w,h)}function P(n,r,a,p,h){var w=r.tag,k=r.attrs,M=k&&k.is;p=s(r)||p;var S=p?M?t.createElementNS(p,w,{is:M}):t.createElementNS(p,w):M?t.createElement(w,{is:M}):t.createElement(w);if(r.dom=S,k!=null&&Ie(r,k,p),ne(n,S,h),!K(r)&&r.children!=null){var z=r.children;g(S,z,0,z.length,a,null,p),r.tag==="select"&&k!=null&&Z(r,k)}}function O(n,r){var a;if(typeof n.tag.view=="function"){if(n.state=Object.create(n.tag),a=n.state.view,a.$$reentrantLock$$!=null)return;a.$$reentrantLock$$=!0}else{if(n.state=void 0,a=n.tag,a.$$reentrantLock$$!=null)return;a.$$reentrantLock$$=!0,n.state=n.tag.prototype!=null&&typeof n.tag.prototype.view=="function"?new n.tag(n):n.tag(n)}if(we(n.state,n,r),n.attrs!=null&&we(n.attrs,n,r),n.instance=Qe.normalize(l.call(n.state.view,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");a.$$reentrantLock$$=null}function H(n,r,a,p,h){O(r,a),r.instance!=null?(m(n,r.instance,a,p,h),r.dom=r.instance.dom,r.domSize=r.dom!=null?r.instance.domSize:0):r.domSize=0}function F(n,r,a,p,h,w){if(!(r===a||r==null&&a==null))if(r==null||r.length===0)g(n,a,0,a.length,p,h,w);else if(a==null||a.length===0)ce(n,r,0,r.length);else{var k=r[0]!=null&&r[0].key!=null,M=a[0]!=null&&a[0].key!=null,S=0,z=0;if(!k)for(;z<r.length&&r[z]==null;)z++;if(!M)for(;S<a.length&&a[S]==null;)S++;if(k!==M)ce(n,r,z,r.length),g(n,a,S,a.length,p,h,w);else if(M){for(var f=r.length-1,y=a.length-1,E,A,I,j,D,ae;f>=z&&y>=S&&(j=r[f],D=a[y],j.key===D.key);)j!==D&&X(n,j,D,p,h,w),D.dom!=null&&(h=D.dom),f--,y--;for(;f>=z&&y>=S&&(A=r[z],I=a[S],A.key===I.key);)z++,S++,A!==I&&X(n,A,I,p,Q(r,z,h),w);for(;f>=z&&y>=S&&!(S===y||A.key!==D.key||j.key!==I.key);)ae=Q(r,z,h),x(n,j,ae),j!==I&&X(n,j,I,p,ae,w),++S<=--y&&x(n,A,h),A!==D&&X(n,A,D,p,h,w),D.dom!=null&&(h=D.dom),z++,f--,j=r[f],D=a[y],A=r[z],I=a[S];for(;f>=z&&y>=S&&j.key===D.key;)j!==D&&X(n,j,D,p,h,w),D.dom!=null&&(h=D.dom),f--,y--,j=r[f],D=a[y];if(S>y)ce(n,r,z,f+1);else if(z>f)g(n,a,S,y+1,p,h,w);else{var ge=h,$e=y-S+1,Se=new Array($e),He=0,V=0,Te=2147483647,Re=0,E,Be;for(V=0;V<$e;V++)Se[V]=-1;for(V=y;V>=S;V--){E==null&&(E=v(r,z,f+1)),D=a[V];var he=E[D.key];he!=null&&(Te=he<Te?he:-1,Se[V-S]=he,j=r[he],r[he]=null,j!==D&&X(n,j,D,p,h,w),D.dom!=null&&(h=D.dom),Re++)}if(h=ge,Re!==f-z+1&&ce(n,r,z,f+1),Re===0)g(n,a,S,y+1,p,h,w);else if(Te===-1)for(Be=W(Se),He=Be.length-1,V=y;V>=S;V--)I=a[V],Se[V-S]===-1?m(n,I,p,w,h):Be[He]===V-S?He--:x(n,I,h),I.dom!=null&&(h=a[V].dom);else for(V=y;V>=S;V--)I=a[V],Se[V-S]===-1&&m(n,I,p,w,h),I.dom!=null&&(h=a[V].dom)}}else{var ie=r.length<a.length?r.length:a.length;for(S=S<z?S:z;S<ie;S++)A=r[S],I=a[S],!(A===I||A==null&&I==null)&&(A==null?m(n,I,p,w,Q(r,S+1,h)):I==null?se(n,A):X(n,A,I,p,Q(r,S+1,h),w));r.length>ie&&ce(n,r,S,r.length),a.length>ie&&g(n,a,S,a.length,p,h,w)}}}function X(n,r,a,p,h,w){var k=r.tag,M=a.tag;if(k===M){if(a.state=r.state,a.events=r.events,qe(a,r))return;if(typeof k=="string")switch(a.attrs!=null&&Ce(a.attrs,a,p),k){case"#":q(r,a);break;case"<":N(n,r,a,w,h);break;case"[":$(n,r,a,p,h,w);break;default:R(r,a,p,w)}else U(n,r,a,p,h,w)}else se(n,r),m(n,a,p,w,h)}function q(n,r){n.children.toString()!==r.children.toString()&&(n.dom.nodeValue=r.children),r.dom=n.dom}function N(n,r,a,p,h){r.children!==a.children?(fe(n,r),T(n,a,p,h)):(a.dom=r.dom,a.domSize=r.domSize,a.instance=r.instance)}function $(n,r,a,p,h,w){F(n,r.children,a.children,p,h,w);var k=0,M=a.children;if(a.dom=null,M!=null){for(var S=0;S<M.length;S++){var z=M[S];z!=null&&z.dom!=null&&(a.dom==null&&(a.dom=z.dom),k+=z.domSize||1)}k!==1&&(a.domSize=k)}}function R(n,r,a,p){var h=r.dom=n.dom;p=s(r)||p,r.tag==="textarea"&&r.attrs==null&&(r.attrs={}),Ne(r,n.attrs,r.attrs,p),K(r)||F(h,n.children,r.children,a,null,p)}function U(n,r,a,p,h,w){if(a.instance=Qe.normalize(l.call(a.state.view,a)),a.instance===a)throw Error("A view cannot return the vnode it received as argument");Ce(a.state,a,p),a.attrs!=null&&Ce(a.attrs,a,p),a.instance!=null?(r.instance==null?m(n,a.instance,p,w,h):X(n,r.instance,a.instance,p,h,w),a.dom=a.instance.dom,a.domSize=a.instance.domSize):r.instance!=null?(se(n,r.instance),a.dom=void 0,a.domSize=0):(a.dom=r.dom,a.domSize=r.domSize)}function v(n,r,a){for(var p=Object.create(null);r<a;r++){var h=n[r];if(h!=null){var w=h.key;w!=null&&(p[w]=r)}}return p}var _=[];function W(n){for(var r=[0],a=0,p=0,h=0,w=_.length=n.length,h=0;h<w;h++)_[h]=n[h];for(var h=0;h<w;++h)if(n[h]!==-1){var k=r[r.length-1];if(n[k]<n[h]){_[h]=k,r.push(h);continue}for(a=0,p=r.length-1;a<p;){var M=(a>>>1)+(p>>>1)+(a&p&1);n[r[M]]<n[h]?a=M+1:p=M}n[h]<n[r[a]]&&(a>0&&(_[h]=r[a-1]),r[a]=h)}for(a=r.length,p=r[a-1];a-- >0;)r[a]=p,p=_[p];return _.length=0,r}function Q(n,r,a){for(;r<n.length;r++)if(n[r]!=null&&n[r].dom!=null)return n[r].dom;return a}function x(n,r,a){var p=t.createDocumentFragment();ue(n,p,r),ne(n,p,a)}function ue(n,r,a){for(;a.dom!=null&&a.dom.parentNode===n;){if(typeof a.tag!="string"){if(a=a.instance,a!=null)continue}else if(a.tag==="<")for(var p=0;p<a.instance.length;p++)r.appendChild(a.instance[p]);else if(a.tag!=="[")r.appendChild(a.dom);else if(a.children.length===1){if(a=a.children[0],a!=null)continue}else for(var p=0;p<a.children.length;p++){var h=a.children[p];h!=null&&ue(n,r,h)}break}}function ne(n,r,a){a!=null?n.insertBefore(r,a):n.appendChild(r)}function K(n){if(n.attrs==null||n.attrs.contenteditable==null&&n.attrs.contentEditable==null)return!1;var r=n.children;if(r!=null&&r.length===1&&r[0].tag==="<"){var a=r[0].children;n.dom.innerHTML!==a&&(n.dom.innerHTML=a)}else if(r!=null&&r.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function ce(n,r,a,p){for(var h=a;h<p;h++){var w=r[h];w!=null&&se(n,w)}}function se(n,r){var a=0,p=r.state,h,w;if(typeof r.tag!="string"&&typeof r.state.onbeforeremove=="function"){var k=l.call(r.state.onbeforeremove,r);k!=null&&typeof k.then=="function"&&(a=1,h=k)}if(r.attrs&&typeof r.attrs.onbeforeremove=="function"){var k=l.call(r.attrs.onbeforeremove,r);k!=null&&typeof k.then=="function"&&(a|=2,w=k)}if(u(r,p),!a)de(r),re(n,r);else{if(h!=null){var M=function(){a&1&&(a&=2,a||S())};h.then(M,M)}if(w!=null){var M=function(){a&2&&(a&=1,a||S())};w.then(M,M)}}function S(){u(r,p),de(r),re(n,r)}}function fe(n,r){for(var a=0;a<r.instance.length;a++)n.removeChild(r.instance[a])}function re(n,r){for(;r.dom!=null&&r.dom.parentNode===n;){if(typeof r.tag!="string"){if(r=r.instance,r!=null)continue}else if(r.tag==="<")fe(n,r);else{if(r.tag!=="["&&(n.removeChild(r.dom),!Array.isArray(r.children)))break;if(r.children.length===1){if(r=r.children[0],r!=null)continue}else for(var a=0;a<r.children.length;a++){var p=r.children[a];p!=null&&re(n,p)}}break}}function de(n){if(typeof n.tag!="string"&&typeof n.state.onremove=="function"&&l.call(n.state.onremove,n),n.attrs&&typeof n.attrs.onremove=="function"&&l.call(n.attrs.onremove,n),typeof n.tag!="string")n.instance!=null&&de(n.instance);else{var r=n.children;if(Array.isArray(r))for(var a=0;a<r.length;a++){var p=r[a];p!=null&&de(p)}}}function Ie(n,r,a){n.tag==="input"&&r.type!=null&&n.dom.setAttribute("type",r.type);var p=r!=null&&n.tag==="input"&&r.type==="file";for(var h in r)J(n,h,null,r[h],a,p)}function J(n,r,a,p,h,w){if(!(r==="key"||r==="is"||p==null||ve(r)||a===p&&!_e(n,r)&&typeof p!="object"||r==="type"&&n.tag==="input")){if(r[0]==="o"&&r[1]==="n")return Ee(n,r,p);if(r.slice(0,6)==="xlink:")n.dom.setAttributeNS("http://www.w3.org/1999/xlink",r.slice(6),p);else if(r==="style")je(n.dom,a,p);else if(be(n,r,h)){if(r==="value"){if((n.tag==="input"||n.tag==="textarea")&&n.dom.value===""+p&&(w||n.dom===c())||n.tag==="select"&&a!==null&&n.dom.value===""+p||n.tag==="option"&&a!==null&&n.dom.value===""+p)return;if(w&&""+p!=""){console.error("`value` is read-only on file inputs!");return}}n.dom[r]=p}else typeof p=="boolean"?p?n.dom.setAttribute(r,""):n.dom.removeAttribute(r):n.dom.setAttribute(r==="className"?"class":r,p)}}function De(n,r,a,p){if(!(r==="key"||r==="is"||a==null||ve(r)))if(r[0]==="o"&&r[1]==="n")Ee(n,r,void 0);else if(r==="style")je(n.dom,a,null);else if(be(n,r,p)&&r!=="className"&&r!=="title"&&!(r==="value"&&(n.tag==="option"||n.tag==="select"&&n.dom.selectedIndex===-1&&n.dom===c()))&&!(n.tag==="input"&&r==="type"))n.dom[r]=null;else{var h=r.indexOf(":");h!==-1&&(r=r.slice(h+1)),a!==!1&&n.dom.removeAttribute(r==="className"?"class":r)}}function Z(n,r){if("value"in r)if(r.value===null)n.dom.selectedIndex!==-1&&(n.dom.value=null);else{var a=""+r.value;(n.dom.value!==a||n.dom.selectedIndex===-1)&&(n.dom.value=a)}"selectedIndex"in r&&J(n,"selectedIndex",null,r.selectedIndex,void 0)}function Ne(n,r,a,p){if(r&&r===a&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),a!=null){n.tag==="input"&&a.type!=null&&n.dom.setAttribute("type",a.type);var h=n.tag==="input"&&a.type==="file";for(var w in a)J(n,w,r&&r[w],a[w],p,h)}var k;if(r!=null)for(var w in r)(k=r[w])!=null&&(a==null||a[w]==null)&&De(n,w,k,p)}function _e(n,r){return r==="value"||r==="checked"||r==="selectedIndex"||r==="selected"&&n.dom===c()||n.tag==="option"&&n.dom.parentNode===t.activeElement}function ve(n){return n==="oninit"||n==="oncreate"||n==="onupdate"||n==="onremove"||n==="onbeforeremove"||n==="onbeforeupdate"}function be(n,r,a){return a===void 0&&(n.tag.indexOf("-")>-1||n.attrs!=null&&n.attrs.is||r!=="href"&&r!=="list"&&r!=="form"&&r!=="width"&&r!=="height")&&r in n.dom}var Me=/[A-Z]/g;function Ve(n){return"-"+n.toLowerCase()}function me(n){return n[0]==="-"&&n[1]==="-"?n:n==="cssFloat"?"float":n.replace(Me,Ve)}function je(n,r,a){if(r!==a)if(a==null)n.style.cssText="";else if(typeof a!="object")n.style.cssText=a;else if(r==null||typeof r!="object"){n.style.cssText="";for(var p in a){var h=a[p];h!=null&&n.style.setProperty(me(p),String(h))}}else{for(var p in a){var h=a[p];h!=null&&(h=String(h))!==String(r[p])&&n.style.setProperty(me(p),h)}for(var p in r)r[p]!=null&&a[p]==null&&n.style.removeProperty(me(p))}}function le(){this._=i}le.prototype=Object.create(null),le.prototype.handleEvent=function(n){var r=this["on"+n.type],a;typeof r=="function"?a=r.call(n.currentTarget,n):typeof r.handleEvent=="function"&&r.handleEvent(n),this._&&n.redraw!==!1&&(0,this._)(),a===!1&&(n.preventDefault(),n.stopPropagation())};function Ee(n,r,a){if(n.events!=null){if(n.events._=i,n.events[r]===a)return;a!=null&&(typeof a=="function"||typeof a=="object")?(n.events[r]==null&&n.dom.addEventListener(r.slice(2),n.events,!1),n.events[r]=a):(n.events[r]!=null&&n.dom.removeEventListener(r.slice(2),n.events,!1),n.events[r]=void 0)}else a!=null&&(typeof a=="function"||typeof a=="object")&&(n.events=new le,n.dom.addEventListener(r.slice(2),n.events,!1),n.events[r]=a)}function we(n,r,a){typeof n.oninit=="function"&&l.call(n.oninit,r),typeof n.oncreate=="function"&&a.push(l.bind(n.oncreate,r))}function Ce(n,r,a){typeof n.onupdate=="function"&&a.push(l.bind(n.onupdate,r))}function qe(n,r){do{if(n.attrs!=null&&typeof n.attrs.onbeforeupdate=="function"){var a=l.call(n.attrs.onbeforeupdate,n,r);if(a!==void 0&&!a)break}if(typeof n.tag!="string"&&typeof n.state.onbeforeupdate=="function"){var a=l.call(n.state.onbeforeupdate,n,r);if(a!==void 0&&!a)break}return!1}while(!1);return n.dom=r.dom,n.domSize=r.domSize,n.instance=r.instance,n.attrs=r.attrs,n.children=r.children,n.text=r.text,!0}var pe;return function(n,r,a){if(!n)throw new TypeError("DOM element being rendered to does not exist.");if(pe!=null&&n.contains(pe))throw new TypeError("Node is currently being rendered to and thus is locked.");var p=i,h=pe,w=[],k=c(),M=n.namespaceURI;pe=n,i=typeof a=="function"?a:void 0;try{n.vnodes==null&&(n.textContent=""),r=Qe.normalizeChildren(Array.isArray(r)?r:[r]),F(n,n.vnodes,r,w,null,M==="http://www.w3.org/1999/xhtml"?void 0:M),n.vnodes=r,k!=null&&c()!==k&&typeof k.focus=="function"&&k.focus();for(var S=0;S<w.length;S++)w[S]()}finally{i=p,pe=h}}},xt=hr(typeof window!="undefined"?window:null),ft=ye,dr=function(e,t,i){var o=[],s=!1,u=-1;function l(){for(u=0;u<o.length;u+=2)try{e(o[u],ft(o[u+1]),c)}catch(m){i.error(m)}u=-1}function c(){s||(s=!0,t(function(){s=!1,l()}))}c.sync=l;function g(m,b){if(b!=null&&b.view==null&&typeof b!="function")throw new TypeError("m.mount expects a component, not a vnode.");var C=o.indexOf(m);C>=0&&(o.splice(C,2),C<=u&&(u-=2),e(m,[])),b!=null&&(o.push(m,b),e(m,ft(b),c))}return{mount:g,redraw:c}},mr=xt,rt=dr(mr,typeof requestAnimationFrame!="undefined"?requestAnimationFrame:null,typeof console!="undefined"?console:null),_t=function(e){if(Object.prototype.toString.call(e)!=="[object Object]")return"";var t=[];for(var i in e)o(i,e[i]);return t.join("&");function o(s,u){if(Array.isArray(u))for(var l=0;l<u.length;l++)o(s+"["+l+"]",u[l]);else if(Object.prototype.toString.call(u)==="[object Object]")for(var l in u)o(s+"["+l+"]",u[l]);else t.push(encodeURIComponent(s)+(u!=null&&u!==""?"="+encodeURIComponent(u):""))}},wr=Ye,Mt=Object.assign||function(e,t){for(var i in t)wr.call(t,i)&&(e[i]=t[i])},yr=_t,vr=Mt,nt=function(e,t){if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(t==null)return e;var i=e.indexOf("?"),o=e.indexOf("#"),s=o<0?e.length:o,u=i<0?s:i,l=e.slice(0,u),c={};vr(c,t);var g=l.replace(/:([^\/\.-]+)(\.{3})?/g,function(O,H,F){return delete c[H],t[H]==null?O:F?t[H]:encodeURIComponent(String(t[H]))}),m=g.indexOf("?"),b=g.indexOf("#"),C=b<0?g.length:b,T=m<0?C:m,L=g.slice(0,T);i>=0&&(L+=e.slice(i,s)),m>=0&&(L+=(i<0?"?":"&")+g.slice(m,C));var P=yr(c);return P&&(L+=(i<0&&m<0?"?":"&")+P),o>=0&&(L+=e.slice(o)),b>=0&&(L+=(o<0?"":"&")+g.slice(b)),L},br=nt,pt=Ye,Er=function(e,t,i){var o=0;function s(c){return new t(c)}s.prototype=t.prototype,s.__proto__=t;function u(c){return function(g,m){typeof g!="string"?(m=g,g=g.url):m==null&&(m={});var b=new t(function(P,O){c(br(g,m.params),m,function(H){if(typeof m.type=="function")if(Array.isArray(H))for(var F=0;F<H.length;F++)H[F]=new m.type(H[F]);else H=new m.type(H);P(H)},O)});if(m.background===!0)return b;var C=0;function T(){--C===0&&typeof i=="function"&&i()}return L(b);function L(P){var O=P.then;return P.constructor=s,P.then=function(){C++;var H=O.apply(P,arguments);return H.then(T,function(F){if(T(),C===0)throw F}),L(H)},P}}}function l(c,g){for(var m in c.headers)if(pt.call(c.headers,m)&&m.toLowerCase()===g)return!0;return!1}return{request:u(function(c,g,m,b){var C=g.method!=null?g.method.toUpperCase():"GET",T=g.body,L=(g.serialize==null||g.serialize===JSON.serialize)&&!(T instanceof e.FormData||T instanceof e.URLSearchParams),P=g.responseType||(typeof g.extract=="function"?"":"json"),O=new e.XMLHttpRequest,H=!1,F=!1,X=O,q,N=O.abort;O.abort=function(){H=!0,N.call(this)},O.open(C,c,g.async!==!1,typeof g.user=="string"?g.user:void 0,typeof g.password=="string"?g.password:void 0),L&&T!=null&&!l(g,"content-type")&&O.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof g.deserialize!="function"&&!l(g,"accept")&&O.setRequestHeader("Accept","application/json, text/*"),g.withCredentials&&(O.withCredentials=g.withCredentials),g.timeout&&(O.timeout=g.timeout),O.responseType=P;for(var $ in g.headers)pt.call(g.headers,$)&&O.setRequestHeader($,g.headers[$]);O.onreadystatechange=function(R){if(!H&&R.target.readyState===4)try{var U=R.target.status>=200&&R.target.status<300||R.target.status===304||/^file:\/\//i.test(c),v=R.target.response,_;if(P==="json"){if(!R.target.responseType&&typeof g.extract!="function")try{v=JSON.parse(R.target.responseText)}catch{v=null}}else(!P||P==="text")&&v==null&&(v=R.target.responseText);if(typeof g.extract=="function"?(v=g.extract(R.target,g),U=!0):typeof g.deserialize=="function"&&(v=g.deserialize(v)),U)m(v);else{var W=function(){try{_=R.target.responseText}catch{_=v}var Q=new Error(_);Q.code=R.target.status,Q.response=v,b(Q)};O.status===0?setTimeout(function(){F||W()}):W()}}catch(Q){b(Q)}},O.ontimeout=function(R){F=!0;var U=new Error("Request timed out");U.code=R.target.status,b(U)},typeof g.config=="function"&&(O=g.config(O,g,c)||O,O!==X&&(q=O.abort,O.abort=function(){H=!0,q.call(this)})),T==null?O.send():typeof g.serialize=="function"?O.send(g.serialize(T)):T instanceof e.FormData||T instanceof e.URLSearchParams?O.send(T):O.send(JSON.stringify(T))}),jsonp:u(function(c,g,m,b){var C=g.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+o++,T=e.document.createElement("script");e[C]=function(L){delete e[C],T.parentNode.removeChild(T),m(L)},T.onerror=function(){delete e[C],T.parentNode.removeChild(T),b(new Error("JSONP request failed"))},T.src=c+(c.indexOf("?")<0?"?":"&")+encodeURIComponent(g.callbackKey||"callback")+"="+encodeURIComponent(C),e.document.documentElement.appendChild(T)})}},Cr=Fe.exports,Sr=rt,Tr=Er(typeof window!="undefined"?window:null,Cr,Sr.redraw);function gt(e){try{return decodeURIComponent(e)}catch{return e}}var jt=function(e){if(e===""||e==null)return{};e.charAt(0)==="?"&&(e=e.slice(1));for(var t=e.split("&"),i={},o={},s=0;s<t.length;s++){var u=t[s].split("="),l=gt(u[0]),c=u.length===2?gt(u[1]):"";c==="true"?c=!0:c==="false"&&(c=!1);var g=l.split(/\]\[?|\[/),m=o;l.indexOf("[")>-1&&g.pop();for(var b=0;b<g.length;b++){var C=g[b],T=g[b+1],L=T==""||!isNaN(parseInt(T,10));if(C===""){var l=g.slice(0,b).join();i[l]==null&&(i[l]=Array.isArray(m)?m.length:0),C=i[l]++}else if(C==="__proto__")break;if(b===g.length-1)m[C]=c;else{var P=Object.getOwnPropertyDescriptor(m,C);P!=null&&(P=P.value),P==null&&(m[C]=P=L?[]:{}),m=P}}}return o},Or=jt,it=function(e){var t=e.indexOf("?"),i=e.indexOf("#"),o=i<0?e.length:i,s=t<0?o:t,u=e.slice(0,s).replace(/\/{2,}/g,"/");return u?(u[0]!=="/"&&(u="/"+u),u.length>1&&u[u.length-1]==="/"&&(u=u.slice(0,-1))):u="/",{path:u,params:t<0?{}:Or(e.slice(t+1,o))}},Lr=it,Ar=function(e){var t=Lr(e),i=Object.keys(t.params),o=[],s=new RegExp("^"+t.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(u,l,c){return l==null?"\\"+u:(o.push({k:l,r:c==="..."}),c==="..."?"(.*)":c==="."?"([^/]+)\\.":"([^/]+)"+(c||""))})+"$");return function(u){for(var l=0;l<i.length;l++)if(t.params[i[l]]!==u.params[i[l]])return!1;if(!o.length)return s.test(u.path);var c=s.exec(u.path);if(c==null)return!1;for(var l=0;l<o.length;l++)u.params[o[l].k]=o[l].r?c[l+1]:decodeURIComponent(c[l+1]);return!0}},ht=Ye,dt=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$"),qt=function(e,t){var i={};if(t!=null)for(var o in e)ht.call(e,o)&&!dt.test(o)&&t.indexOf(o)<0&&(i[o]=e[o]);else for(var o in e)ht.call(e,o)&&!dt.test(o)&&(i[o]=e[o]);return i},Pr=ye,kr=Nt,Ir=Fe.exports,mt=nt,wt=it,Dr=Ar,Nr=Mt,Rr=qt,Ze={};function xr(e){try{return decodeURIComponent(e)}catch{return e}}var _r=function(e,t){var i=e==null?null:typeof e.setImmediate=="function"?e.setImmediate:e.setTimeout,o=Ir.resolve(),s=!1,u=!1,l=0,c,g,m=Ze,b,C,T,L,P={onbeforeupdate:function(){return l=l?2:1,!(!l||Ze===m)},onremove:function(){e.removeEventListener("popstate",F,!1),e.removeEventListener("hashchange",H,!1)},view:function(){if(!(!l||Ze===m)){var N=[Pr(b,C.key,C)];return m&&(N=m.render(N[0])),N}}},O=q.SKIP={};function H(){s=!1;var N=e.location.hash;q.prefix[0]!=="#"&&(N=e.location.search+N,q.prefix[0]!=="?"&&(N=e.location.pathname+N,N[0]!=="/"&&(N="/"+N)));var $=N.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,xr).slice(q.prefix.length),R=wt($);Nr(R.params,e.history.state);function U(_){console.error(_),X(g,null,{replace:!0})}v(0);function v(_){for(;_<c.length;_++)if(c[_].check(R)){var W=c[_].component,Q=c[_].route,x=W,ue=L=function(ne){if(ue===L){if(ne===O)return v(_+1);b=ne!=null&&(typeof ne.view=="function"||typeof ne=="function")?ne:"div",C=R.params,T=$,L=null,m=W.render?W:null,l===2?t.redraw():(l=2,t.redraw.sync())}};W.view||typeof W=="function"?(W={},ue(x)):W.onmatch?o.then(function(){return W.onmatch(R.params,$,Q)}).then(ue,$===g?null:U):ue("div");return}if($===g)throw new Error("Could not resolve default route "+g+".");X(g,null,{replace:!0})}}function F(){s||(s=!0,i(H))}function X(N,$,R){if(N=mt(N,$),u){F();var U=R?R.state:null,v=R?R.title:null;R&&R.replace?e.history.replaceState(U,v,q.prefix+N):e.history.pushState(U,v,q.prefix+N)}else e.location.href=q.prefix+N}function q(N,$,R){if(!N)throw new TypeError("DOM element being rendered to does not exist.");if(c=Object.keys(R).map(function(v){if(v[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(v))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:v,component:R[v],check:Dr(v)}}),g=$,$!=null){var U=wt($);if(!c.some(function(v){return v.check(U)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof e.history.pushState=="function"?e.addEventListener("popstate",F,!1):q.prefix[0]==="#"&&e.addEventListener("hashchange",H,!1),u=!0,t.mount(N,P),H()}return q.set=function(N,$,R){L!=null&&(R=R||{},R.replace=!0),L=null,X(N,$,R)},q.get=function(){return T},q.prefix="#!",q.Link={view:function(N){var $=kr(N.attrs.selector||"a",Rr(N.attrs,["options","params","selector","onclick"]),N.children),R,U,v;return($.attrs.disabled=Boolean($.attrs.disabled))?($.attrs.href=null,$.attrs["aria-disabled"]="true"):(R=N.attrs.options,U=N.attrs.onclick,v=mt($.attrs.href,N.attrs.params),$.attrs.href=q.prefix+v,$.attrs.onclick=function(_){var W;typeof U=="function"?W=U.call(_.currentTarget,_):U==null||typeof U!="object"||typeof U.handleEvent=="function"&&U.handleEvent(_),W!==!1&&!_.defaultPrevented&&(_.button===0||_.which===0||_.which===1)&&(!_.currentTarget.target||_.currentTarget.target==="_self")&&!_.ctrlKey&&!_.metaKey&&!_.shiftKey&&!_.altKey&&(_.preventDefault(),_.redraw=!1,q.set(v,null,R))}),$}},q.param=function(N){return C&&N!=null?C[N]:C},q},Mr=rt,jr=_r(typeof window!="undefined"?window:null,Mr),Ge=gr,$t=Tr,Ht=rt,te=function(){return Ge.apply(this,arguments)};te.m=Ge;te.trust=Ge.trust;te.fragment=Ge.fragment;te.Fragment="[";te.mount=Ht.mount;te.route=jr;te.render=xt;te.redraw=Ht.redraw;te.request=$t.request;te.jsonp=$t.jsonp;te.parseQueryString=jt;te.buildQueryString=_t;te.parsePathname=it;te.buildPathname=nt;te.vnode=ye;te.PromisePolyfill=Rt;te.censor=qt;var d=te;function Y(e){return e!=null&&typeof e=="object"&&e["@@functional/placeholder"]===!0}function oe(e){return function t(i){return arguments.length===0||Y(i)?t:e.apply(this,arguments)}}function Le(e){return function t(i,o){switch(arguments.length){case 0:return t;case 1:return Y(i)?t:oe(function(s){return e(i,s)});default:return Y(i)&&Y(o)?t:Y(i)?oe(function(s){return e(s,o)}):Y(o)?oe(function(s){return e(i,s)}):e(i,o)}}}function qr(e){return function t(i,o,s){switch(arguments.length){case 0:return t;case 1:return Y(i)?t:Le(function(u,l){return e(i,u,l)});case 2:return Y(i)&&Y(o)?t:Y(i)?Le(function(u,l){return e(u,o,l)}):Y(o)?Le(function(u,l){return e(i,u,l)}):oe(function(u){return e(i,o,u)});default:return Y(i)&&Y(o)&&Y(s)?t:Y(i)&&Y(o)?Le(function(u,l){return e(u,l,s)}):Y(i)&&Y(s)?Le(function(u,l){return e(u,o,l)}):Y(o)&&Y(s)?Le(function(u,l){return e(i,u,l)}):Y(i)?oe(function(u){return e(u,o,s)}):Y(o)?oe(function(u){return e(i,u,s)}):Y(s)?oe(function(u){return e(i,o,u)}):e(i,o,s)}}}var $r=Array.isArray||function(t){return t!=null&&t.length>=0&&Object.prototype.toString.call(t)==="[object Array]"};function Hr(e){return Object.prototype.toString.call(e)==="[object String]"}function Je(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var yt=Object.prototype.toString,Br=function(){return yt.call(arguments)==="[object Arguments]"?function(t){return yt.call(t)==="[object Arguments]"}:function(t){return Je("callee",t)}}(),Bt=Br,zr=!{toString:null}.propertyIsEnumerable("toString"),vt=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],bt=function(){return arguments.propertyIsEnumerable("length")}(),Ur=function(t,i){for(var o=0;o<t.length;){if(t[o]===i)return!0;o+=1}return!1},Fr=oe(typeof Object.keys=="function"&&!bt?function(t){return Object(t)!==t?[]:Object.keys(t)}:function(t){if(Object(t)!==t)return[];var i,o,s=[],u=bt&&Bt(t);for(i in t)Je(i,t)&&(!u||i!=="length")&&(s[s.length]=i);if(zr)for(o=vt.length-1;o>=0;)i=vt[o],Je(i,t)&&!Ur(s,i)&&(s[s.length]=i),o-=1;return s}),Et=Fr,Wr=oe(function(t){return t===null?"Null":t===void 0?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}),Ct=Wr;function St(e){for(var t=[],i;!(i=e.next()).done;)t.push(i.value);return t}function Tt(e,t,i){for(var o=0,s=i.length;o<s;){if(e(t,i[o]))return!0;o+=1}return!1}function Vr(e){var t=String(e).match(/^function (\w*)/);return t==null?"":t[1]}function Kr(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var et=typeof Object.is=="function"?Object.is:Kr;function Ot(e,t,i,o){var s=St(e),u=St(t);function l(c,g){return at(c,g,i.slice(),o.slice())}return!Tt(function(c,g){return!Tt(l,g,c)},u,s)}function at(e,t,i,o){if(et(e,t))return!0;var s=Ct(e);if(s!==Ct(t)||e==null||t==null)return!1;if(typeof e["fantasy-land/equals"]=="function"||typeof t["fantasy-land/equals"]=="function")return typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t)&&typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e);if(typeof e.equals=="function"||typeof t.equals=="function")return typeof e.equals=="function"&&e.equals(t)&&typeof t.equals=="function"&&t.equals(e);switch(s){case"Arguments":case"Array":case"Object":if(typeof e.constructor=="function"&&Vr(e.constructor)==="Promise")return e===t;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof t&&et(e.valueOf(),t.valueOf())))return!1;break;case"Date":if(!et(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(!(e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.sticky===t.sticky&&e.unicode===t.unicode))return!1;break}for(var u=i.length-1;u>=0;){if(i[u]===e)return o[u]===t;u-=1}switch(s){case"Map":return e.size!==t.size?!1:Ot(e.entries(),t.entries(),i.concat([e]),o.concat([t]));case"Set":return e.size!==t.size?!1:Ot(e.values(),t.values(),i.concat([e]),o.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var l=Et(e);if(l.length!==Et(t).length)return!1;var c=i.concat([e]),g=o.concat([t]);for(u=l.length-1;u>=0;){var m=l[u];if(!(Je(m,t)&&at(t[m],e[m],c,g)))return!1;u-=1}return!0}var Jr=Le(function(t,i){return at(t,i,[],[])}),zt=Jr;function Yr(e){return Object.prototype.toString.call(e)==="[object Object]"}var Gr=oe(function(t){return t!=null&&typeof t["fantasy-land/empty"]=="function"?t["fantasy-land/empty"]():t!=null&&t.constructor!=null&&typeof t.constructor["fantasy-land/empty"]=="function"?t.constructor["fantasy-land/empty"]():t!=null&&typeof t.empty=="function"?t.empty():t!=null&&t.constructor!=null&&typeof t.constructor.empty=="function"?t.constructor.empty():$r(t)?[]:Hr(t)?"":Yr(t)?{}:Bt(t)?function(){return arguments}():void 0}),Xr=Gr,Qr=oe(function(t){return t!=null&&zt(t,Xr(t))}),Lt=Qr,Zr=qr(function(t,i,o){return zt(i,o[t])}),Pe=Zr,Ut=typeof setImmediate!="undefined"?setImmediate:typeof process!="undefined"?process.nextTick:setTimeout,en=B;function B(e,t){this.fork=e,this.cleanup=t||function(){}}B.prototype.of=function(t){return new B(function(i,o){return o(t)})};B.of=B.prototype.of;B.prototype.rejected=function(t){return new B(function(i){return i(t)})};B.rejected=B.prototype.rejected;B.prototype.map=function(t){var i=this.fork,o=this.cleanup;return new B(function(s,u){return i(function(l){return s(l)},function(l){return u(t(l))})},o)};B.prototype.chain=function(t){var i=this.fork,o=this.cleanup;return new B(function(s,u){return i(function(l){return s(l)},function(l){return t(l).fork(s,u)})},o)};B.prototype.ap=function(t){var i=this.fork,o=t.fork,s=this.cleanup,u=t.cleanup;function l(c){s(c[0]),u(c[1])}return new B(function(c,g){var m,b=!1,C,T=!1,L=!1,P,O=i(X,F(function(q){b=!0,m=q})),H=o(X,F(function(q){T=!0,C=q}));function F(q){return function(N){if(!L)return q(N),b&&T?(Ut(function(){l(P)}),g(m(C))):N}}function X(q){if(!L)return L=!0,c(q)}return P=[O,H]},l)};B.prototype.concat=function(t){var i=this.fork,o=t.fork,s=this.cleanup,u=t.cleanup;function l(c){s(c[0]),u(c[1])}return new B(function(c,g){var m=!1,b,C=i(L(c),L(g)),T=o(L(c),L(g));return b=[C,T];function L(P){return function(O){if(!m)return m=!0,Ut(function(){l(b)}),P(O)}}},l)};B.empty=function(){return new B(function(){})};B.prototype.empty=B.empty;B.prototype.toString=function(){return"Task"};B.prototype.orElse=function(t){var i=this.fork,o=this.cleanup;return new B(function(s,u){return i(function(l){return t(l).fork(s,u)},function(l){return u(l)})},o)};B.prototype.fold=function(t,i){var o=this.fork,s=this.cleanup;return new B(function(u,l){return o(function(c){return l(t(c))},function(c){return l(i(c))})},s)};B.prototype.cata=function(t){return this.fold(t.Rejected,t.Resolved)};B.prototype.swap=function(){var t=this.fork,i=this.cleanup;return new B(function(o,s){return t(function(u){return s(u)},function(u){return o(u)})},i)};B.prototype.bimap=function(t,i){var o=this.fork,s=this.cleanup;return new B(function(u,l){return o(function(c){return u(t(c))},function(c){return l(i(c))})},s)};B.prototype.rejectedMap=function(t){var i=this.fork,o=this.cleanup;return new B(function(s,u){return i(function(l){return s(t(l))},function(l){return u(l)})},o)};var Ft=en;const tn="https://shopper.deno.dev/",rn={"Content-Type":"application/json"},nn=e=>t=>i=>t(JSON.parse(JSON.stringify(i))),an=e=>t=>i=>t(i),Ke=e=>t=>i=>o=>new Ft((s,u)=>d.request({method:e,url:tn+i,headers:rn,body:o,withCredentials:!1}).then(an()(u),nn()(s))),on={getTask:(e,t)=>Ke("GET")(e)(t)(),postTask:(e,t,i)=>Ke("POST")(e)(t)(i),putTask:(e,t,i)=>Ke("PUT")(e)(t)(i),deleteTask:(e,t)=>Ke("DELETE")(e)(t)()},Wt=()=>"xxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,i=e=="x"?t:t&3|8;return i.toString(16)}),Vt=e=>t=>(console.log(e,t),t);window.log=Vt;const sn=["Of Them","Boxe(s)","Can(s)","gram(s)","kilogram(s)","pound(s)","liter(s)","mliter(s)","ounce(s)"],ln=e=>{var t;return e.stores.find(Pe("id",(t=e.currentStore)==null?void 0:t.id))||e.stores[0]},ke=e=>{const t=l=>l.http.getTask(l,"stores"),i=l=>l.http.getTask(l,"cats"),o=l=>l.http.getTask(l,"items"),s=({stores:l,cats:c,items:g})=>{let m=c.map(b=>(b.items=g.filter(Pe("catId",b.id)).sort((C,T)=>C.order-T.order).reverse(),b)).sort((b,C)=>b.order-C.order);return{cats:m,stores:l.map(b=>(b.cats=m.filter(Pe("storeId",b.id)).sort((C,T)=>C.order-T.order),b)),items:g}},u=({stores:l,cats:c,items:g})=>{e.stores=l,e.cats=c,e.items=g.reverse(),e.currentStore=ln(e)};Ft.of(l=>c=>g=>s({stores:l,cats:c,items:g})).ap(t(e)).ap(i(e)).ap(o(e)).fork(Vt("error"),u)},un=({catId:e,title:t,notes:i,quantity:o,unit:s,price:u,order:l})=>({id:Wt(),title:t,notes:i,catId:e,order:l,quantity:o,unit:s,price:u,notes:i,purchased:!1}),cn=(e,t=0)=>({title:e,id:Wt(),order:t}),We={state:{},http:on,settings:{},state:{dragging:{isDragging:!1,item:"",swapItem:""},catIds:[],items:[],showModal:!1,modalContent:null},stores:[],cats:[],items:[],currentStore:null},ot=e=>{e.state.showModal=!1,e.state.modalContent=null},fn=(e,t)=>{let i=cn(t.title);const o=log("error"),s=u=>{t.title="",e.state.showModal=!1,e.state.modalContent=null,ke(e)};e.http.postTask(e,"stores",i).fork(o,s)},Kt=()=>{const e={title:""};return{view:({attrs:{mdl:t}})=>d("form.w3-container.w3-card.w3-white.w3-animate-zoom",{onsubmit:i=>i.preventDefault()},d(".w3-section",d("label",d("b","Store Title")),d("input.w3-input.w3-border-bottom",{oncreate:({dom:i})=>{i.select(),i.focus()},type:"text",value:e.title,oninput:i=>e.title=i.target.value})),d("button.w3-button.w3-block.w3-orange.w3-section.w3-padding",{onclick:()=>fn(t,e)},"add"))}},pn=(e,t)=>e.cats.find(Pe("id",t)).items.length,gn=(e,t,i)=>{const{catId:o,title:s,notes:u,order:l,quantity:c,unit:g,price:m,id:b}=t;let C=i?{catId:o,title:s,notes:u,order:l,quantity:c,unit:g,price:m,id:b}:un({catId:o,title:s,notes:u,order:pn(e,o),quantity:c,unit:g,price:m});const T=P=>{t={catId:o,title:"",notes:"",order:0,quantity:"",unit:"",price:0},ke(e),ot(e)};return((P,O)=>i?P.http.postTask(P,"items",O):P.http.putTask(P,`items/${O.id}`,O))(e,C).fork(log("error"),T)},hn=(e,t)=>e.http.deleteTask(e,`items/${t}`).fork(log("err"),()=>{ke(e),ot(e)}),st=({attrs:{mdl:e,catId:t,item:i,isEdit:o}})=>{const s={catId:t,catTitle:"",title:"",notes:"",order:"",quantity:"",unit:"",price:""};return t&&(s.catTitle=e.cats.find(Pe("id",t)).title),o&&(s.catId=i.catId,s.title=i.title,s.notes=i.notes,s.order=i.order,s.quantity=i.quantity,s.unit=i.unit,s.price=i.price,s.id=i.id),{view:({attrs:{mdl:u}})=>{var l;return d("form.w3-container.w3-card.w3-white.w3-animate-zoom",{onsubmit:c=>c.preventDefault()},d(".w3-section",d("button.w3-button.w3-black.w3-border-black.w3-text-white",{style:{position:"absolute",top:"-50px"},onclick:()=>ot(u)},d.trust("&#10005;"))),d(".w3-section",d("label",d("b","Title")),d("input.w3-input.w3-border-bottom",{oncreate:({dom:c})=>{c.select(),c.focus()},type:"text",value:s.title,oninput:c=>s.title=c.target.value})),d(".w3-section",d("label",d("b","Category")),d("select.w3-input.w3-border-bottom",{value:((l=u.cats.find(Pe("id",s.catId)))==null?void 0:l.title)||"",onchange:c=>{s.catTitle=c.target.value,s.catId=u.cats.find(Pe("title",s.catTitle)).id}},u.cats.map(c=>d(`option#${c.id}`,c.title)))),d(".w3-section",d("label",d("b","Quantity")),d("input.w3-input.w3-border-bottom",{type:"number",value:s.quantity,pattern:"[0-9]*",inputmode:"numeric",oninput:c=>s.quantity=c.target.value})),d(".w3-section",d("label",d("b","Unit")),d("select.w3-input.w3-border-bottom",{value:s.unit,onchange:c=>s.unit=c.target.value},sn.map(c=>d("option",c)))),d(".w3-section",d("label",d("b","Price")),d("input.w3-input.w3-border-bottom",{pattern:"[0-9]*",inputmode:"numeric",value:s.price,oninput:c=>s.price=c.target.value})),d(".w3-section",d("label",d("b","Notes")),d("textarea.w3-input.w3-border-bottom",{oninput:c=>s.notes=c.target.value},s.notes)),d("button.w3-button.w3-block.w3-orange.w3-margin-bottom",{onclick:()=>gn(u,s,o)},o?"Update":"Add"),o&&d("button.w3-button.w3-red.w3-margin-top.w3-left",{onclick:()=>hn(u,i.id)},"Delete"))}}},Ue=new Set,dn=(e,t)=>{e.http.deleteTask(e,`stores/${t}`).fork(log("error deleteing"),()=>ke(e))},mn=(e,t)=>{e.http.deleteTask(e,`cats/${t}`).fork(log("error deleteing"),()=>ke(e))},wn=(e,t)=>Promise.resolve(e.setCat(t)),At=(e,t,i)=>Promise.resolve(e.currentStore=i).then(()=>t.toggleSideBar(t)),yn=()=>({view:({attrs:{mdl:e,state:t}})=>d(".w3-sidebar#sidebar.w3-bar-block.w3-collapse.w3-card.w3-animate-left",{style:{width:e.settings.profile=="desktop"?"300px":"90%",display:t.sidebar.open?"block":"none"}},e.settings.profile!="desktop"&&d("button.w3-bar-item.w3-button.w3-large",{onclick:()=>t.toggleSideBar(t)},"Close "),d("button.w3-button.w3-orange",{onclick:()=>{e.state.modalContent=d(Kt,{mdl:e}),e.state.showModal=!0}},"New Store"),e.stores.map((i,o)=>d(".w3-right-align.w3-row",{key:i.id},d("button.w3-button.w3-left-align.w3-col",{class:e.currentStore.id==i.id?"w3-leftbar w3-border-orange w3-border-10":"",onclick:s=>{s.stopPropagation(),At(e,t,i)}},d(".w3-left-align.w3-col.s4",d("button.pointer.w3-badge.w3-pink.w3-border-0.w3-circle.w3-hover-red.w3-left-align",{onclick:s=>{s.stopPropagation(),dn(e,i.id)}},"x")),d("label.w3-label.w3-col.s4.w3-left-align.pointer",i.title),!Lt(i.cats)&&d(".w3-col.s4.w3-right-align",{onclick:s=>{s.stopPropagation(),Ue.has(i.id)?Ue.delete(i.id):Ue.add(i.id)}},d("i.w3-btn.w3-circle",Ue.has(i.id)?"V":">"))),!Lt(i.cats)&&d("ul.w3-list",{class:Ue.has(i.id)?"w3-show":"w3-hide",id:i.id},i.cats.map((s,u)=>{var l;return d(".w3-list-item.pointer.w3-row",{key:s.id,onclick:()=>{wn(t,s.id).then(()=>At(e,t,i))}},d("button.pointer.w3-badge.w3-pink.w3-border-0.w3-circle.w3-hover-red.w3-left-align",{onclick:c=>{c.stopPropagation(),mn(e,s.id)}},"x"),d("label.w3-col s4",s.title),d(".w3-right-align.w3-col s4",d(".w3-tag w3-orange",(l=s.issues)==null?void 0:l.length)))})))))}),vn=()=>({view:({attrs:{mdl:e,state:t}})=>d("nav.w3-fixed.w3-container",e.currentStore&&d(".w3-bar",d("button.w3-button.w3-hide-large.w3-border.w3-bar-item.w3-left",{onclick:()=>t.toggleSideBar(t)},"MENU"),d(".w3-bar-item",e.currentStore.title),d("button.w3-button.w3-border.w3-bar-item.w3-right",{onclick:()=>{e.state.modalContent=d(st,{mdl:e,catId:null}),e.state.showModal=!0}},"Add an Item"),e.state.dragging.isDragging&&d("button.w3-block.w3-button.w3-green",{onclick:()=>e.state.dragging.isDragging=!1},"Save Changes")))}),bn=(e,t)=>i=>{i.preventDefault();const o=()=>{ke(e),t.highlight=!1,e.state.dragging.item=null,e.state.dragging.swapItem=null};return e.state.dragging.item.order=e.state.dragging.swapItem.order,e.http.putTask(e,`items/${e.state.dragging.item.id}`,e.state.dragging.item).fork(log("error"),o),e},En=(e,t,i)=>o=>{t.highlight=!0,e.state.dragging.swapItem=i,o.preventDefault()},Cn=(e,t,i)=>o=>(t.highlight=!0,e.state.dragging.swapItem=i,o.preventDefault(),!0),Sn=e=>t=>(e.highlight=!1,t.preventDefault(),!0),Tn=(e,t,i)=>o=>(t.highlight=!1,e.state.dragging.swapItem=i,o.preventDefault(),!0),On=(e,t)=>{e.state.showModal=!0,e.state.modalContent=d(st,{catId:t.catId,mdl:e,item:t,isEdit:!0})},Ln=(e,t,i)=>{t.left=!0,On(e,i),lt(e,t)},An=(e,t,i)=>{t.right=!0,e.state.dragging.isDragging=!e.state.dragging.isDragging,lt(e,t)},lt=(e,t,i)=>{t.left=!1,t.right=!1},Pn=e=>e.classList.contains("swipe-container"),Jt=e=>Pn(e)?e:Jt(e.parentElement),kn=({leftAction:e,rightAction:t,resetAction:i},o)=>{const s=Jt(o.target),u=s.clientWidth*30/100,l=s.scrollLeft-s.clientWidth;l<u*-1?e():l>u?t():i()},In=(e,t,i)=>o=>{e.state.dragging.isDragging||kn({leftAction:()=>Ln(e,t,i),rightAction:()=>An(e,t),resetAction:()=>lt(e,t)},o)},Dn=()=>{const e={highlight:!1};return{view:({attrs:{item:t,mdl:i}})=>(console.log(i.state.dragging.isDragging),d("li.w3-li.w3-leftbar.w3-border-bottom",{id:t.id,draggable:i.state.dragging.isDragging,style:{height:"80px"},ondrop:bn(i,e),ondragover:En(i,e,t),ondragenter:Cn(i,e,t),ondragend:Tn(i,e,t),ondragleave:Sn(e),ondragstart:()=>i.state.dragging.item=t},d(".swipe-container",{ontouchend:In(i,e,t)},d(".swipe-action.swipe-left",d("icon",d.trust("&#9997;"))),d(".swipe-element",d("img.w3-left",{src:t.img,style:{maxWidth:"85px"}}),d(".w3-block",{style:{fontSize:"1.2rem"}},t.title),d(".w3-bar",d(".w3-bar-item",t.quantity>0&&d("",`${t.quantity} ${t.unit}`)),d(".w3-bar-item",t.price>0&&d("",`$ ${t.price}`)))),d(".swipe-action.swipe-right",d("icon",d.trust("&#9888;"))))))}};var Yt={exports:{}};/*@preserve
 * Dragster - drag'n'drop library v1.6.2
 * https://github.com/sunpietro/dragster
 *
 * Copyright 2015-2017 Piotr Nalepa
 * http://blog.piotrnalepa.pl
 *
 * Released under the MIT license
 * https://github.com/sunpietro/dragster/blob/master/LICENSE
 *
 * Date: 2017-06-28T22:30Z
 */(function(e,t){(function(i,o,s){e.exports=s()})(Oe,"Dragster",function(){var i=function(o){var s="dragster-",u="is-dragging",l="is-drag-over",c=s+"draggable",g=s+"drag-region",m=s+"drop-placeholder",b=s+"temp",C=b+"-container",T=s+"is-hidden",L=s+"replacable",P="touchstart",O="touchmove",H="touchend",F="mousedown",X="mousemove",q="mouseup",N="top",$="bottom",R="px",U="div",v=!1,_=!0,W=null,Q=function(){},x={elementSelector:".dragster-block",regionSelector:".dragster-region",dragHandleCssClass:v,dragOnlyRegionCssClass:s+"region--drag-only",replaceElements:v,updateRegionsHeight:_,minimumRegionHeight:60,onBeforeDragStart:Q,onAfterDragStart:Q,onBeforeDragMove:Q,onAfterDragMove:Q,onBeforeDragEnd:Q,onAfterDragEnd:Q,onAfterDragDrop:Q,scrollWindowOnDrag:v,dragOnlyRegionsEnabled:v,cloneElements:v,wrapDraggableElements:_,shadowElementUnderMouse:v},ue={top:v,bottom:v},ne={drag:{node:W},drop:{node:W},shadow:{node:W,top:0,left:0},placeholder:{node:W,position:W},dropped:W,clonedFrom:W,clonedTo:W},K={},ce,se,fe,re,de,Ie,J,De,Z,Ne,_e,ve,be,Me,Ve,me,je,le,Ee,we,Ce,qe,pe,n,r,a,p,h,w,k,M,S,z=window.innerHeight,ie=Math.floor((1+Math.random())*65536).toString(16);for(ce in o)o.hasOwnProperty(ce)&&(x[ce]=o[ce]);return Ce=function(){return[].slice.call(document.querySelectorAll(x.elementSelector))},qe=function(){return[].slice.call(document.querySelectorAll(x.regionSelector))},pe=function(f){if(x.wrapDraggableElements===v)return console.warn(`You have disabled the default behavior of wrapping the draggable elements. If you want Dragster.js to work properly you still will have to do this manually.

More info: https://github.com/sunpietro/dragster/blob/master/README.md#user-content-wrapdraggableelements---boolean`),v;f.forEach(function(y){var E=Me(),A=y.parentNode;if(A.classList.contains(c))return v;A.insertBefore(E,y),A.removeChild(y),E.appendChild(y)})},De=Ce(),se=qe(),x.replaceElements&&(Ie=document.createElement(U),Ie.classList.add(T),Ie.classList.add(C),document.body.appendChild(Ie)),fe=function(f,y){var E=f.parentNode;if(!(!E||f.classList&&f.classList.contains(g)&&!f.classList.contains(x.dragOnlyRegionCssClass)))return y(f)?f:y(E)?E:fe(E,y)},le=function(f){var y=[].slice.call(document.getElementsByClassName(f));y.forEach(function(E){E.dataset.dragsterId===ie&&E.parentNode.removeChild(E)})},Ee=function(f,y){y&&(se.forEach(function(E){E.removeEventListener(y,Z.mousemove)}),document.body.removeEventListener(y,Z.mousemove)),f&&f.classList.remove(u),[].slice.call(document.getElementsByClassName(c)).forEach(function(E){E.firstChild||E.parentNode.removeChild(E)}),le(m),le(b),n()},we=function(){[].slice.call(document.getElementsByClassName(L)).forEach(function(f){f.classList.remove(L)})},Me=function(){var f=document.createElement(U);return f.classList.add(c),f.dataset.dragsterId=ie,f},me=function(){var f=document.createElement(U);return f.classList.add(m),f.dataset.dragsterId=ie,f},Ve=function(){var f=document.createElement(U);return f.classList.add(b),f.classList.add(T),f.style.position="fixed",f.dataset.dragsterId=ie,document.body.appendChild(f),f},ve=function(f,y){if(f&&f.parentNode){var E=x.wrapDraggableElements===v?f:f.nextSibling;f.parentNode.insertBefore(y,E)}},be=function(f,y){f&&f.parentNode&&f.parentNode.insertBefore(y,f)},Ne=function(f){return f.classList&&f.classList.contains(c)&&f.dataset.dragsterId===ie},_e=function(f){return f.classList&&f.classList.contains(x.dragOnlyRegionCssClass)},n=function(){if(x.updateRegionsHeight){var f=[].slice.call(document.getElementsByClassName(g));f.forEach(function(y){var E=[].slice.call(y.querySelectorAll(x.elementSelector)),A=x.minimumRegionHeight;!E.length||(E.forEach(function(I){var j=window.getComputedStyle(I);A+=I.offsetHeight+parseInt(j.marginTop,10)+parseInt(j.marginBottom,10)}),y.style.height=A+R)})}},p=function(f,y){Ee(J,f),Ee(J,y)},Z={mousedown:function(f){if(x.dragHandleCssClass&&(typeof x.dragHandleCssClass!="string"||!f.target.classList.contains(x.dragHandleCssClass)))return v;var y,E,A,I=f.type===P,j=f.changedTouches?f.changedTouches[0]:f;if(K=JSON.parse(JSON.stringify(ne)),f.dragster=K,x.onBeforeDragStart(f)===v||f.which===3||(f.preventDefault(),J=fe(f.target,Ne),!J))return v;E=I?O:X,A=I?H:q,se.forEach(function(D){D.addEventListener(E,Z.mousemove,v),D.addEventListener(A,Z.mouseup,v)}),document.body.addEventListener(E,Z.mousemove,v),document.body.addEventListener(A,Z.mouseup,v),y=J.getBoundingClientRect(),k=y.left-j.clientX,M=y.top-j.clientY,re=Ve(),re.innerHTML=J.innerHTML,re.style.width=y.width+R,re.style.height=y.height+R,re.dataset.dragsterId=ie,de=re.getBoundingClientRect(),J.classList.add(u),K.drag.node=J,K.shadow.node=re,f.dragster=K,x.onAfterDragStart(f)},mousemove:function(f){if(f.dragster=K,x.onBeforeDragMove(f)===v||!de)return v;f.preventDefault();var y=f.changedTouches?f.changedTouches[0]:f,E=y.view?y.view.pageXOffset:0,A=y.view?y.view.pageYOffset:0,I=y.clientY+A,j=y.clientX+E,D=document.elementFromPoint(y.clientX,y.clientY),ae=fe(D,Ne),ge=x.shadowElementUnderMouse?y.clientY+M:y.clientY,$e=x.shadowElementUnderMouse?j+k:j-de.width/2,Se=K.drag.node&&K.drag.node.dataset,He=!!(ae&&fe(ae,_e)),V=D.dataset.dragsterId===ie,Te=D.classList.contains(g)&&V,Re=D.classList.contains(x.dragOnlyRegionCssClass)&&V,Be=D.classList.contains(m),he=D.getElementsByClassName(c).length>0,ut=D.getElementsByClassName(m).length>0;clearTimeout(je),re.style.top=ge+R,re.style.left=$e+R,re.classList.remove(T),K.shadow.top=ge,K.shadow.left=$e,!Se&&!Te&&!Be?w.removePlaceholders():ae&&ae!==J&&!He?(w.removePlaceholders(),w.addPlaceholderOnTarget(ae,I,A)):Te&&!Re&&!he&&!ut?(w.removePlaceholders(),w.addPlaceholderInRegion(D)):Te&&!Re&&he&&!ut&&(w.removePlaceholders(),w.addPlaceholderInRegionBelowTargets(D)),x.scrollWindowOnDrag&&r(f),n(),x.onAfterDragMove(f)},mouseup:function(f){f.dragster=K;var y=f.type===P,E=y?O:X,A=y?H:q,I,j,D,ae,ge;if(x.onBeforeDragEnd(f)===v||(I=x.replaceElements?L:m,j=document.getElementsByClassName(I)[0],ae=!!(J&&fe(J,_e)),ge=x.cloneElements&&ae,je=setTimeout(p,200),we(),!J||!j))return p(E,A),v;D=fe(j,Ne),D=D||j,J!==D&&(!x.replaceElements&&!ge?(f.dragster=h.moveElement(f.dragster,j,D),x.onAfterDragDrop(f)):x.replaceElements&&!ge?(f.dragster=h.replaceElements(f.dragster,D),x.onAfterDragDrop(f)):!x.replaceElements&&ge&&(f.dragster=h.cloneElements(f.dragster,j,D),x.onAfterDragDrop(f)),D.classList.remove(l)),p(E,A),x.onAfterDragEnd(f)}},w={addPlaceholderOnTarget:function(f,y,E){var A=f.getBoundingClientRect(),I=me(),j=A.height/2;we(),x.replaceElements?f.classList.add(L):y-E-A.top<j&&!ue.top?(le(m),I.dataset.placeholderPosition=N,be(f.firstChild,I),K.placeholder.position=N):A.bottom-(y-E)<j&&!ue.bottom&&(le(m),I.dataset.placeholderPosition=$,f.appendChild(I),K.placeholder.position=$),K.placeholder.node=I,K.drop.node=f},addPlaceholderInRegion:function(f){var y=me();f.appendChild(y),K.placeholder.position=$,K.placeholder.node=y,K.drop.node=f},addPlaceholderInRegionBelowTargets:function(f){var y=[].slice.call(f.getElementsByClassName(c)),E=y.filter(function(j){return j.dataset.dragsterId===ie}),A=E[E.length-1],I=me();I.dataset.placeholderPosition=$,le(m),A.appendChild(I),K.placeholder.position=$,K.placeholder.node=I,K.drop.node=A},removePlaceholders:function(){x.replaceElements?we():le(m)}},h={moveElement:function(f,y,E){var A=x.wrapDraggableElements===v?J:Me(),I=y.dataset.placeholderPosition;return I===N?be(E,A):x.wrapDraggableElements===v?ve(A,E):ve(E,A),J.firstChild&&x.wrapDraggableElements===_&&A.appendChild(J.firstChild),f.dropped=A,f},replaceElements:function(f,y){var E=document.getElementsByClassName(C)[0];return E.innerHTML=J.innerHTML,J.innerHTML=y.innerHTML,y.innerHTML=E.innerHTML,E.innerHTML="",f.dropped=E,f},cloneElements:function(f,y,E){var A=J.cloneNode(!0),I=y.dataset.placeholderPosition;return I===N?be(E,A):ve(E,A),Ee(A),f.clonedFrom=J,f.clonedTo=A,f}},r=function(f){var y=f.changedTouches?f.changedTouches[0]:f,E=60;z-y.clientY<E?window.scrollBy(0,10):y.clientY<E&&window.scrollBy(0,-10)},a=function(){z=window.innerHeight},pe(De),S=function(){se.forEach(function(f){f.classList.add(g),f.dataset.dragsterId=ie,f.addEventListener(F,Z.mousedown,v),f.addEventListener(P,Z.mousedown,v)})},S(),window.addEventListener("resize",a,!1),{update:function(){De=Ce(),pe(De),n(),a()},updateRegions:function(){se=qe(),S()},destroy:function(){se.forEach(function(f){f.classList.remove(g),f.removeEventListener(F,Z.mousedown,v),f.removeEventListener(X,Z.mousemove,v),f.removeEventListener(q,Z.mouseup,v),f.removeEventListener(P,Z.mousedown,v),f.removeEventListener(O,Z.mousemove,v),f.removeEventListener(H,Z.mouseup,v)}),document.body.removeEventListener(X,Z.mousemove,v),document.body.removeEventListener(O,Z.mousemove,v),document.body.removeEventListener(q,Z.mouseup,v),document.body.removeEventListener(H,Z.mouseup,v),window.removeEventListener("resize",a,!1)}}};return i})})(Yt);var Nn=Yt.exports;const Rn=({dom:e})=>{const t=new Nn({elementSelector:".dragster-block",regionSelector:".dragster-region",dragHandleCssClass:!1,replaceElements:!1,updateRegionsHeight:!0,minimumRegionHeight:60,scrollWindowOnDrag:!0,dragOnlyRegionsEnabled:!1,cloneElements:!1,wrapDraggableElements:!0,shadowElementUnderMouse:!1});console.log(t,e)},xn=({attrs:{mdl:e,cat:t}})=>{const i={catId:t.id,title:t.title,items:t.items,isSelected:!1,togglePinSection:{onclick:()=>i.isSelected=!i.isSelected}};return{oncreate:Rn,view:({attrs:{cat:o,mdl:s,key:u}})=>d("section.w3-section.w3-border-left",{key:u,id:o.id},d(".w3-bar",{style:{position:"-webkit-sticky",position:"sticky",backgroundColor:"white"}},d("p.w3-right",{style:{padding:"0 16px"}},o.title.toUpperCase()),d("button.w3-btn w3-border-none w3-padding.w3-left",{onclick:()=>{s.state.modalContent=d(st,{mdl:s,catId:o.id}),s.state.showModal=!0}},d("strong","+"))),d(".w3-ul",o.items.map((l,c)=>d(Dn,{key:l.id,item:l,mdl:s}))))}},_n=()=>({view:({attrs:{mdl:e,state:t}})=>d("section.w3-section.w3-row w3-ul.w3-padding-row",{style:{height:"90dvh",overflowX:"hidden",overflowY:"auto"}},e.currentStore?e.currentStore.cats.map((i,o)=>d(xn,{key:o,cat:i,mdl:e,state:t})):d("section.w3-section",d("button.w3-border w3-button w3-panel.w3-display-middle w3-light-grey w3-col-1",{onclick:()=>{e.state.modalContent=d(Kt,{mdl:e}),e.state.showModal=!0}},"Create a Store to Begin")))}),Mn=({attrs:{mdl:e}})=>({view:()=>d(".w3-modal#modal",{onclick:t=>{t.target.id=="modal"&&(e.state.showModal=!1,e.state.modalContent=null)},style:{display:e.state.showModal?"block":"none"}},d("modal.w3-modal-content",d(".w3-container",e.state.modalContent)))});G.SKIP={};G.lift=$n;G.scan=jn;G.merge=Gt;G.combine=Xe;G.scanMerge=qn;G["fantasy-land/of"]=G;var Pt=!1;Object.defineProperty(G,"HALT",{get:function(){return Pt||console.log("HALT is deprecated and has been renamed to SKIP"),Pt=!0,G.SKIP}});function G(e){var t=[],i=[];function o(l){return arguments.length&&l!==G.SKIP&&(e=l,kt(o)&&(o.changing(),o.state="active",t.forEach(function(c,g){c(i[g](e))}))),e}o.constructor=G,o.state=arguments.length&&e!==G.SKIP?"active":"pending",o.parents=[],o.changing=function(){kt(o)&&(o.state="changing"),t.forEach(function(l){l.changing()})},o.map=function(l,c){var g=o.state==="active"&&c!==G.SKIP?G(l(e)):G();return g.parents.push(o),t.push(g),i.push(l),g};var s;function u(){return s=G(),s.map(function(l){return l===!0&&(o.parents.forEach(function(c){c.unregisterChild(o)}),o.state="ended",o.parents.length=t.length=i.length=0),l}),s}return o.toJSON=function(){return e!=null&&typeof e.toJSON=="function"?e.toJSON():e},o["fantasy-land/map"]=o.map,o["fantasy-land/ap"]=function(l){return Xe(function(c,g){return c()(g())},[l,o])},o.unregisterChild=function(l){var c=t.indexOf(l);c!==-1&&(t.splice(c,1),i.splice(c,1))},Object.defineProperty(o,"end",{get:function(){return s||u()}}),o}function Xe(e,t){var i=t.every(function(c){if(c.constructor!==G)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return c.state==="active"}),o=i?G(e.apply(null,t.concat([t]))):G(),s=[],u=t.map(function(c){return c.map(function(g){return s.push(c),(i||t.every(function(m){return m.state!=="pending"}))&&(i=!0,o(e.apply(null,t.concat([s]))),s=[]),g},G.SKIP)}),l=o.end.map(function(c){c===!0&&(u.forEach(function(g){g.end(!0)}),l.end(!0))});return o}function Gt(e){return Xe(function(){return e.map(function(t){return t()})},e)}function jn(e,t,i){var o=i.map(function(s){var u=e(t,s);return u!==G.SKIP&&(t=u),u});return o(t),o}function qn(e,t){var i=e.map(function(s){return s[0]}),o=Xe(function(){var s=arguments[arguments.length-1];return i.forEach(function(u,l){s.indexOf(u)>-1&&(t=e[l][1](t,u()))}),t},i);return o(t),o}function $n(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Gt(t).map(function(i){return e.apply(void 0,i)})}function kt(e){return e.state==="pending"||e.state==="active"||e.state==="changing"}const Hn=e=>({maxHeight:"100dvh",overflow:"hidden",marginLeft:e.settings.profile=="desktop"?"300px":"0"}),Bn=e=>{const t={sidebar:{open:!1},setCat:G(null),toggleSideBar:i=>i.sidebar.open=!i.sidebar.open};return ke(e),{view:()=>d("page.w3-theme",d(Mn,{mdl:e}),d(yn,{mdl:e,state:t}),d("section.#main",{style:Hn(e)},d(vn,{mdl:e,state:t}),d(_n,{mdl:e,state:t})))}},zn=document.body;let Xt=window.innerWidth;"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./service-worker.js").then(e=>{console.log("\u2699\uFE0F SW registered: ",e)}).catch(e=>{console.log("\u{1F9DF} SW registration failed: ",e)})});const Qt=e=>e<=411?"phone":e<=990?"tablet":"desktop",Zt=e=>{const t=window.innerWidth;if(e!==t){e=t;var i=We.settings.profile;We.settings.profile=Qt(t),i!=We.settings.profile&&d.redraw()}return requestAnimationFrame(Zt)};We.settings.profile=Qt(Xt);Zt(Xt);d.mount(zn,Bn(We));
