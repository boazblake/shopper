const Qt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function i(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=i(s);fetch(s.href,l)}};Qt();var we=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Oe(e,t,i,a,s,l){return{tag:e,key:t,attrs:i,children:a,text:s,dom:l,domSize:void 0,state:void 0,events:void 0,instance:void 0}}Oe.normalize=function(e){return Array.isArray(e)?Oe("[",void 0,void 0,Oe.normalizeChildren(e),void 0,void 0):e==null||typeof e=="boolean"?null:typeof e=="object"?e:Oe("#",void 0,void 0,String(e),void 0,void 0)};Oe.normalizeChildren=function(e){var t=[];if(e.length){for(var i=e[0]!=null&&e[0].key!=null,a=1;a<e.length;a++)if((e[a]!=null&&e[a].key!=null)!==i)throw new TypeError(i&&(e[a]!=null||typeof e[a]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var a=0;a<e.length;a++)t[a]=Oe.normalize(e[a])}return t};var ve=Oe,Zt=ve,At=function(){var e=arguments[this],t=this+1,i;if(e==null?e={}:(typeof e!="object"||e.tag!=null||Array.isArray(e))&&(e={},t=this),arguments.length===t+1)i=arguments[t],Array.isArray(i)||(i=[i]);else for(i=[];t<arguments.length;)i.push(arguments[t++]);return Zt("",e.key,e,i)},Ye={}.hasOwnProperty,en=ve,tn=At,Ne=Ye,nn=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,_t={};function lt(e){for(var t in e)if(Ne.call(e,t))return!1;return!0}function rn(e){for(var t,i="div",a=[],s={};t=nn.exec(e);){var l=t[1],u=t[2];if(l===""&&u!=="")i=u;else if(l==="#")s.id=u;else if(l===".")a.push(u);else if(t[3][0]==="["){var c=t[6];c&&(c=c.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),t[4]==="class"?a.push(c):s[t[4]]=c===""?c:c||!0}}return a.length>0&&(s.className=a.join(" ")),_t[e]={tag:i,attrs:s}}function on(e,t){var i=t.attrs,a=Ne.call(i,"class"),s=a?i.class:i.className;if(t.tag=e.tag,t.attrs={},!lt(e.attrs)&&!lt(i)){var l={};for(var u in i)Ne.call(i,u)&&(l[u]=i[u]);i=l}for(var u in e.attrs)Ne.call(e.attrs,u)&&u!=="className"&&!Ne.call(i,u)&&(i[u]=e.attrs[u]);(s!=null||e.attrs.className!=null)&&(i.className=s!=null?e.attrs.className!=null?String(e.attrs.className)+" "+String(s):s:e.attrs.className!=null?e.attrs.className:null),a&&(i.class=null);for(var u in i)if(Ne.call(i,u)&&u!=="key"){t.attrs=i;break}return t}function an(e){if(e==null||typeof e!="string"&&typeof e!="function"&&typeof e.view!="function")throw Error("The selector must be either a string or a component.");var t=tn.apply(1,arguments);return typeof e=="string"&&(t.children=en.normalizeChildren(t.children),e!=="[")?on(_t[e]||rn(e),t):(t.tag=e,t)}var Dt=an,sn=ve,un=function(e){return e==null&&(e=""),sn("<",void 0,void 0,e,void 0,void 0)},ln=ve,cn=At,fn=function(){var e=cn.apply(0,arguments);return e.tag="[",e.children=ln.normalizeChildren(e.children),e},tt=Dt;tt.trust=un;tt.fragment=fn;var pn=tt,Fe={exports:{}},ne=function(e){if(!(this instanceof ne))throw new Error("Promise must be called with 'new'.");if(typeof e!="function")throw new TypeError("executor must be a function.");var t=this,i=[],a=[],s=m(i,!0),l=m(a,!1),u=t._instance={resolvers:i,rejectors:a},c=typeof setImmediate=="function"?setImmediate:setTimeout;function m(T,C){return function k(_){var D;try{if(C&&_!=null&&(typeof _=="object"||typeof _=="function")&&typeof(D=_.then)=="function"){if(_===t)throw new TypeError("Promise can't be resolved with itself.");b(D.bind(_))}else c(function(){!C&&T.length===0&&console.error("Possible unhandled promise rejection:",_);for(var A=0;A<T.length;A++)T[A](_);i.length=0,a.length=0,u.state=C,u.retry=function(){k(_)}})}catch(A){l(A)}}}function b(T){var C=0;function k(D){return function(A){C++>0||D(A)}}var _=k(l);try{T(k(s),_)}catch(D){_(D)}}b(e)};ne.prototype.then=function(e,t){var i=this,a=i._instance;function s(m,b,T,C){b.push(function(k){if(typeof m!="function")T(k);else try{l(m(k))}catch(_){u&&u(_)}}),typeof a.retry=="function"&&C===a.state&&a.retry()}var l,u,c=new ne(function(m,b){l=m,u=b});return s(e,a.resolvers,l,!0),s(t,a.rejectors,u,!1),c};ne.prototype.catch=function(e){return this.then(null,e)};ne.prototype.finally=function(e){return this.then(function(t){return ne.resolve(e()).then(function(){return t})},function(t){return ne.resolve(e()).then(function(){return ne.reject(t)})})};ne.resolve=function(e){return e instanceof ne?e:new ne(function(t){t(e)})};ne.reject=function(e){return new ne(function(t,i){i(e)})};ne.all=function(e){return new ne(function(t,i){var a=e.length,s=0,l=[];if(e.length===0)t([]);else for(var u=0;u<e.length;u++)(function(c){function m(b){s++,l[c]=b,s===a&&t(l)}e[c]!=null&&(typeof e[c]=="object"||typeof e[c]=="function")&&typeof e[c].then=="function"?e[c].then(m,i):m(e[c])})(u)})};ne.race=function(e){return new ne(function(t,i){for(var a=0;a<e.length;a++)e[a].then(t,i)})};var It=ne,ze=It;typeof window!="undefined"?(typeof window.Promise=="undefined"?window.Promise=ze:window.Promise.prototype.finally||(window.Promise.prototype.finally=ze.prototype.finally),Fe.exports=window.Promise):typeof we!="undefined"?(typeof we.Promise=="undefined"?we.Promise=ze:we.Promise.prototype.finally||(we.Promise.prototype.finally=ze.prototype.finally),Fe.exports=we.Promise):Fe.exports=ze;var Qe=ve,hn=function(e){var t=e&&e.document,i,a={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function s(r){return r.attrs&&r.attrs.xmlns||a[r.tag]}function l(r,n){if(r.state!==n)throw new Error("'vnode.state' must not be modified.")}function u(r){var n=r.state;try{return this.apply(n,arguments)}finally{l(r,n)}}function c(){try{return t.activeElement}catch{return null}}function m(r,n,o,d,g,E,x){for(var U=o;U<d;U++){var L=n[U];L!=null&&b(r,L,g,x,E)}}function b(r,n,o,d,g){var E=n.tag;if(typeof E=="string")switch(n.state={},n.attrs!=null&&ye(n.attrs,n,o),E){case"#":T(r,n,g);break;case"<":k(r,n,d,g);break;case"[":_(r,n,o,d,g);break;default:D(r,n,o,d,g)}else q(r,n,o,d,g)}function T(r,n,o){n.dom=t.createTextNode(n.children),G(r,n.dom,o)}var C={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function k(r,n,o,d){var g=n.children.match(/^\s*?<(\w+)/im)||[],E=t.createElement(C[g[1]]||"div");o==="http://www.w3.org/2000/svg"?(E.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+n.children+"</svg>",E=E.firstChild):E.innerHTML=n.children,n.dom=E.firstChild,n.domSize=E.childNodes.length,n.instance=[];for(var x=t.createDocumentFragment(),U;U=E.firstChild;)n.instance.push(U),x.appendChild(U);G(r,x,d)}function _(r,n,o,d,g){var E=t.createDocumentFragment();if(n.children!=null){var x=n.children;m(E,x,0,x.length,o,null,d)}n.dom=E.firstChild,n.domSize=E.childNodes.length,G(r,E,g)}function D(r,n,o,d,g){var E=n.tag,x=n.attrs,U=x&&x.is;d=s(n)||d;var L=d?U?t.createElementNS(d,E,{is:U}):t.createElementNS(d,E):U?t.createElement(E,{is:U}):t.createElement(E);if(n.dom=L,x!=null&&Ae(n,x,d),G(r,L,g),!X(n)&&n.children!=null){var K=n.children;m(L,K,0,K.length,o,null,d),n.tag==="select"&&x!=null&&te(n,x)}}function A(r,n){var o;if(typeof r.tag.view=="function"){if(r.state=Object.create(r.tag),o=r.state.view,o.$$reentrantLock$$!=null)return;o.$$reentrantLock$$=!0}else{if(r.state=void 0,o=r.tag,o.$$reentrantLock$$!=null)return;o.$$reentrantLock$$=!0,r.state=r.tag.prototype!=null&&typeof r.tag.prototype.view=="function"?new r.tag(r):r.tag(r)}if(ye(r.state,r,n),r.attrs!=null&&ye(r.attrs,r,n),r.instance=Qe.normalize(u.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");o.$$reentrantLock$$=null}function q(r,n,o,d,g){A(n,o),n.instance!=null?(b(r,n.instance,o,d,g),n.dom=n.instance.dom,n.domSize=n.dom!=null?n.instance.domSize:0):n.domSize=0}function V(r,n,o,d,g,E){if(!(n===o||n==null&&o==null))if(n==null||n.length===0)m(r,o,0,o.length,d,g,E);else if(o==null||o.length===0)ce(r,n,0,n.length);else{var x=n[0]!=null&&n[0].key!=null,U=o[0]!=null&&o[0].key!=null,L=0,K=0;if(!x)for(;K<n.length&&n[K]==null;)K++;if(!U)for(;L<o.length&&o[L]==null;)L++;if(x!==U)ce(r,n,K,n.length),m(r,o,L,o.length,d,g,E);else if(U){for(var p=n.length-1,P=o.length-1,O,I,j,B,M,ae;p>=K&&P>=L&&(B=n[p],M=o[P],B.key===M.key);)B!==M&&Y(r,B,M,d,g,E),M.dom!=null&&(g=M.dom),p--,P--;for(;p>=K&&P>=L&&(I=n[K],j=o[L],I.key===j.key);)K++,L++,I!==j&&Y(r,I,j,d,h(n,K,g),E);for(;p>=K&&P>=L&&!(L===P||I.key!==M.key||B.key!==j.key);)ae=h(n,K,g),w(r,B,ae),B!==j&&Y(r,B,j,d,ae,E),++L<=--P&&w(r,I,g),I!==M&&Y(r,I,M,d,g,E),M.dom!=null&&(g=M.dom),K++,p--,B=n[p],M=o[P],I=n[K],j=o[L];for(;p>=K&&P>=L&&B.key===M.key;)B!==M&&Y(r,B,M,d,g,E),M.dom!=null&&(g=M.dom),p--,P--,B=n[p],M=o[P];if(L>P)ce(r,n,K,p+1);else if(K>p)m(r,o,L,P+1,d,g,E);else{var he=g,$e=P-L+1,Te=new Array($e),He=0,J=0,Ce=2147483647,Ie=0,O,Ue;for(J=0;J<$e;J++)Te[J]=-1;for(J=P;J>=L;J--){O==null&&(O=S(n,K,p+1)),M=o[J];var de=O[M.key];de!=null&&(Ce=de<Ce?de:-1,Te[J-L]=de,B=n[de],n[de]=null,B!==M&&Y(r,B,M,d,g,E),M.dom!=null&&(g=M.dom),Ie++)}if(g=he,Ie!==p-K+1&&ce(r,n,K,p+1),Ie===0)m(r,o,L,P+1,d,g,E);else if(Ce===-1)for(Ue=f(Te),He=Ue.length-1,J=P;J>=L;J--)j=o[J],Te[J-L]===-1?b(r,j,d,E,g):Ue[He]===J-L?He--:w(r,j,g),j.dom!=null&&(g=o[J].dom);else for(J=P;J>=L;J--)j=o[J],Te[J-L]===-1&&b(r,j,d,E,g),j.dom!=null&&(g=o[J].dom)}}else{var oe=n.length<o.length?n.length:o.length;for(L=L<K?L:K;L<oe;L++)I=n[L],j=o[L],!(I===j||I==null&&j==null)&&(I==null?b(r,j,d,E,h(n,L+1,g)):j==null?ue(r,I):Y(r,I,j,d,h(n,L+1,g),E));n.length>oe&&ce(r,n,L,n.length),o.length>oe&&m(r,o,L,o.length,d,g,E)}}}function Y(r,n,o,d,g,E){var x=n.tag,U=o.tag;if(x===U){if(o.state=n.state,o.events=n.events,qe(o,n))return;if(typeof x=="string")switch(o.attrs!=null&&Se(o.attrs,o,d),x){case"#":z(n,o);break;case"<":N(r,n,o,E,g);break;case"[":H(r,n,o,d,g,E);break;default:R(n,o,d,E)}else W(r,n,o,d,g,E)}else ue(r,n),b(r,o,d,E,g)}function z(r,n){r.children.toString()!==n.children.toString()&&(r.dom.nodeValue=n.children),n.dom=r.dom}function N(r,n,o,d,g){n.children!==o.children?(fe(r,n),k(r,o,d,g)):(o.dom=n.dom,o.domSize=n.domSize,o.instance=n.instance)}function H(r,n,o,d,g,E){V(r,n.children,o.children,d,g,E);var x=0,U=o.children;if(o.dom=null,U!=null){for(var L=0;L<U.length;L++){var K=U[L];K!=null&&K.dom!=null&&(o.dom==null&&(o.dom=K.dom),x+=K.domSize||1)}x!==1&&(o.domSize=x)}}function R(r,n,o,d){var g=n.dom=r.dom;d=s(n)||d,n.tag==="textarea"&&n.attrs==null&&(n.attrs={}),De(n,r.attrs,n.attrs,d),X(n)||V(g,r.children,n.children,o,null,d)}function W(r,n,o,d,g,E){if(o.instance=Qe.normalize(u.call(o.state.view,o)),o.instance===o)throw Error("A view cannot return the vnode it received as argument");Se(o.state,o,d),o.attrs!=null&&Se(o.attrs,o,d),o.instance!=null?(n.instance==null?b(r,o.instance,d,E,g):Y(r,n.instance,o.instance,d,g,E),o.dom=o.instance.dom,o.domSize=o.instance.domSize):n.instance!=null?(ue(r,n.instance),o.dom=void 0,o.domSize=0):(o.dom=n.dom,o.domSize=n.domSize)}function S(r,n,o){for(var d=Object.create(null);n<o;n++){var g=r[n];if(g!=null){var E=g.key;E!=null&&(d[E]=n)}}return d}var y=[];function f(r){for(var n=[0],o=0,d=0,g=0,E=y.length=r.length,g=0;g<E;g++)y[g]=r[g];for(var g=0;g<E;++g)if(r[g]!==-1){var x=n[n.length-1];if(r[x]<r[g]){y[g]=x,n.push(g);continue}for(o=0,d=n.length-1;o<d;){var U=(o>>>1)+(d>>>1)+(o&d&1);r[n[U]]<r[g]?o=U+1:d=U}r[g]<r[n[o]]&&(o>0&&(y[g]=n[o-1]),n[o]=g)}for(o=n.length,d=n[o-1];o-- >0;)n[o]=d,d=y[d];return y.length=0,n}function h(r,n,o){for(;n<r.length;n++)if(r[n]!=null&&r[n].dom!=null)return r[n].dom;return o}function w(r,n,o){var d=t.createDocumentFragment();$(r,d,n),G(r,d,o)}function $(r,n,o){for(;o.dom!=null&&o.dom.parentNode===r;){if(typeof o.tag!="string"){if(o=o.instance,o!=null)continue}else if(o.tag==="<")for(var d=0;d<o.instance.length;d++)n.appendChild(o.instance[d]);else if(o.tag!=="[")n.appendChild(o.dom);else if(o.children.length===1){if(o=o.children[0],o!=null)continue}else for(var d=0;d<o.children.length;d++){var g=o.children[d];g!=null&&$(r,n,g)}break}}function G(r,n,o){o!=null?r.insertBefore(n,o):r.appendChild(n)}function X(r){if(r.attrs==null||r.attrs.contenteditable==null&&r.attrs.contentEditable==null)return!1;var n=r.children;if(n!=null&&n.length===1&&n[0].tag==="<"){var o=n[0].children;r.dom.innerHTML!==o&&(r.dom.innerHTML=o)}else if(n!=null&&n.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function ce(r,n,o,d){for(var g=o;g<d;g++){var E=n[g];E!=null&&ue(r,E)}}function ue(r,n){var o=0,d=n.state,g,E;if(typeof n.tag!="string"&&typeof n.state.onbeforeremove=="function"){var x=u.call(n.state.onbeforeremove,n);x!=null&&typeof x.then=="function"&&(o=1,g=x)}if(n.attrs&&typeof n.attrs.onbeforeremove=="function"){var x=u.call(n.attrs.onbeforeremove,n);x!=null&&typeof x.then=="function"&&(o|=2,E=x)}if(l(n,d),!o)me(n),ie(r,n);else{if(g!=null){var U=function(){o&1&&(o&=2,o||L())};g.then(U,U)}if(E!=null){var U=function(){o&2&&(o&=1,o||L())};E.then(U,U)}}function L(){l(n,d),me(n),ie(r,n)}}function fe(r,n){for(var o=0;o<n.instance.length;o++)r.removeChild(n.instance[o])}function ie(r,n){for(;n.dom!=null&&n.dom.parentNode===r;){if(typeof n.tag!="string"){if(n=n.instance,n!=null)continue}else if(n.tag==="<")fe(r,n);else{if(n.tag!=="["&&(r.removeChild(n.dom),!Array.isArray(n.children)))break;if(n.children.length===1){if(n=n.children[0],n!=null)continue}else for(var o=0;o<n.children.length;o++){var d=n.children[o];d!=null&&ie(r,d)}}break}}function me(r){if(typeof r.tag!="string"&&typeof r.state.onremove=="function"&&u.call(r.state.onremove,r),r.attrs&&typeof r.attrs.onremove=="function"&&u.call(r.attrs.onremove,r),typeof r.tag!="string")r.instance!=null&&me(r.instance);else{var n=r.children;if(Array.isArray(n))for(var o=0;o<n.length;o++){var d=n[o];d!=null&&me(d)}}}function Ae(r,n,o){r.tag==="input"&&n.type!=null&&r.dom.setAttribute("type",n.type);var d=n!=null&&r.tag==="input"&&n.type==="file";for(var g in n)Q(r,g,null,n[g],o,d)}function Q(r,n,o,d,g,E){if(!(n==="key"||n==="is"||d==null||be(n)||o===d&&!xe(r,n)&&typeof d!="object"||n==="type"&&r.tag==="input")){if(n[0]==="o"&&n[1]==="n")return Pe(r,n,d);if(n.slice(0,6)==="xlink:")r.dom.setAttributeNS("http://www.w3.org/1999/xlink",n.slice(6),d);else if(n==="style")Me(r.dom,o,d);else if(Ee(r,n,g)){if(n==="value"){if((r.tag==="input"||r.tag==="textarea")&&r.dom.value===""+d&&(E||r.dom===c())||r.tag==="select"&&o!==null&&r.dom.value===""+d||r.tag==="option"&&o!==null&&r.dom.value===""+d)return;if(E&&""+d!=""){console.error("`value` is read-only on file inputs!");return}}r.dom[n]=d}else typeof d=="boolean"?d?r.dom.setAttribute(n,""):r.dom.removeAttribute(n):r.dom.setAttribute(n==="className"?"class":n,d)}}function _e(r,n,o,d){if(!(n==="key"||n==="is"||o==null||be(n)))if(n[0]==="o"&&n[1]==="n")Pe(r,n,void 0);else if(n==="style")Me(r.dom,o,null);else if(Ee(r,n,d)&&n!=="className"&&n!=="title"&&!(n==="value"&&(r.tag==="option"||r.tag==="select"&&r.dom.selectedIndex===-1&&r.dom===c()))&&!(r.tag==="input"&&n==="type"))r.dom[n]=null;else{var g=n.indexOf(":");g!==-1&&(n=n.slice(g+1)),o!==!1&&r.dom.removeAttribute(n==="className"?"class":n)}}function te(r,n){if("value"in n)if(n.value===null)r.dom.selectedIndex!==-1&&(r.dom.value=null);else{var o=""+n.value;(r.dom.value!==o||r.dom.selectedIndex===-1)&&(r.dom.value=o)}"selectedIndex"in n&&Q(r,"selectedIndex",null,n.selectedIndex,void 0)}function De(r,n,o,d){if(n&&n===o&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),o!=null){r.tag==="input"&&o.type!=null&&r.dom.setAttribute("type",o.type);var g=r.tag==="input"&&o.type==="file";for(var E in o)Q(r,E,n&&n[E],o[E],d,g)}var x;if(n!=null)for(var E in n)(x=n[E])!=null&&(o==null||o[E]==null)&&_e(r,E,x,d)}function xe(r,n){return n==="value"||n==="checked"||n==="selectedIndex"||n==="selected"&&r.dom===c()||r.tag==="option"&&r.dom.parentNode===t.activeElement}function be(r){return r==="oninit"||r==="oncreate"||r==="onupdate"||r==="onremove"||r==="onbeforeremove"||r==="onbeforeupdate"}function Ee(r,n,o){return o===void 0&&(r.tag.indexOf("-")>-1||r.attrs!=null&&r.attrs.is||n!=="href"&&n!=="list"&&n!=="form"&&n!=="width"&&n!=="height")&&n in r.dom}var je=/[A-Z]/g;function We(r){return"-"+r.toLowerCase()}function ge(r){return r[0]==="-"&&r[1]==="-"?r:r==="cssFloat"?"float":r.replace(je,We)}function Me(r,n,o){if(n!==o)if(o==null)r.style.cssText="";else if(typeof o!="object")r.style.cssText=o;else if(n==null||typeof n!="object"){r.style.cssText="";for(var d in o){var g=o[d];g!=null&&r.style.setProperty(ge(d),String(g))}}else{for(var d in o){var g=o[d];g!=null&&(g=String(g))!==String(n[d])&&r.style.setProperty(ge(d),g)}for(var d in n)n[d]!=null&&o[d]==null&&r.style.removeProperty(ge(d))}}function le(){this._=i}le.prototype=Object.create(null),le.prototype.handleEvent=function(r){var n=this["on"+r.type],o;typeof n=="function"?o=n.call(r.currentTarget,r):typeof n.handleEvent=="function"&&n.handleEvent(r),this._&&r.redraw!==!1&&(0,this._)(),o===!1&&(r.preventDefault(),r.stopPropagation())};function Pe(r,n,o){if(r.events!=null){if(r.events._=i,r.events[n]===o)return;o!=null&&(typeof o=="function"||typeof o=="object")?(r.events[n]==null&&r.dom.addEventListener(n.slice(2),r.events,!1),r.events[n]=o):(r.events[n]!=null&&r.dom.removeEventListener(n.slice(2),r.events,!1),r.events[n]=void 0)}else o!=null&&(typeof o=="function"||typeof o=="object")&&(r.events=new le,r.dom.addEventListener(n.slice(2),r.events,!1),r.events[n]=o)}function ye(r,n,o){typeof r.oninit=="function"&&u.call(r.oninit,n),typeof r.oncreate=="function"&&o.push(u.bind(r.oncreate,n))}function Se(r,n,o){typeof r.onupdate=="function"&&o.push(u.bind(r.onupdate,n))}function qe(r,n){do{if(r.attrs!=null&&typeof r.attrs.onbeforeupdate=="function"){var o=u.call(r.attrs.onbeforeupdate,r,n);if(o!==void 0&&!o)break}if(typeof r.tag!="string"&&typeof r.state.onbeforeupdate=="function"){var o=u.call(r.state.onbeforeupdate,r,n);if(o!==void 0&&!o)break}return!1}while(!1);return r.dom=n.dom,r.domSize=n.domSize,r.instance=n.instance,r.attrs=n.attrs,r.children=n.children,r.text=n.text,!0}var pe;return function(r,n,o){if(!r)throw new TypeError("DOM element being rendered to does not exist.");if(pe!=null&&r.contains(pe))throw new TypeError("Node is currently being rendered to and thus is locked.");var d=i,g=pe,E=[],x=c(),U=r.namespaceURI;pe=r,i=typeof o=="function"?o:void 0;try{r.vnodes==null&&(r.textContent=""),n=Qe.normalizeChildren(Array.isArray(n)?n:[n]),V(r,r.vnodes,n,E,null,U==="http://www.w3.org/1999/xhtml"?void 0:U),r.vnodes=n,x!=null&&c()!==x&&typeof x.focus=="function"&&x.focus();for(var L=0;L<E.length;L++)E[L]()}finally{i=d,pe=g}}},Nt=hn(typeof window!="undefined"?window:null),ct=ve,dn=function(e,t,i){var a=[],s=!1,l=-1;function u(){for(l=0;l<a.length;l+=2)try{e(a[l],ct(a[l+1]),c)}catch(b){i.error(b)}l=-1}function c(){s||(s=!0,t(function(){s=!1,u()}))}c.sync=u;function m(b,T){if(T!=null&&T.view==null&&typeof T!="function")throw new TypeError("m.mount expects a component, not a vnode.");var C=a.indexOf(b);C>=0&&(a.splice(C,2),C<=l&&(l-=2),e(b,[])),T!=null&&(a.push(b,T),e(b,ct(T),c))}return{mount:m,redraw:c}},mn=Nt,nt=dn(mn,typeof requestAnimationFrame!="undefined"?requestAnimationFrame:null,typeof console!="undefined"?console:null),Rt=function(e){if(Object.prototype.toString.call(e)!=="[object Object]")return"";var t=[];for(var i in e)a(i,e[i]);return t.join("&");function a(s,l){if(Array.isArray(l))for(var u=0;u<l.length;u++)a(s+"["+u+"]",l[u]);else if(Object.prototype.toString.call(l)==="[object Object]")for(var u in l)a(s+"["+u+"]",l[u]);else t.push(encodeURIComponent(s)+(l!=null&&l!==""?"="+encodeURIComponent(l):""))}},gn=Ye,xt=Object.assign||function(e,t){for(var i in t)gn.call(t,i)&&(e[i]=t[i])},yn=Rt,wn=xt,rt=function(e,t){if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(t==null)return e;var i=e.indexOf("?"),a=e.indexOf("#"),s=a<0?e.length:a,l=i<0?s:i,u=e.slice(0,l),c={};wn(c,t);var m=u.replace(/:([^\/\.-]+)(\.{3})?/g,function(A,q,V){return delete c[q],t[q]==null?A:V?t[q]:encodeURIComponent(String(t[q]))}),b=m.indexOf("?"),T=m.indexOf("#"),C=T<0?m.length:T,k=b<0?C:b,_=m.slice(0,k);i>=0&&(_+=e.slice(i,s)),b>=0&&(_+=(i<0?"?":"&")+m.slice(b,C));var D=yn(c);return D&&(_+=(i<0&&b<0?"?":"&")+D),a>=0&&(_+=e.slice(a)),T>=0&&(_+=(a<0?"":"&")+m.slice(T)),_},vn=rt,ft=Ye,bn=function(e,t,i){var a=0;function s(c){return new t(c)}s.prototype=t.prototype,s.__proto__=t;function l(c){return function(m,b){typeof m!="string"?(b=m,m=m.url):b==null&&(b={});var T=new t(function(D,A){c(vn(m,b.params),b,function(q){if(typeof b.type=="function")if(Array.isArray(q))for(var V=0;V<q.length;V++)q[V]=new b.type(q[V]);else q=new b.type(q);D(q)},A)});if(b.background===!0)return T;var C=0;function k(){--C===0&&typeof i=="function"&&i()}return _(T);function _(D){var A=D.then;return D.constructor=s,D.then=function(){C++;var q=A.apply(D,arguments);return q.then(k,function(V){if(k(),C===0)throw V}),_(q)},D}}}function u(c,m){for(var b in c.headers)if(ft.call(c.headers,b)&&b.toLowerCase()===m)return!0;return!1}return{request:l(function(c,m,b,T){var C=m.method!=null?m.method.toUpperCase():"GET",k=m.body,_=(m.serialize==null||m.serialize===JSON.serialize)&&!(k instanceof e.FormData||k instanceof e.URLSearchParams),D=m.responseType||(typeof m.extract=="function"?"":"json"),A=new e.XMLHttpRequest,q=!1,V=!1,Y=A,z,N=A.abort;A.abort=function(){q=!0,N.call(this)},A.open(C,c,m.async!==!1,typeof m.user=="string"?m.user:void 0,typeof m.password=="string"?m.password:void 0),_&&k!=null&&!u(m,"content-type")&&A.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof m.deserialize!="function"&&!u(m,"accept")&&A.setRequestHeader("Accept","application/json, text/*"),m.withCredentials&&(A.withCredentials=m.withCredentials),m.timeout&&(A.timeout=m.timeout),A.responseType=D;for(var H in m.headers)ft.call(m.headers,H)&&A.setRequestHeader(H,m.headers[H]);A.onreadystatechange=function(R){if(!q&&R.target.readyState===4)try{var W=R.target.status>=200&&R.target.status<300||R.target.status===304||/^file:\/\//i.test(c),S=R.target.response,y;if(D==="json"){if(!R.target.responseType&&typeof m.extract!="function")try{S=JSON.parse(R.target.responseText)}catch{S=null}}else(!D||D==="text")&&S==null&&(S=R.target.responseText);if(typeof m.extract=="function"?(S=m.extract(R.target,m),W=!0):typeof m.deserialize=="function"&&(S=m.deserialize(S)),W)b(S);else{var f=function(){try{y=R.target.responseText}catch{y=S}var h=new Error(y);h.code=R.target.status,h.response=S,T(h)};A.status===0?setTimeout(function(){V||f()}):f()}}catch(h){T(h)}},A.ontimeout=function(R){V=!0;var W=new Error("Request timed out");W.code=R.target.status,T(W)},typeof m.config=="function"&&(A=m.config(A,m,c)||A,A!==Y&&(z=A.abort,A.abort=function(){q=!0,z.call(this)})),k==null?A.send():typeof m.serialize=="function"?A.send(m.serialize(k)):k instanceof e.FormData||k instanceof e.URLSearchParams?A.send(k):A.send(JSON.stringify(k))}),jsonp:l(function(c,m,b,T){var C=m.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+a++,k=e.document.createElement("script");e[C]=function(_){delete e[C],k.parentNode.removeChild(k),b(_)},k.onerror=function(){delete e[C],k.parentNode.removeChild(k),T(new Error("JSONP request failed"))},k.src=c+(c.indexOf("?")<0?"?":"&")+encodeURIComponent(m.callbackKey||"callback")+"="+encodeURIComponent(C),e.document.documentElement.appendChild(k)})}},En=Fe.exports,Pn=nt,Sn=bn(typeof window!="undefined"?window:null,En,Pn.redraw);function pt(e){try{return decodeURIComponent(e)}catch{return e}}var jt=function(e){if(e===""||e==null)return{};e.charAt(0)==="?"&&(e=e.slice(1));for(var t=e.split("&"),i={},a={},s=0;s<t.length;s++){var l=t[s].split("="),u=pt(l[0]),c=l.length===2?pt(l[1]):"";c==="true"?c=!0:c==="false"&&(c=!1);var m=u.split(/\]\[?|\[/),b=a;u.indexOf("[")>-1&&m.pop();for(var T=0;T<m.length;T++){var C=m[T],k=m[T+1],_=k==""||!isNaN(parseInt(k,10));if(C===""){var u=m.slice(0,T).join();i[u]==null&&(i[u]=Array.isArray(b)?b.length:0),C=i[u]++}else if(C==="__proto__")break;if(T===m.length-1)b[C]=c;else{var D=Object.getOwnPropertyDescriptor(b,C);D!=null&&(D=D.value),D==null&&(b[C]=D=_?[]:{}),b=D}}}return a},Tn=jt,it=function(e){var t=e.indexOf("?"),i=e.indexOf("#"),a=i<0?e.length:i,s=t<0?a:t,l=e.slice(0,s).replace(/\/{2,}/g,"/");return l?(l[0]!=="/"&&(l="/"+l),l.length>1&&l[l.length-1]==="/"&&(l=l.slice(0,-1))):l="/",{path:l,params:t<0?{}:Tn(e.slice(t+1,a))}},Cn=it,kn=function(e){var t=Cn(e),i=Object.keys(t.params),a=[],s=new RegExp("^"+t.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(l,u,c){return u==null?"\\"+l:(a.push({k:u,r:c==="..."}),c==="..."?"(.*)":c==="."?"([^/]+)\\.":"([^/]+)"+(c||""))})+"$");return function(l){for(var u=0;u<i.length;u++)if(t.params[i[u]]!==l.params[i[u]])return!1;if(!a.length)return s.test(l.path);var c=s.exec(l.path);if(c==null)return!1;for(var u=0;u<a.length;u++)l.params[a[u].k]=a[u].r?c[u+1]:decodeURIComponent(c[u+1]);return!0}},ht=Ye,dt=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$"),Mt=function(e,t){var i={};if(t!=null)for(var a in e)ht.call(e,a)&&!dt.test(a)&&t.indexOf(a)<0&&(i[a]=e[a]);else for(var a in e)ht.call(e,a)&&!dt.test(a)&&(i[a]=e[a]);return i},On=ve,Ln=Dt,An=Fe.exports,mt=rt,gt=it,_n=kn,Dn=xt,In=Mt,Ze={};function Nn(e){try{return decodeURIComponent(e)}catch{return e}}var Rn=function(e,t){var i=e==null?null:typeof e.setImmediate=="function"?e.setImmediate:e.setTimeout,a=An.resolve(),s=!1,l=!1,u=0,c,m,b=Ze,T,C,k,_,D={onbeforeupdate:function(){return u=u?2:1,!(!u||Ze===b)},onremove:function(){e.removeEventListener("popstate",V,!1),e.removeEventListener("hashchange",q,!1)},view:function(){if(!(!u||Ze===b)){var N=[On(T,C.key,C)];return b&&(N=b.render(N[0])),N}}},A=z.SKIP={};function q(){s=!1;var N=e.location.hash;z.prefix[0]!=="#"&&(N=e.location.search+N,z.prefix[0]!=="?"&&(N=e.location.pathname+N,N[0]!=="/"&&(N="/"+N)));var H=N.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,Nn).slice(z.prefix.length),R=gt(H);Dn(R.params,e.history.state);function W(y){console.error(y),Y(m,null,{replace:!0})}S(0);function S(y){for(;y<c.length;y++)if(c[y].check(R)){var f=c[y].component,h=c[y].route,w=f,$=_=function(G){if($===_){if(G===A)return S(y+1);T=G!=null&&(typeof G.view=="function"||typeof G=="function")?G:"div",C=R.params,k=H,_=null,b=f.render?f:null,u===2?t.redraw():(u=2,t.redraw.sync())}};f.view||typeof f=="function"?(f={},$(w)):f.onmatch?a.then(function(){return f.onmatch(R.params,H,h)}).then($,H===m?null:W):$("div");return}if(H===m)throw new Error("Could not resolve default route "+m+".");Y(m,null,{replace:!0})}}function V(){s||(s=!0,i(q))}function Y(N,H,R){if(N=mt(N,H),l){V();var W=R?R.state:null,S=R?R.title:null;R&&R.replace?e.history.replaceState(W,S,z.prefix+N):e.history.pushState(W,S,z.prefix+N)}else e.location.href=z.prefix+N}function z(N,H,R){if(!N)throw new TypeError("DOM element being rendered to does not exist.");if(c=Object.keys(R).map(function(S){if(S[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(S))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:S,component:R[S],check:_n(S)}}),m=H,H!=null){var W=gt(H);if(!c.some(function(S){return S.check(W)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof e.history.pushState=="function"?e.addEventListener("popstate",V,!1):z.prefix[0]==="#"&&e.addEventListener("hashchange",q,!1),l=!0,t.mount(N,D),q()}return z.set=function(N,H,R){_!=null&&(R=R||{},R.replace=!0),_=null,Y(N,H,R)},z.get=function(){return k},z.prefix="#!",z.Link={view:function(N){var H=Ln(N.attrs.selector||"a",In(N.attrs,["options","params","selector","onclick"]),N.children),R,W,S;return(H.attrs.disabled=Boolean(H.attrs.disabled))?(H.attrs.href=null,H.attrs["aria-disabled"]="true"):(R=N.attrs.options,W=N.attrs.onclick,S=mt(H.attrs.href,N.attrs.params),H.attrs.href=z.prefix+S,H.attrs.onclick=function(y){var f;typeof W=="function"?f=W.call(y.currentTarget,y):W==null||typeof W!="object"||typeof W.handleEvent=="function"&&W.handleEvent(y),f!==!1&&!y.defaultPrevented&&(y.button===0||y.which===0||y.which===1)&&(!y.currentTarget.target||y.currentTarget.target==="_self")&&!y.ctrlKey&&!y.metaKey&&!y.shiftKey&&!y.altKey&&(y.preventDefault(),y.redraw=!1,z.set(S,null,R))}),H}},z.param=function(N){return C&&N!=null?C[N]:C},z},xn=nt,jn=Rn(typeof window!="undefined"?window:null,xn),Ge=pn,qt=Sn,$t=nt,re=function(){return Ge.apply(this,arguments)};re.m=Ge;re.trust=Ge.trust;re.fragment=Ge.fragment;re.Fragment="[";re.mount=$t.mount;re.route=jn;re.render=Nt;re.redraw=$t.redraw;re.request=qt.request;re.jsonp=qt.jsonp;re.parseQueryString=jt;re.buildQueryString=Rt;re.parsePathname=it;re.buildPathname=rt;re.vnode=ve;re.PromisePolyfill=It;re.censor=Mt;var v=re;function Z(e){return e!=null&&typeof e=="object"&&e["@@functional/placeholder"]===!0}function se(e){return function t(i){return arguments.length===0||Z(i)?t:e.apply(this,arguments)}}function ke(e){return function t(i,a){switch(arguments.length){case 0:return t;case 1:return Z(i)?t:se(function(s){return e(i,s)});default:return Z(i)&&Z(a)?t:Z(i)?se(function(s){return e(s,a)}):Z(a)?se(function(s){return e(i,s)}):e(i,a)}}}function Mn(e){return function t(i,a,s){switch(arguments.length){case 0:return t;case 1:return Z(i)?t:ke(function(l,u){return e(i,l,u)});case 2:return Z(i)&&Z(a)?t:Z(i)?ke(function(l,u){return e(l,a,u)}):Z(a)?ke(function(l,u){return e(i,l,u)}):se(function(l){return e(i,a,l)});default:return Z(i)&&Z(a)&&Z(s)?t:Z(i)&&Z(a)?ke(function(l,u){return e(l,u,s)}):Z(i)&&Z(s)?ke(function(l,u){return e(l,a,u)}):Z(a)&&Z(s)?ke(function(l,u){return e(i,l,u)}):Z(i)?se(function(l){return e(l,a,s)}):Z(a)?se(function(l){return e(i,l,s)}):Z(s)?se(function(l){return e(i,a,l)}):e(i,a,s)}}}var qn=Array.isArray||function(t){return t!=null&&t.length>=0&&Object.prototype.toString.call(t)==="[object Array]"};function $n(e){return Object.prototype.toString.call(e)==="[object String]"}function Je(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var yt=Object.prototype.toString,Hn=function(){return yt.call(arguments)==="[object Arguments]"?function(t){return yt.call(t)==="[object Arguments]"}:function(t){return Je("callee",t)}}(),Ht=Hn,Un=!{toString:null}.propertyIsEnumerable("toString"),wt=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],vt=function(){return arguments.propertyIsEnumerable("length")}(),zn=function(t,i){for(var a=0;a<t.length;){if(t[a]===i)return!0;a+=1}return!1},Bn=se(typeof Object.keys=="function"&&!vt?function(t){return Object(t)!==t?[]:Object.keys(t)}:function(t){if(Object(t)!==t)return[];var i,a,s=[],l=vt&&Ht(t);for(i in t)Je(i,t)&&(!l||i!=="length")&&(s[s.length]=i);if(Un)for(a=wt.length-1;a>=0;)i=wt[a],Je(i,t)&&!zn(s,i)&&(s[s.length]=i),a-=1;return s}),bt=Bn,Fn=se(function(t){return t===null?"Null":t===void 0?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}),Et=Fn;function Pt(e){for(var t=[],i;!(i=e.next()).done;)t.push(i.value);return t}function St(e,t,i){for(var a=0,s=i.length;a<s;){if(e(t,i[a]))return!0;a+=1}return!1}function Kn(e){var t=String(e).match(/^function (\w*)/);return t==null?"":t[1]}function Wn(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var et=typeof Object.is=="function"?Object.is:Wn;function Tt(e,t,i,a){var s=Pt(e),l=Pt(t);function u(c,m){return ot(c,m,i.slice(),a.slice())}return!St(function(c,m){return!St(u,m,c)},l,s)}function ot(e,t,i,a){if(et(e,t))return!0;var s=Et(e);if(s!==Et(t)||e==null||t==null)return!1;if(typeof e["fantasy-land/equals"]=="function"||typeof t["fantasy-land/equals"]=="function")return typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t)&&typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e);if(typeof e.equals=="function"||typeof t.equals=="function")return typeof e.equals=="function"&&e.equals(t)&&typeof t.equals=="function"&&t.equals(e);switch(s){case"Arguments":case"Array":case"Object":if(typeof e.constructor=="function"&&Kn(e.constructor)==="Promise")return e===t;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof t&&et(e.valueOf(),t.valueOf())))return!1;break;case"Date":if(!et(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(!(e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.sticky===t.sticky&&e.unicode===t.unicode))return!1;break}for(var l=i.length-1;l>=0;){if(i[l]===e)return a[l]===t;l-=1}switch(s){case"Map":return e.size!==t.size?!1:Tt(e.entries(),t.entries(),i.concat([e]),a.concat([t]));case"Set":return e.size!==t.size?!1:Tt(e.values(),t.values(),i.concat([e]),a.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var u=bt(e);if(u.length!==bt(t).length)return!1;var c=i.concat([e]),m=a.concat([t]);for(l=u.length-1;l>=0;){var b=u[l];if(!(Je(b,t)&&ot(t[b],e[b],c,m)))return!1;l-=1}return!0}var Vn=ke(function(t,i){return ot(t,i,[],[])}),Ut=Vn;function Jn(e){return Object.prototype.toString.call(e)==="[object Object]"}var Yn=se(function(t){return t!=null&&typeof t["fantasy-land/empty"]=="function"?t["fantasy-land/empty"]():t!=null&&t.constructor!=null&&typeof t.constructor["fantasy-land/empty"]=="function"?t.constructor["fantasy-land/empty"]():t!=null&&typeof t.empty=="function"?t.empty():t!=null&&t.constructor!=null&&typeof t.constructor.empty=="function"?t.constructor.empty():qn(t)?[]:$n(t)?"":Jn(t)?{}:Ht(t)?function(){return arguments}():void 0}),Gn=Yn,Xn=se(function(t){return t!=null&&Ut(t,Gn(t))}),Ct=Xn,Qn=Mn(function(t,i,a){return Ut(i,a[t])}),Le=Qn,zt=typeof setImmediate!="undefined"?setImmediate:typeof process!="undefined"?process.nextTick:setTimeout,Zn=F;function F(e,t){this.fork=e,this.cleanup=t||function(){}}F.prototype.of=function(t){return new F(function(i,a){return a(t)})};F.of=F.prototype.of;F.prototype.rejected=function(t){return new F(function(i){return i(t)})};F.rejected=F.prototype.rejected;F.prototype.map=function(t){var i=this.fork,a=this.cleanup;return new F(function(s,l){return i(function(u){return s(u)},function(u){return l(t(u))})},a)};F.prototype.chain=function(t){var i=this.fork,a=this.cleanup;return new F(function(s,l){return i(function(u){return s(u)},function(u){return t(u).fork(s,l)})},a)};F.prototype.ap=function(t){var i=this.fork,a=t.fork,s=this.cleanup,l=t.cleanup;function u(c){s(c[0]),l(c[1])}return new F(function(c,m){var b,T=!1,C,k=!1,_=!1,D,A=i(Y,V(function(z){T=!0,b=z})),q=a(Y,V(function(z){k=!0,C=z}));function V(z){return function(N){if(!_)return z(N),T&&k?(zt(function(){u(D)}),m(b(C))):N}}function Y(z){if(!_)return _=!0,c(z)}return D=[A,q]},u)};F.prototype.concat=function(t){var i=this.fork,a=t.fork,s=this.cleanup,l=t.cleanup;function u(c){s(c[0]),l(c[1])}return new F(function(c,m){var b=!1,T,C=i(_(c),_(m)),k=a(_(c),_(m));return T=[C,k];function _(D){return function(A){if(!b)return b=!0,zt(function(){u(T)}),D(A)}}},u)};F.empty=function(){return new F(function(){})};F.prototype.empty=F.empty;F.prototype.toString=function(){return"Task"};F.prototype.orElse=function(t){var i=this.fork,a=this.cleanup;return new F(function(s,l){return i(function(u){return t(u).fork(s,l)},function(u){return l(u)})},a)};F.prototype.fold=function(t,i){var a=this.fork,s=this.cleanup;return new F(function(l,u){return a(function(c){return u(t(c))},function(c){return u(i(c))})},s)};F.prototype.cata=function(t){return this.fold(t.Rejected,t.Resolved)};F.prototype.swap=function(){var t=this.fork,i=this.cleanup;return new F(function(a,s){return t(function(l){return s(l)},function(l){return a(l)})},i)};F.prototype.bimap=function(t,i){var a=this.fork,s=this.cleanup;return new F(function(l,u){return a(function(c){return l(t(c))},function(c){return u(i(c))})},s)};F.prototype.rejectedMap=function(t){var i=this.fork,a=this.cleanup;return new F(function(s,l){return i(function(u){return s(t(u))},function(u){return l(u)})},a)};var Bt=Zn;const er="https://shopper.deno.dev/",tr={"Content-Type":"application/json"},nr=e=>t=>i=>t(JSON.parse(JSON.stringify(i))),rr=e=>t=>i=>t(i),Ve=e=>t=>i=>a=>new Bt((s,l)=>v.request({method:e,url:er+i,headers:tr,body:a,withCredentials:!1}).then(rr()(l),nr()(s))),ir={getTask:(e,t)=>Ve("GET")(e)(t)(),postTask:(e,t,i)=>Ve("POST")(e)(t)(i),putTask:(e,t,i)=>Ve("PUT")(e)(t)(i),deleteTask:(e,t)=>Ve("DELETE")(e)(t)()},Ft=()=>"xxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,i=e=="x"?t:t&3|8;return i.toString(16)}),Kt=e=>t=>(console.log(e,t),t);window.log=Kt;const or=["Of Them","Boxe(s)","Can(s)","gram(s)","kilogram(s)","pound(s)","liter(s)","mliter(s)","ounce(s)"],ar=e=>{var t;return e.stores.find(Le("id",(t=e.currentStore)==null?void 0:t.id))||e.stores[0]},Re=e=>{const t=u=>u.http.getTask(u,"stores"),i=u=>u.http.getTask(u,"cats"),a=u=>u.http.getTask(u,"items"),s=({stores:u,cats:c,items:m})=>{let b=c.map(T=>(T.items=m.filter(Le("catId",T.id)).sort((C,k)=>C.order-k.order).reverse(),T)).sort((T,C)=>T.order-C.order);return{cats:b,stores:u.map(T=>(T.cats=b.filter(Le("storeId",T.id)).sort((C,k)=>C.order-k.order),T)),items:m}},l=({stores:u,cats:c,items:m})=>{e.stores=u,e.cats=c,e.items=m.reverse(),e.currentStore=ar(e)};Bt.of(u=>c=>m=>s({stores:u,cats:c,items:m})).ap(t(e)).ap(i(e)).ap(a(e)).fork(Kt("error"),l)},sr=({catId:e,title:t,notes:i,quantity:a,unit:s,price:l,order:u})=>({id:Ft(),title:t,notes:i,catId:e,order:u,quantity:a,unit:s,price:l,notes:i,purchased:!1}),ur=(e,t=0)=>({title:e,id:Ft(),order:t}),Ke={state:{},http:ir,settings:{},state:{dragging:{item:"",swapItem:""},catIds:[],items:[],showModal:!1,modalContent:null},stores:[],cats:[],items:[],currentStore:null},lr=(e,t)=>{let i=ur(t.title);const a=log("error"),s=l=>{t.title="",e.state.showModal=!1,e.state.modalContent=null,Re(e)};e.http.postTask(e,"stores",i).fork(a,s)},Wt=()=>{const e={title:""};return{view:({attrs:{mdl:t}})=>v("form.w3-container.w3-card.w3-white.w3-animate-zoom",{onsubmit:i=>i.preventDefault()},v("div.w3-section",v("label",v("b","Store Title")),v("input.w3-input.w3-border-bottom",{oncreate:({dom:i})=>{i.select(),i.focus()},type:"text",value:e.title,oninput:i=>e.title=i.target.value})),v("button.w3-button.w3-block.w3-orange.w3-section.w3-padding",{onclick:()=>lr(t,e)},"add"))}},cr=(e,t)=>e.cats.find(Le("id",t)).items.length,fr=(e,t,i)=>{const{catId:a,title:s,notes:l,order:u,quantity:c,unit:m,price:b,id:T}=t;let C=i?{catId:a,title:s,notes:l,order:u,quantity:c,unit:m,price:b,id:T}:sr({catId:a,title:s,notes:l,order:cr(e,a),quantity:c,unit:m,price:b});const k=D=>{t={catId:a,title:"",notes:"",order:0,quantity:"",unit:"",price:0},Re(e),e.state.showModal=!1,e.state.modalContent=null};return((D,A)=>i?D.http.postTask(D,"items",A):D.http.putTask(D,`items/${A.id}`,A))(e,C).fork(log("error"),k)},at=({attrs:{mdl:e,catId:t,item:i,isEdit:a}})=>{const s={catId:t,catTitle:"",title:"",notes:"",order:0,quantity:0,unit:"",price:0};return t&&(s.catTitle=e.cats.find(Le("id",t)).title),a&&(s.catId=i.catId,s.title=i.title,s.notes=i.notes,s.order=i.order,s.quantity=i.quantity,s.unit=i.unit,s.price=i.price,s.id=i.id),{view:({attrs:{mdl:l}})=>{var u;return v("form.w3-container.w3-card.w3-white.w3-animate-zoom",{onsubmit:c=>c.preventDefault()},v("div.w3-section",v("label",v("b","Title")),v("input.w3-input.w3-border-bottom",{oncreate:({dom:c})=>{c.select(),c.focus()},type:"text",value:s.title,oninput:c=>s.title=c.target.value})),v("div.w3-section",v("label",v("b","Category")),v("select.w3-input.w3-border-bottom",{value:((u=l.cats.find(Le("id",s.catId)))==null?void 0:u.title)||"",onchange:c=>{s.catTitle=c.target.value,s.catId=l.cats.find(Le("title",s.catTitle)).id}},l.cats.map(c=>v(`option#${c.id}`,c.title)))),v("div.w3-section",v("label",v("b","Quantity")),v("input.w3-input.w3-border-bottom",{type:"number",value:s.quantity,oninput:c=>s.quantity=c.target.value})),v("div.w3-section",v("label",v("b","Unit")),v("select.w3-input.w3-border-bottom",{value:s.unit,onchange:c=>s.unit=c.target.value},or.map(c=>v("option",c)))),v("div.w3-section",v("label",v("b","Price")),v("input.w3-input.w3-border-bottom",{type:"number",value:s.price,oninput:c=>s.price=c.target.value})),v("div.w3-section",v("label",v("b","Notes")),v("textarea.w3-input.w3-border-bottom",{oninput:c=>s.notes=c.target.value},s.notes)),v("button.w3-button.w3-block.w3-orange.w3-section.w3-padding",{onclick:()=>fr(l,s,a)},a?"Update":"Add"))}}},Be=new Set,pr=(e,t)=>{e.http.deleteTask(e,`stores/${t}`).fork(log("error deleteing"),()=>Re(e))},hr=(e,t)=>{e.http.deleteTask(e,`cats/${t}`).fork(log("error deleteing"),()=>Re(e))},dr=(e,t)=>Promise.resolve(e.setCat(t)),kt=(e,t,i)=>Promise.resolve(e.currentStore=i).then(()=>t.toggleSideBar(t)),mr=()=>({view:({attrs:{mdl:e,state:t}})=>v(".w3-sidebar#sidebar.w3-bar-block.w3-collapse.w3-card.w3-animate-left",{style:{width:e.settings.profile=="desktop"?"300px":"90%",display:t.sidebar.open?"block":"none"}},e.settings.profile!="desktop"&&v("button.w3-bar-item.w3-button.w3-large",{onclick:()=>t.toggleSideBar(t)},"Close "),v("button.w3-button.w3-orange",{onclick:()=>{e.state.modalContent=v(Wt,{mdl:e}),e.state.showModal=!0}},"New Store"),e.stores.map((i,a)=>v(".w3-right-align.w3-row",{key:i.id},v("button.w3-button.w3-left-align.w3-col",{class:e.currentStore.id==i.id?"w3-leftbar w3-border-orange w3-border-10":"",onclick:s=>{s.stopPropagation(),kt(e,t,i)}},v(".w3-left-align.w3-col.s4",v("button.pointer.w3-badge.w3-pink.w3-border-0.w3-circle.w3-hover-red.w3-left-align",{onclick:s=>{s.stopPropagation(),pr(e,i.id)}},"x")),v("label.w3-label.w3-col.s4.w3-left-align.pointer",i.title),!Ct(i.cats)&&v(".w3-col.s4.w3-right-align",{onclick:s=>{s.stopPropagation(),Be.has(i.id)?Be.delete(i.id):Be.add(i.id)}},v("i.w3-btn.w3-circle",Be.has(i.id)?"V":">"))),!Ct(i.cats)&&v("ul.w3-list",{class:Be.has(i.id)?"w3-show":"w3-hide",id:i.id},i.cats.map((s,l)=>{var u;return v(".w3-list-item.pointer.w3-row",{key:s.id,onclick:()=>{dr(t,s.id).then(()=>kt(e,t,i))}},v("button.pointer.w3-badge.w3-pink.w3-border-0.w3-circle.w3-hover-red.w3-left-align",{onclick:c=>{c.stopPropagation(),hr(e,s.id)}},"x"),v("label.w3-col s4",s.title),v(".w3-right-align.w3-col s4",v(".w3-tag w3-orange",(u=s.issues)==null?void 0:u.length)))})))))}),gr=()=>({view:({attrs:{mdl:e,state:t}})=>v("nav.w3-fixed.w3-container",e.currentStore&&v(".w3-bar",v("button.w3-button.w3-hide-large.w3-border.w3-bar-item.w3-left",{onclick:()=>t.toggleSideBar(t)},"MENU"),v(".w3-bar-item",e.currentStore.title),v("button.w3-button.w3-border.w3-bar-item.w3-right",{onclick:()=>{e.state.modalContent=v(at,{mdl:e,catId:null}),e.state.showModal=!0}},"Add an Item")))});var yr={exports:{}};(function(e,t){(function(i,a){e.exports=a()})(we,function(){function i(y){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(y)}function a(y,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(f&&f.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),f&&s(y,f)}function s(y,f){return(s=Object.setPrototypeOf||function(h,w){return h.__proto__=w,h})(y,f)}function l(y){var f=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var h,w=u(y);return h=f?(h=u(this).constructor,Reflect.construct(w,arguments,h)):w.apply(this,arguments),w=this,!(h=h)||i(h)!=="object"&&typeof h!="function"?function($){if($!==void 0)return $;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(w):h}}function u(y){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(y)}function c(y,f){if(!(y instanceof f))throw new TypeError("Cannot call a class as a function")}function m(y,f){for(var h=0;h<f.length;h++){var w=f[h];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}function b(y,f,h){return f&&m(y.prototype,f),h&&m(y,h),y}var T={set:function(y,f,h){V(y,f,h)},config:function(y){q.set(y)},map:function(){return z.apply(null,arguments)}},C=function(){function y(f,h,w){c(this,y),this.routeEvents(f,h,w),this.preventSelect(f,w)}return b(y,[{key:"routeEvents",value:function(f,h,w){var $=q.get("only",w);this.adapter=!N||$!=="mouse"&&$!==null?!R||$!=="pointer"&&$!==null?!H||$!=="touch"&&$!==null?new k(f,h).bindUnsupportedEvent():new D(f,h,w).bindEvents():new A(f,h,w).bindEvents():new _(f,h,w).bindEvents()}},{key:"preventSelect",value:function(f,h){q.get("preventSelect",h)&&(f.style.webkitTouchCallout="none",f.style.webkitUserSelect="none",f.style.khtmlUserSelect="none",f.style.MozUserSelect="none",f.style.msUserSelect="none",f.style.userSelect="none")}}]),y}(),k=function(){function y(f,h,w){c(this,y),this.el=f,this.block=h,this.options=w,this.pressed=!1,this.deepPressed=!1,this.nativeSupport=!1,this.runningPolyfill=!1,this.runKey=Math.random()}return b(y,[{key:"setPressed",value:function(f){this.pressed=f}},{key:"setDeepPressed",value:function(f){this.deepPressed=f}},{key:"isPressed",value:function(){return this.pressed}},{key:"isDeepPressed",value:function(){return this.deepPressed}},{key:"add",value:function(f,h){this.el.addEventListener(f,h,!1)}},{key:"runClosure",value:function(f){f in this.block&&this.block[f].apply(this.el,Array.prototype.slice.call(arguments,1))}},{key:"fail",value:function(f,h){q.get("polyfill",this.options)?this.runKey===h&&this.runPolyfill(f):this.runClosure("unsupported",f)}},{key:"bindUnsupportedEvent",value:function(){var f=this;this.add(H?"touchstart":"mousedown",function(h){return f.runClosure("unsupported",h)})}},{key:"_startPress",value:function(f){this.isPressed()===!1&&(this.runningPolyfill=!1,this.setPressed(!0),this.runClosure("start",f))}},{key:"_startDeepPress",value:function(f){this.isPressed()&&this.isDeepPressed()===!1&&(this.setDeepPressed(!0),this.runClosure("startDeepPress",f))}},{key:"_changePress",value:function(f,h){this.nativeSupport=!0,this.runClosure("change",f,h)}},{key:"_endDeepPress",value:function(){this.isPressed()&&this.isDeepPressed()&&(this.setDeepPressed(!1),this.runClosure("endDeepPress"))}},{key:"_endPress",value:function(){this.runningPolyfill===!1?(this.isPressed()&&(this._endDeepPress(),this.setPressed(!1),this.runClosure("end")),this.runKey=Math.random(),this.nativeSupport=!1):this.setPressed(!1)}},{key:"deepPress",value:function(f,h){.5<=f?this._startDeepPress(h):this._endDeepPress()}},{key:"runPolyfill",value:function(f){this.increment=q.get("polyfillSpeedUp",this.options)===0?1:10/q.get("polyfillSpeedUp",this.options),this.decrement=q.get("polyfillSpeedDown",this.options)===0?1:10/q.get("polyfillSpeedDown",this.options),this.setPressed(!0),this.runClosure("start",f),this.runningPolyfill===!1&&this.loopPolyfillForce(0,f)}},{key:"loopPolyfillForce",value:function(f,h){this.nativeSupport===!1&&(this.isPressed()?(this.runningPolyfill=!0,f=1<f+this.increment?1:f+this.increment,this.runClosure("change",f,h),this.deepPress(f,h),setTimeout(this.loopPolyfillForce.bind(this,f,h),10)):((f=f-this.decrement<0?0:f-this.decrement)<.5&&this.isDeepPressed()&&(this.setDeepPressed(!1),this.runClosure("endDeepPress")),f===0?(this.runningPolyfill=!1,this.setPressed(!0),this._endPress()):(this.runClosure("change",f,h),this.deepPress(f,h),setTimeout(this.loopPolyfillForce.bind(this,f,h),10))))}}]),y}(),_=function(){a(f,k);var y=l(f);function f(h,w,$){return c(this,f),y.call(this,h,w,$)}return b(f,[{key:"bindEvents",value:function(){this.add("webkitmouseforcewillbegin",this._startPress.bind(this)),this.add("mousedown",this.support.bind(this)),this.add("webkitmouseforcechanged",this.change.bind(this)),this.add("webkitmouseforcedown",this._startDeepPress.bind(this)),this.add("webkitmouseforceup",this._endDeepPress.bind(this)),this.add("mouseleave",this._endPress.bind(this)),this.add("mouseup",this._endPress.bind(this))}},{key:"support",value:function(h){this.isPressed()===!1&&this.fail(h,this.runKey)}},{key:"change",value:function(h){this.isPressed()&&0<h.webkitForce&&this._changePress(this.normalizeForce(h.webkitForce),h)}},{key:"normalizeForce",value:function(h){return this.reachOne(z(h,1,3,0,1))}},{key:"reachOne",value:function(h){return .995<h?1:h}}]),f}(),D=function(){a(f,k);var y=l(f);function f(h,w,$){return c(this,f),y.call(this,h,w,$)}return b(f,[{key:"bindEvents",value:function(){S?(this.add("touchforcechange",this.start.bind(this)),this.add("touchstart",this.support.bind(this,0))):this.add("touchstart",this.startLegacy.bind(this)),this.add("touchend",this._endPress.bind(this))}},{key:"start",value:function(h){0<h.touches.length&&(this._startPress(h),this.touch=this.selectTouch(h),this.touch&&this._changePress(this.touch.force,h))}},{key:"support",value:function(h,w,$){$=2<arguments.length&&$!==void 0?$:this.runKey,this.isPressed()===!1&&(h<=6?(h++,setTimeout(this.support.bind(this,h,w,$),10)):this.fail(w,$))}},{key:"startLegacy",value:function(h){this.initialForce=h.touches[0].force,this.supportLegacy(0,h,this.runKey,this.initialForce)}},{key:"supportLegacy",value:function(h,w,$,G){G!==this.initialForce?(this._startPress(w),this.loopForce(w)):h<=6?(h++,setTimeout(this.supportLegacy.bind(this,h,w,$,G),10)):this.fail(w,$)}},{key:"loopForce",value:function(h){this.isPressed()&&(this.touch=this.selectTouch(h),setTimeout(this.loopForce.bind(this,h),10),this._changePress(this.touch.force,h))}},{key:"selectTouch",value:function(h){if(h.touches.length===1)return this.returnTouch(h.touches[0],h);for(var w=0;w<h.touches.length;w++)if(h.touches[w].target===this.el||this.el.contains(h.touches[w].target))return this.returnTouch(h.touches[w],h)}},{key:"returnTouch",value:function(h,w){return this.deepPress(h.force,w),h}}]),f}(),A=function(){a(f,k);var y=l(f);function f(h,w,$){return c(this,f),y.call(this,h,w,$)}return b(f,[{key:"bindEvents",value:function(){this.add("pointerdown",this.support.bind(this)),this.add("pointermove",this.change.bind(this)),this.add("pointerup",this._endPress.bind(this)),this.add("pointerleave",this._endPress.bind(this))}},{key:"support",value:function(h){this.isPressed()===!1&&(h.pressure===0||h.pressure===.5||1<h.pressure?this.fail(h,this.runKey):(this._startPress(h),this._changePress(h.pressure,h)))}},{key:"change",value:function(h){this.isPressed()&&0<h.pressure&&h.pressure!==.5&&(this._changePress(h.pressure,h),this.deepPress(h.pressure,h))}}]),f}(),q={polyfill:!0,polyfillSpeedUp:1e3,polyfillSpeedDown:0,preventSelect:!0,only:null,get:function(y,f){return(f.hasOwnProperty(y)?f:this)[y]},set:function(y){for(var f in y)y.hasOwnProperty(f)&&this.hasOwnProperty(f)&&f!="get"&&f!="set"&&(this[f]=y[f])}},V=function(y,f,h){var w=2<arguments.length&&h!==void 0?h:{};if(typeof y=="string"||y instanceof String)for(var $=document.querySelectorAll(y),G=0;G<$.length;G++)new C($[G],f,w);else if(Y(y))new C(y,f,w);else for(G=0;G<y.length;G++)new C(y[G],f,w)},Y=function(y){return(typeof HTMLElement=="undefined"?"undefined":i(HTMLElement))==="object"?y instanceof HTMLElement:y&&i(y)==="object"&&y!==null&&y.nodeType===1&&typeof y.nodeName=="string"},z=function(y,f,h,w,$){return(y-f)*($-w)/(h-f)+w},N=!1,H=!1,R=!1,W=!1,S=!1;if(typeof window!="undefined"){if(typeof Touch!="undefined")try{(Touch.prototype.hasOwnProperty("force")||"force"in new Touch)&&(W=!0)}catch{}H="ontouchstart"in window.document&&W,N="onmousemove"in window.document&&"onwebkitmouseforcechanged"in window.document&&!H,R="onpointermove"in window.document,S="ontouchforcechange"in window.document}return T})})(yr);const wr=(e,t)=>{console.log(e,t),e.http.deleteTask(e,`items/${t}`).fork(log("err"),()=>Re(e))},vr=(e,t)=>{e.state.showModal=!0,e.state.modalContent=v(at,{catId:t.catId,mdl:e,item:t,isEdit:!0})},br=(e,t,i)=>{t.left=!0,vr(e,i),st(e,t)},Er=(e,t,i)=>{t.right=!0,wr(e,i.id),st(e,t)},st=(e,t,i)=>{t.left=!1,t.right=!1},Pr=e=>e.classList.contains("swipe-container"),Vt=e=>Pr(e)?e:Vt(e.parentElement),Sr=({leftAction:e,rightAction:t,resetAction:i},a)=>{const s=Vt(a.target),l=s.clientWidth*60/100,u=s.scrollLeft-s.clientWidth;console.log(u),u<l/2*-1?e():u>l?t():i()},Tr=(e,t,i)=>a=>{t.draggable||Sr({leftAction:()=>br(e,t,i),rightAction:()=>Er(e,t,i),resetAction:()=>st(e,t)},a)},Cr=()=>{const e={highlight:!1,draggable:!1};return{view:({attrs:{item:t,mdl:i}})=>v("li.w3-li.w3-list-item.w3-leftbar.w3-border-bottom",{id:t.id,draggable:e.draggable,class:e.highlight?"w3-orange":"",style:{height:"70px"}},v(".swipe-container",{ontouchend:Tr(i,e,t)},!e.draggable&&v(".swipe-action.swipe-left",v("",{},"Edit")),v(".",{class:e.draggable?"":"swipe-element",style:{height:"60px"}},v(".w3-left",v("img",{src:t.img,style:{maxWidth:"85px"}})),v("",{style:{fontSize:"1.2rem"}},t.title),t.quantity>0&&v(".w3-left",`${t.quantity} ${t.unit}`),t.price>0&&v(".w3-right",`$ ${t.price}`)),!e.draggable&&v(".swipe-action.swipe-right",v("icon",v.trust("&#9888;")))))}};var kr={exports:{}};/*@preserve
 * Dragster - drag'n'drop library v1.6.2
 * https://github.com/sunpietro/dragster
 *
 * Copyright 2015-2017 Piotr Nalepa
 * http://blog.piotrnalepa.pl
 *
 * Released under the MIT license
 * https://github.com/sunpietro/dragster/blob/master/LICENSE
 *
 * Date: 2017-06-28T22:30Z
 */(function(e,t){(function(i,a,s){e.exports=s()})(we,"Dragster",function(){var i=function(a){var s="dragster-",l="is-dragging",u="is-drag-over",c=s+"draggable",m=s+"drag-region",b=s+"drop-placeholder",T=s+"temp",C=T+"-container",k=s+"is-hidden",_=s+"replacable",D="touchstart",A="touchmove",q="touchend",V="mousedown",Y="mousemove",z="mouseup",N="top",H="bottom",R="px",W="div",S=!1,y=!0,f=null,h=function(){},w={elementSelector:".dragster-block",regionSelector:".dragster-region",dragHandleCssClass:S,dragOnlyRegionCssClass:s+"region--drag-only",replaceElements:S,updateRegionsHeight:y,minimumRegionHeight:60,onBeforeDragStart:h,onAfterDragStart:h,onBeforeDragMove:h,onAfterDragMove:h,onBeforeDragEnd:h,onAfterDragEnd:h,onAfterDragDrop:h,scrollWindowOnDrag:S,dragOnlyRegionsEnabled:S,cloneElements:S,wrapDraggableElements:y,shadowElementUnderMouse:S},$={top:S,bottom:S},G={drag:{node:f},drop:{node:f},shadow:{node:f,top:0,left:0},placeholder:{node:f,position:f},dropped:f,clonedFrom:f,clonedTo:f},X={},ce,ue,fe,ie,me,Ae,Q,_e,te,De,xe,be,Ee,je,We,ge,Me,le,Pe,ye,Se,qe,pe,r,n,o,d,g,E,x,U,L,K=window.innerHeight,oe=Math.floor((1+Math.random())*65536).toString(16);for(ce in a)a.hasOwnProperty(ce)&&(w[ce]=a[ce]);return Se=function(){return[].slice.call(document.querySelectorAll(w.elementSelector))},qe=function(){return[].slice.call(document.querySelectorAll(w.regionSelector))},pe=function(p){if(w.wrapDraggableElements===S)return console.warn(`You have disabled the default behavior of wrapping the draggable elements. If you want Dragster.js to work properly you still will have to do this manually.

More info: https://github.com/sunpietro/dragster/blob/master/README.md#user-content-wrapdraggableelements---boolean`),S;p.forEach(function(P){var O=je(),I=P.parentNode;if(I.classList.contains(c))return S;I.insertBefore(O,P),I.removeChild(P),O.appendChild(P)})},_e=Se(),ue=qe(),w.replaceElements&&(Ae=document.createElement(W),Ae.classList.add(k),Ae.classList.add(C),document.body.appendChild(Ae)),fe=function(p,P){var O=p.parentNode;if(!(!O||p.classList&&p.classList.contains(m)&&!p.classList.contains(w.dragOnlyRegionCssClass)))return P(p)?p:P(O)?O:fe(O,P)},le=function(p){var P=[].slice.call(document.getElementsByClassName(p));P.forEach(function(O){O.dataset.dragsterId===oe&&O.parentNode.removeChild(O)})},Pe=function(p,P){P&&(ue.forEach(function(O){O.removeEventListener(P,te.mousemove)}),document.body.removeEventListener(P,te.mousemove)),p&&p.classList.remove(l),[].slice.call(document.getElementsByClassName(c)).forEach(function(O){O.firstChild||O.parentNode.removeChild(O)}),le(b),le(T),r()},ye=function(){[].slice.call(document.getElementsByClassName(_)).forEach(function(p){p.classList.remove(_)})},je=function(){var p=document.createElement(W);return p.classList.add(c),p.dataset.dragsterId=oe,p},ge=function(){var p=document.createElement(W);return p.classList.add(b),p.dataset.dragsterId=oe,p},We=function(){var p=document.createElement(W);return p.classList.add(T),p.classList.add(k),p.style.position="fixed",p.dataset.dragsterId=oe,document.body.appendChild(p),p},be=function(p,P){if(p&&p.parentNode){var O=w.wrapDraggableElements===S?p:p.nextSibling;p.parentNode.insertBefore(P,O)}},Ee=function(p,P){p&&p.parentNode&&p.parentNode.insertBefore(P,p)},De=function(p){return p.classList&&p.classList.contains(c)&&p.dataset.dragsterId===oe},xe=function(p){return p.classList&&p.classList.contains(w.dragOnlyRegionCssClass)},r=function(){if(w.updateRegionsHeight){var p=[].slice.call(document.getElementsByClassName(m));p.forEach(function(P){var O=[].slice.call(P.querySelectorAll(w.elementSelector)),I=w.minimumRegionHeight;!O.length||(O.forEach(function(j){var B=window.getComputedStyle(j);I+=j.offsetHeight+parseInt(B.marginTop,10)+parseInt(B.marginBottom,10)}),P.style.height=I+R)})}},d=function(p,P){Pe(Q,p),Pe(Q,P)},te={mousedown:function(p){if(w.dragHandleCssClass&&(typeof w.dragHandleCssClass!="string"||!p.target.classList.contains(w.dragHandleCssClass)))return S;var P,O,I,j=p.type===D,B=p.changedTouches?p.changedTouches[0]:p;if(X=JSON.parse(JSON.stringify(G)),p.dragster=X,w.onBeforeDragStart(p)===S||p.which===3||(p.preventDefault(),Q=fe(p.target,De),!Q))return S;O=j?A:Y,I=j?q:z,ue.forEach(function(M){M.addEventListener(O,te.mousemove,S),M.addEventListener(I,te.mouseup,S)}),document.body.addEventListener(O,te.mousemove,S),document.body.addEventListener(I,te.mouseup,S),P=Q.getBoundingClientRect(),x=P.left-B.clientX,U=P.top-B.clientY,ie=We(),ie.innerHTML=Q.innerHTML,ie.style.width=P.width+R,ie.style.height=P.height+R,ie.dataset.dragsterId=oe,me=ie.getBoundingClientRect(),Q.classList.add(l),X.drag.node=Q,X.shadow.node=ie,p.dragster=X,w.onAfterDragStart(p)},mousemove:function(p){if(p.dragster=X,w.onBeforeDragMove(p)===S||!me)return S;p.preventDefault();var P=p.changedTouches?p.changedTouches[0]:p,O=P.view?P.view.pageXOffset:0,I=P.view?P.view.pageYOffset:0,j=P.clientY+I,B=P.clientX+O,M=document.elementFromPoint(P.clientX,P.clientY),ae=fe(M,De),he=w.shadowElementUnderMouse?P.clientY+U:P.clientY,$e=w.shadowElementUnderMouse?B+x:B-me.width/2,Te=X.drag.node&&X.drag.node.dataset,He=!!(ae&&fe(ae,xe)),J=M.dataset.dragsterId===oe,Ce=M.classList.contains(m)&&J,Ie=M.classList.contains(w.dragOnlyRegionCssClass)&&J,Ue=M.classList.contains(b),de=M.getElementsByClassName(c).length>0,ut=M.getElementsByClassName(b).length>0;clearTimeout(Me),ie.style.top=he+R,ie.style.left=$e+R,ie.classList.remove(k),X.shadow.top=he,X.shadow.left=$e,!Te&&!Ce&&!Ue?E.removePlaceholders():ae&&ae!==Q&&!He?(E.removePlaceholders(),E.addPlaceholderOnTarget(ae,j,I)):Ce&&!Ie&&!de&&!ut?(E.removePlaceholders(),E.addPlaceholderInRegion(M)):Ce&&!Ie&&de&&!ut&&(E.removePlaceholders(),E.addPlaceholderInRegionBelowTargets(M)),w.scrollWindowOnDrag&&n(p),r(),w.onAfterDragMove(p)},mouseup:function(p){p.dragster=X;var P=p.type===D,O=P?A:Y,I=P?q:z,j,B,M,ae,he;if(w.onBeforeDragEnd(p)===S||(j=w.replaceElements?_:b,B=document.getElementsByClassName(j)[0],ae=!!(Q&&fe(Q,xe)),he=w.cloneElements&&ae,Me=setTimeout(d,200),ye(),!Q||!B))return d(O,I),S;M=fe(B,De),M=M||B,Q!==M&&(!w.replaceElements&&!he?(p.dragster=g.moveElement(p.dragster,B,M),w.onAfterDragDrop(p)):w.replaceElements&&!he?(p.dragster=g.replaceElements(p.dragster,M),w.onAfterDragDrop(p)):!w.replaceElements&&he&&(p.dragster=g.cloneElements(p.dragster,B,M),w.onAfterDragDrop(p)),M.classList.remove(u)),d(O,I),w.onAfterDragEnd(p)}},E={addPlaceholderOnTarget:function(p,P,O){var I=p.getBoundingClientRect(),j=ge(),B=I.height/2;ye(),w.replaceElements?p.classList.add(_):P-O-I.top<B&&!$.top?(le(b),j.dataset.placeholderPosition=N,Ee(p.firstChild,j),X.placeholder.position=N):I.bottom-(P-O)<B&&!$.bottom&&(le(b),j.dataset.placeholderPosition=H,p.appendChild(j),X.placeholder.position=H),X.placeholder.node=j,X.drop.node=p},addPlaceholderInRegion:function(p){var P=ge();p.appendChild(P),X.placeholder.position=H,X.placeholder.node=P,X.drop.node=p},addPlaceholderInRegionBelowTargets:function(p){var P=[].slice.call(p.getElementsByClassName(c)),O=P.filter(function(B){return B.dataset.dragsterId===oe}),I=O[O.length-1],j=ge();j.dataset.placeholderPosition=H,le(b),I.appendChild(j),X.placeholder.position=H,X.placeholder.node=j,X.drop.node=I},removePlaceholders:function(){w.replaceElements?ye():le(b)}},g={moveElement:function(p,P,O){var I=w.wrapDraggableElements===S?Q:je(),j=P.dataset.placeholderPosition;return j===N?Ee(O,I):w.wrapDraggableElements===S?be(I,O):be(O,I),Q.firstChild&&w.wrapDraggableElements===y&&I.appendChild(Q.firstChild),p.dropped=I,p},replaceElements:function(p,P){var O=document.getElementsByClassName(C)[0];return O.innerHTML=Q.innerHTML,Q.innerHTML=P.innerHTML,P.innerHTML=O.innerHTML,O.innerHTML="",p.dropped=O,p},cloneElements:function(p,P,O){var I=Q.cloneNode(!0),j=P.dataset.placeholderPosition;return j===N?Ee(O,I):be(O,I),Pe(I),p.clonedFrom=Q,p.clonedTo=I,p}},n=function(p){var P=p.changedTouches?p.changedTouches[0]:p,O=60;K-P.clientY<O?window.scrollBy(0,10):P.clientY<O&&window.scrollBy(0,-10)},o=function(){K=window.innerHeight},pe(_e),L=function(){ue.forEach(function(p){p.classList.add(m),p.dataset.dragsterId=oe,p.addEventListener(V,te.mousedown,S),p.addEventListener(D,te.mousedown,S)})},L(),window.addEventListener("resize",o,!1),{update:function(){_e=Se(),pe(_e),r(),o()},updateRegions:function(){ue=qe(),L()},destroy:function(){ue.forEach(function(p){p.classList.remove(m),p.removeEventListener(V,te.mousedown,S),p.removeEventListener(Y,te.mousemove,S),p.removeEventListener(z,te.mouseup,S),p.removeEventListener(D,te.mousedown,S),p.removeEventListener(A,te.mousemove,S),p.removeEventListener(q,te.mouseup,S)}),document.body.removeEventListener(Y,te.mousemove,S),document.body.removeEventListener(A,te.mousemove,S),document.body.removeEventListener(z,te.mouseup,S),document.body.removeEventListener(q,te.mouseup,S),window.removeEventListener("resize",o,!1)}}};return i})})(kr);const Or=({attrs:{mdl:e,cat:t}})=>{const i={catId:t.id,title:t.title,items:t.items,isSelected:!1,togglePinSection:{onclick:()=>i.isSelected=!i.isSelected}};return{view:({attrs:{cat:a,mdl:s,key:l}})=>v("section.w3-section.w3-border-left",{key:l,id:a.id},v(".w3-bar",{style:{position:"-webkit-sticky",position:"sticky",backgroundColor:"white"}},v("p.w3-right",{style:{padding:"0 16px"}},a.title.toUpperCase()),v("button.w3-btn w3-border-none w3-padding.w3-left",{onclick:()=>{s.state.modalContent=v(at,{mdl:s,catId:a.id}),s.state.showModal=!0}},v("strong","+"))),v(".w3-list.w3-ul",{},a.items.map((u,c)=>v(Cr,{key:u.id,item:u,mdl:s}))))}},Lr=()=>({view:({attrs:{mdl:e,state:t}})=>v("section.w3-section.w3-row w3-ul.w3-padding-row",{style:{height:"90dvh",overflowX:"hidden",overflowY:"auto"}},e.currentStore?e.currentStore.cats.map((i,a)=>v(Or,{key:a,cat:i,mdl:e,state:t})):v("section.w3-section",v("button.w3-border w3-button w3-panel.w3-display-middle w3-light-grey w3-col-1",{onclick:()=>{e.state.modalContent=v(Wt,{mdl:e}),e.state.showModal=!0}},"Create a Store to Begin")))}),Ar=({attrs:{mdl:e}})=>({view:()=>v(".w3-modal#modal",{onclick:t=>{t.target.id=="modal"&&(e.state.showModal=!1,e.state.modalContent=null)},style:{display:e.state.showModal?"block":"none"}},v("modal.w3-modal-content",v(".w3-container",e.state.modalContent)))});ee.SKIP={};ee.lift=Ir;ee.scan=_r;ee.merge=Jt;ee.combine=Xe;ee.scanMerge=Dr;ee["fantasy-land/of"]=ee;var Ot=!1;Object.defineProperty(ee,"HALT",{get:function(){return Ot||console.log("HALT is deprecated and has been renamed to SKIP"),Ot=!0,ee.SKIP}});function ee(e){var t=[],i=[];function a(u){return arguments.length&&u!==ee.SKIP&&(e=u,Lt(a)&&(a.changing(),a.state="active",t.forEach(function(c,m){c(i[m](e))}))),e}a.constructor=ee,a.state=arguments.length&&e!==ee.SKIP?"active":"pending",a.parents=[],a.changing=function(){Lt(a)&&(a.state="changing"),t.forEach(function(u){u.changing()})},a.map=function(u,c){var m=a.state==="active"&&c!==ee.SKIP?ee(u(e)):ee();return m.parents.push(a),t.push(m),i.push(u),m};var s;function l(){return s=ee(),s.map(function(u){return u===!0&&(a.parents.forEach(function(c){c.unregisterChild(a)}),a.state="ended",a.parents.length=t.length=i.length=0),u}),s}return a.toJSON=function(){return e!=null&&typeof e.toJSON=="function"?e.toJSON():e},a["fantasy-land/map"]=a.map,a["fantasy-land/ap"]=function(u){return Xe(function(c,m){return c()(m())},[u,a])},a.unregisterChild=function(u){var c=t.indexOf(u);c!==-1&&(t.splice(c,1),i.splice(c,1))},Object.defineProperty(a,"end",{get:function(){return s||l()}}),a}function Xe(e,t){var i=t.every(function(c){if(c.constructor!==ee)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return c.state==="active"}),a=i?ee(e.apply(null,t.concat([t]))):ee(),s=[],l=t.map(function(c){return c.map(function(m){return s.push(c),(i||t.every(function(b){return b.state!=="pending"}))&&(i=!0,a(e.apply(null,t.concat([s]))),s=[]),m},ee.SKIP)}),u=a.end.map(function(c){c===!0&&(l.forEach(function(m){m.end(!0)}),u.end(!0))});return a}function Jt(e){return Xe(function(){return e.map(function(t){return t()})},e)}function _r(e,t,i){var a=i.map(function(s){var l=e(t,s);return l!==ee.SKIP&&(t=l),l});return a(t),a}function Dr(e,t){var i=e.map(function(s){return s[0]}),a=Xe(function(){var s=arguments[arguments.length-1];return i.forEach(function(l,u){s.indexOf(l)>-1&&(t=e[u][1](t,l()))}),t},i);return a(t),a}function Ir(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Jt(t).map(function(i){return e.apply(void 0,i)})}function Lt(e){return e.state==="pending"||e.state==="active"||e.state==="changing"}const Nr=e=>({maxHeight:"100dvh",overflow:"hidden",marginLeft:e.settings.profile=="desktop"?"300px":"0"}),Rr=e=>{const t={sidebar:{open:!1},setCat:ee(null),toggleSideBar:i=>i.sidebar.open=!i.sidebar.open};return Re(e),{view:()=>v("page.w3-theme",v(Ar,{mdl:e}),v(mr,{mdl:e,state:t}),v("section.#main",{style:Nr(e)},v(gr,{mdl:e,state:t}),v(Lr,{mdl:e,state:t})))}},xr=document.body;let Yt=window.innerWidth;"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./service-worker.js").then(e=>{console.log("\u2699\uFE0F SW registered: ",e)}).catch(e=>{console.log("\u{1F9DF} SW registration failed: ",e)})});const Gt=e=>e<=411?"phone":e<=990?"tablet":"desktop",Xt=e=>{const t=window.innerWidth;if(e!==t){e=t;var i=Ke.settings.profile;Ke.settings.profile=Gt(t),i!=Ke.settings.profile&&v.redraw()}return requestAnimationFrame(Xt)};Ke.settings.profile=Gt(Yt);Xt(Yt);v.mount(xr,Rr(Ke));
