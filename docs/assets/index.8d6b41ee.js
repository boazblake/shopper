var Gr=Object.defineProperty;var In=Object.getOwnPropertySymbols;var Kr=Object.prototype.hasOwnProperty,Jr=Object.prototype.propertyIsEnumerable;var An=(e,t,n)=>t in e?Gr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xn=(e,t)=>{for(var n in t||(t={}))Kr.call(t,n)&&An(e,n,t[n]);if(In)for(var n of In(t))Jr.call(t,n)&&An(e,n,t[n]);return e};const Vr=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}};Vr();var Bt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function zt(e,t,n,r,i,a){return{tag:e,key:t,attrs:n,children:r,text:i,dom:a,domSize:void 0,state:void 0,events:void 0,instance:void 0}}zt.normalize=function(e){return Array.isArray(e)?zt("[",void 0,void 0,zt.normalizeChildren(e),void 0,void 0):e==null||typeof e=="boolean"?null:typeof e=="object"?e:zt("#",void 0,void 0,String(e),void 0,void 0)};zt.normalizeChildren=function(e){var t=[];if(e.length){for(var n=e[0]!=null&&e[0].key!=null,r=1;r<e.length;r++)if((e[r]!=null&&e[r].key!=null)!==n)throw new TypeError(n&&(e[r]!=null||typeof e[r]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var r=0;r<e.length;r++)t[r]=zt.normalize(e[r])}return t};var Lt=zt,Qr=Lt,or=function(){var e=arguments[this],t=this+1,n;if(e==null?e={}:(typeof e!="object"||e.tag!=null||Array.isArray(e))&&(e={},t=this),arguments.length===t+1)n=arguments[t],Array.isArray(n)||(n=[n]);else for(n=[];t<arguments.length;)n.push(arguments[t++]);return Qr("",e.key,e,n)},Re={}.hasOwnProperty,Zr=Lt,ti=or,Wt=Re,ei=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,lr={};function Pn(e){for(var t in e)if(Wt.call(e,t))return!1;return!0}function ni(e){for(var t,n="div",r=[],i={};t=ei.exec(e);){var a=t[1],l=t[2];if(a===""&&l!=="")n=l;else if(a==="#")i.id=l;else if(a===".")r.push(l);else if(t[3][0]==="["){var u=t[6];u&&(u=u.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),t[4]==="class"?r.push(u):i[t[4]]=u===""?u:u||!0}}return r.length>0&&(i.className=r.join(" ")),lr[e]={tag:n,attrs:i}}function ri(e,t){var n=t.attrs,r=Wt.call(n,"class"),i=r?n.class:n.className;if(t.tag=e.tag,t.attrs={},!Pn(e.attrs)&&!Pn(n)){var a={};for(var l in n)Wt.call(n,l)&&(a[l]=n[l]);n=a}for(var l in e.attrs)Wt.call(e.attrs,l)&&l!=="className"&&!Wt.call(n,l)&&(n[l]=e.attrs[l]);(i!=null||e.attrs.className!=null)&&(n.className=i!=null?e.attrs.className!=null?String(e.attrs.className)+" "+String(i):i:e.attrs.className!=null?e.attrs.className:null),r&&(n.class=null);for(var l in n)if(Wt.call(n,l)&&l!=="key"){t.attrs=n;break}return t}function ii(e){if(e==null||typeof e!="string"&&typeof e!="function"&&typeof e.view!="function")throw Error("The selector must be either a string or a component.");var t=ti.apply(1,arguments);return typeof e=="string"&&(t.children=Zr.normalizeChildren(t.children),e!=="[")?ri(lr[e]||ni(e),t):(t.tag=e,t)}var sr=ii,ai=Lt,oi=function(e){return e==null&&(e=""),ai("<",void 0,void 0,e,void 0,void 0)},li=Lt,si=or,ui=function(){var e=si.apply(0,arguments);return e.tag="[",e.children=li.normalizeChildren(e.children),e},hn=sr;hn.trust=oi;hn.fragment=ui;var ci=hn,le={exports:{}},it=function(e){if(!(this instanceof it))throw new Error("Promise must be called with 'new'.");if(typeof e!="function")throw new TypeError("executor must be a function.");var t=this,n=[],r=[],i=f(n,!0),a=f(r,!1),l=t._instance={resolvers:n,rejectors:r},u=typeof setImmediate=="function"?setImmediate:setTimeout;function f(g,d){return function y(S){var E;try{if(d&&S!=null&&(typeof S=="object"||typeof S=="function")&&typeof(E=S.then)=="function"){if(S===t)throw new TypeError("Promise can't be resolved with itself.");p(E.bind(S))}else u(function(){!d&&g.length===0&&console.error("Possible unhandled promise rejection:",S);for(var b=0;b<g.length;b++)g[b](S);n.length=0,r.length=0,l.state=d,l.retry=function(){y(S)}})}catch(b){a(b)}}}function p(g){var d=0;function y(E){return function(b){d++>0||E(b)}}var S=y(a);try{g(y(i),S)}catch(E){S(E)}}p(e)};it.prototype.then=function(e,t){var n=this,r=n._instance;function i(f,p,g,d){p.push(function(y){if(typeof f!="function")g(y);else try{a(f(y))}catch(S){l&&l(S)}}),typeof r.retry=="function"&&d===r.state&&r.retry()}var a,l,u=new it(function(f,p){a=f,l=p});return i(e,r.resolvers,a,!0),i(t,r.rejectors,l,!1),u};it.prototype.catch=function(e){return this.then(null,e)};it.prototype.finally=function(e){return this.then(function(t){return it.resolve(e()).then(function(){return t})},function(t){return it.resolve(e()).then(function(){return it.reject(t)})})};it.resolve=function(e){return e instanceof it?e:new it(function(t){t(e)})};it.reject=function(e){return new it(function(t,n){n(e)})};it.all=function(e){return new it(function(t,n){var r=e.length,i=0,a=[];if(e.length===0)t([]);else for(var l=0;l<e.length;l++)(function(u){function f(p){i++,a[u]=p,i===r&&t(a)}e[u]!=null&&(typeof e[u]=="object"||typeof e[u]=="function")&&typeof e[u].then=="function"?e[u].then(f,n):f(e[u])})(l)})};it.race=function(e){return new it(function(t,n){for(var r=0;r<e.length;r++)e[r].then(t,n)})};var ur=it,re=ur;typeof window!="undefined"?(typeof window.Promise=="undefined"?window.Promise=re:window.Promise.prototype.finally||(window.Promise.prototype.finally=re.prototype.finally),le.exports=window.Promise):typeof Bt!="undefined"?(typeof Bt.Promise=="undefined"?Bt.Promise=re:Bt.Promise.prototype.finally||(Bt.Promise.prototype.finally=re.prototype.finally),le.exports=Bt.Promise):le.exports=re;var Ke=Lt,fi=function(e){var t=e&&e.document,n,r={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function i(s){return s.attrs&&s.attrs.xmlns||r[s.tag]}function a(s,o){if(s.state!==o)throw new Error("'vnode.state' must not be modified.")}function l(s){var o=s.state;try{return this.apply(o,arguments)}finally{a(s,o)}}function u(){try{return t.activeElement}catch{return null}}function f(s,o,c,h,m,T,x){for(var j=c;j<h;j++){var D=o[j];D!=null&&p(s,D,m,x,T)}}function p(s,o,c,h,m){var T=o.tag;if(typeof T=="string")switch(o.state={},o.attrs!=null&&ze(o.attrs,o,c),T){case"#":g(s,o,m);break;case"<":y(s,o,h,m);break;case"[":S(s,o,c,h,m);break;default:E(s,o,c,h,m)}else k(s,o,c,h,m)}function g(s,o,c){o.dom=t.createTextNode(o.children),et(s,o.dom,c)}var d={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function y(s,o,c,h){var m=o.children.match(/^\s*?<(\w+)/im)||[],T=t.createElement(d[m[1]]||"div");c==="http://www.w3.org/2000/svg"?(T.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+o.children+"</svg>",T=T.firstChild):T.innerHTML=o.children,o.dom=T.firstChild,o.domSize=T.childNodes.length,o.instance=[];for(var x=t.createDocumentFragment(),j;j=T.firstChild;)o.instance.push(j),x.appendChild(j);et(s,x,h)}function S(s,o,c,h,m){var T=t.createDocumentFragment();if(o.children!=null){var x=o.children;f(T,x,0,x.length,c,null,h)}o.dom=T.firstChild,o.domSize=T.childNodes.length,et(s,T,m)}function E(s,o,c,h,m){var T=o.tag,x=o.attrs,j=x&&x.is;h=i(o)||h;var D=h?j?t.createElementNS(h,T,{is:j}):t.createElementNS(h,T):j?t.createElement(T,{is:j}):t.createElement(T);if(o.dom=D,x!=null&&me(o,x,h),et(s,D,m),!Pt(o)&&o.children!=null){var X=o.children;f(D,X,0,X.length,c,null,h),o.tag==="select"&&x!=null&&zr(o,x)}}function b(s,o){var c;if(typeof s.tag.view=="function"){if(s.state=Object.create(s.tag),c=s.state.view,c.$$reentrantLock$$!=null)return;c.$$reentrantLock$$=!0}else{if(s.state=void 0,c=s.tag,c.$$reentrantLock$$!=null)return;c.$$reentrantLock$$=!0,s.state=s.tag.prototype!=null&&typeof s.tag.prototype.view=="function"?new s.tag(s):s.tag(s)}if(ze(s.state,s,o),s.attrs!=null&&ze(s.attrs,s,o),s.instance=Ke.normalize(l.call(s.state.view,s)),s.instance===s)throw Error("A view cannot return the vnode it received as argument");c.$$reentrantLock$$=null}function k(s,o,c,h,m){b(o,c),o.instance!=null?(p(s,o.instance,c,h,m),o.dom=o.instance.dom,o.domSize=o.dom!=null?o.instance.domSize:0):o.domSize=0}function q(s,o,c,h,m,T){if(!(o===c||o==null&&c==null))if(o==null||o.length===0)f(s,c,0,c.length,h,m,T);else if(c==null||c.length===0)ht(s,o,0,o.length);else{var x=o[0]!=null&&o[0].key!=null,j=c[0]!=null&&c[0].key!=null,D=0,X=0;if(!x)for(;X<o.length&&o[X]==null;)X++;if(!j)for(;D<c.length&&c[D]==null;)D++;if(x!==j)ht(s,o,X,o.length),f(s,c,D,c.length,h,m,T);else if(j){for(var ct=o.length-1,rt=c.length-1,we,ft,Z,st,B,Be;ct>=X&&rt>=D&&(st=o[ct],B=c[rt],st.key===B.key);)st!==B&&L(s,st,B,h,m,T),B.dom!=null&&(m=B.dom),ct--,rt--;for(;ct>=X&&rt>=D&&(ft=o[X],Z=c[D],ft.key===Z.key);)X++,D++,ft!==Z&&L(s,ft,Z,h,J(o,X,m),T);for(;ct>=X&&rt>=D&&!(D===rt||ft.key!==B.key||st.key!==Z.key);)Be=J(o,X,m),yt(s,st,Be),st!==Z&&L(s,st,Z,h,Be,T),++D<=--rt&&yt(s,ft,m),ft!==B&&L(s,ft,B,h,m,T),B.dom!=null&&(m=B.dom),X++,ct--,st=o[ct],B=c[rt],ft=o[X],Z=c[D];for(;ct>=X&&rt>=D&&st.key===B.key;)st!==B&&L(s,st,B,h,m,T),B.dom!=null&&(m=B.dom),ct--,rt--,st=o[ct],B=c[rt];if(D>rt)ht(s,o,X,ct+1);else if(X>ct)f(s,c,D,rt+1,h,m,T);else{var Wr=m,On=rt-D+1,ne=new Array(On),Ue=0,V=0,Ye=2147483647,We=0,we,Ge;for(V=0;V<On;V++)ne[V]=-1;for(V=rt;V>=D;V--){we==null&&(we=R(o,X,ct+1)),B=c[V];var Xt=we[B.key];Xt!=null&&(Ye=Xt<Ye?Xt:-1,ne[V-D]=Xt,st=o[Xt],o[Xt]=null,st!==B&&L(s,st,B,h,m,T),B.dom!=null&&(m=B.dom),We++)}if(m=Wr,We!==ct-X+1&&ht(s,o,X,ct+1),We===0)f(s,c,D,rt+1,h,m,T);else if(Ye===-1)for(Ge=K(ne),Ue=Ge.length-1,V=rt;V>=D;V--)Z=c[V],ne[V-D]===-1?p(s,Z,h,T,m):Ge[Ue]===V-D?Ue--:yt(s,Z,m),Z.dom!=null&&(m=c[V].dom);else for(V=rt;V>=D;V--)Z=c[V],ne[V-D]===-1&&p(s,Z,h,T,m),Z.dom!=null&&(m=c[V].dom)}}else{var Xe=o.length<c.length?o.length:c.length;for(D=D<X?D:X;D<Xe;D++)ft=o[D],Z=c[D],!(ft===Z||ft==null&&Z==null)&&(ft==null?p(s,Z,h,T,J(o,D+1,m)):Z==null?Ct(s,ft):L(s,ft,Z,h,J(o,D+1,m),T));o.length>Xe&&ht(s,o,D,o.length),c.length>Xe&&f(s,c,D,c.length,h,m,T)}}}function L(s,o,c,h,m,T){var x=o.tag,j=c.tag;if(x===j){if(c.state=o.state,c.events=o.events,Yr(c,o))return;if(typeof x=="string")switch(c.attrs!=null&&He(c.attrs,c,h),x){case"#":N(o,c);break;case"<":_(s,o,c,T,m);break;case"[":M(s,o,c,h,m,T);break;default:C(o,c,h,T)}else H(s,o,c,h,m,T)}else Ct(s,o),p(s,c,h,T,m)}function N(s,o){s.children.toString()!==o.children.toString()&&(s.dom.nodeValue=o.children),o.dom=s.dom}function _(s,o,c,h,m){o.children!==c.children?(Nt(s,o),y(s,c,h,m)):(c.dom=o.dom,c.domSize=o.domSize,c.instance=o.instance)}function M(s,o,c,h,m,T){q(s,o.children,c.children,h,m,T);var x=0,j=c.children;if(c.dom=null,j!=null){for(var D=0;D<j.length;D++){var X=j[D];X!=null&&X.dom!=null&&(c.dom==null&&(c.dom=X.dom),x+=X.domSize||1)}x!==1&&(c.domSize=x)}}function C(s,o,c,h){var m=o.dom=s.dom;h=i(o)||h,o.tag==="textarea"&&o.attrs==null&&(o.attrs={}),Hr(o,s.attrs,o.attrs,h),Pt(o)||q(m,s.children,o.children,c,null,h)}function H(s,o,c,h,m,T){if(c.instance=Ke.normalize(l.call(c.state.view,c)),c.instance===c)throw Error("A view cannot return the vnode it received as argument");He(c.state,c,h),c.attrs!=null&&He(c.attrs,c,h),c.instance!=null?(o.instance==null?p(s,c.instance,h,T,m):L(s,o.instance,c.instance,h,m,T),c.dom=c.instance.dom,c.domSize=c.instance.domSize):o.instance!=null?(Ct(s,o.instance),c.dom=void 0,c.domSize=0):(c.dom=o.dom,c.domSize=o.domSize)}function R(s,o,c){for(var h=Object.create(null);o<c;o++){var m=s[o];if(m!=null){var T=m.key;T!=null&&(h[T]=o)}}return h}var O=[];function K(s){for(var o=[0],c=0,h=0,m=0,T=O.length=s.length,m=0;m<T;m++)O[m]=s[m];for(var m=0;m<T;++m)if(s[m]!==-1){var x=o[o.length-1];if(s[x]<s[m]){O[m]=x,o.push(m);continue}for(c=0,h=o.length-1;c<h;){var j=(c>>>1)+(h>>>1)+(c&h&1);s[o[j]]<s[m]?c=j+1:h=j}s[m]<s[o[c]]&&(c>0&&(O[m]=o[c-1]),o[c]=m)}for(c=o.length,h=o[c-1];c-- >0;)o[c]=h,h=O[h];return O.length=0,o}function J(s,o,c){for(;o<s.length;o++)if(s[o]!=null&&s[o].dom!=null)return s[o].dom;return c}function yt(s,o,c){var h=t.createDocumentFragment();ot(s,h,o),et(s,h,c)}function ot(s,o,c){for(;c.dom!=null&&c.dom.parentNode===s;){if(typeof c.tag!="string"){if(c=c.instance,c!=null)continue}else if(c.tag==="<")for(var h=0;h<c.instance.length;h++)o.appendChild(c.instance[h]);else if(c.tag!=="[")o.appendChild(c.dom);else if(c.children.length===1){if(c=c.children[0],c!=null)continue}else for(var h=0;h<c.children.length;h++){var m=c.children[h];m!=null&&ot(s,o,m)}break}}function et(s,o,c){c!=null?s.insertBefore(o,c):s.appendChild(o)}function Pt(s){if(s.attrs==null||s.attrs.contenteditable==null&&s.attrs.contentEditable==null)return!1;var o=s.children;if(o!=null&&o.length===1&&o[0].tag==="<"){var c=o[0].children;s.dom.innerHTML!==c&&(s.dom.innerHTML=c)}else if(o!=null&&o.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function ht(s,o,c,h){for(var m=c;m<h;m++){var T=o[m];T!=null&&Ct(s,T)}}function Ct(s,o){var c=0,h=o.state,m,T;if(typeof o.tag!="string"&&typeof o.state.onbeforeremove=="function"){var x=l.call(o.state.onbeforeremove,o);x!=null&&typeof x.then=="function"&&(c=1,m=x)}if(o.attrs&&typeof o.attrs.onbeforeremove=="function"){var x=l.call(o.attrs.onbeforeremove,o);x!=null&&typeof x.then=="function"&&(c|=2,T=x)}if(a(o,h),!c)Zt(o),Qt(s,o);else{if(m!=null){var j=function(){c&1&&(c&=2,c||D())};m.then(j,j)}if(T!=null){var j=function(){c&2&&(c&=1,c||D())};T.then(j,j)}}function D(){a(o,h),Zt(o),Qt(s,o)}}function Nt(s,o){for(var c=0;c<o.instance.length;c++)s.removeChild(o.instance[c])}function Qt(s,o){for(;o.dom!=null&&o.dom.parentNode===s;){if(typeof o.tag!="string"){if(o=o.instance,o!=null)continue}else if(o.tag==="<")Nt(s,o);else{if(o.tag!=="["&&(s.removeChild(o.dom),!Array.isArray(o.children)))break;if(o.children.length===1){if(o=o.children[0],o!=null)continue}else for(var c=0;c<o.children.length;c++){var h=o.children[c];h!=null&&Qt(s,h)}}break}}function Zt(s){if(typeof s.tag!="string"&&typeof s.state.onremove=="function"&&l.call(s.state.onremove,s),s.attrs&&typeof s.attrs.onremove=="function"&&l.call(s.attrs.onremove,s),typeof s.tag!="string")s.instance!=null&&Zt(s.instance);else{var o=s.children;if(Array.isArray(o))for(var c=0;c<o.length;c++){var h=o[c];h!=null&&Zt(h)}}}function me(s,o,c){s.tag==="input"&&o.type!=null&&s.dom.setAttribute("type",o.type);var h=o!=null&&s.tag==="input"&&o.type==="file";for(var m in o)te(s,m,null,o[m],c,h)}function te(s,o,c,h,m,T){if(!(o==="key"||o==="is"||h==null||Tn(o)||c===h&&!Xr(s,o)&&typeof h!="object"||o==="type"&&s.tag==="input")){if(o[0]==="o"&&o[1]==="n")return Cn(s,o,h);if(o.slice(0,6)==="xlink:")s.dom.setAttributeNS("http://www.w3.org/1999/xlink",o.slice(6),h);else if(o==="style")Dn(s.dom,c,h);else if(_n(s,o,m)){if(o==="value"){if((s.tag==="input"||s.tag==="textarea")&&s.dom.value===""+h&&(T||s.dom===u())||s.tag==="select"&&c!==null&&s.dom.value===""+h||s.tag==="option"&&c!==null&&s.dom.value===""+h)return;if(T&&""+h!=""){console.error("`value` is read-only on file inputs!");return}}s.dom[o]=h}else typeof h=="boolean"?h?s.dom.setAttribute(o,""):s.dom.removeAttribute(o):s.dom.setAttribute(o==="className"?"class":o,h)}}function qr(s,o,c,h){if(!(o==="key"||o==="is"||c==null||Tn(o)))if(o[0]==="o"&&o[1]==="n")Cn(s,o,void 0);else if(o==="style")Dn(s.dom,c,null);else if(_n(s,o,h)&&o!=="className"&&o!=="title"&&!(o==="value"&&(s.tag==="option"||s.tag==="select"&&s.dom.selectedIndex===-1&&s.dom===u()))&&!(s.tag==="input"&&o==="type"))s.dom[o]=null;else{var m=o.indexOf(":");m!==-1&&(o=o.slice(m+1)),c!==!1&&s.dom.removeAttribute(o==="className"?"class":o)}}function zr(s,o){if("value"in o)if(o.value===null)s.dom.selectedIndex!==-1&&(s.dom.value=null);else{var c=""+o.value;(s.dom.value!==c||s.dom.selectedIndex===-1)&&(s.dom.value=c)}"selectedIndex"in o&&te(s,"selectedIndex",null,o.selectedIndex,void 0)}function Hr(s,o,c,h){if(o&&o===c&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),c!=null){s.tag==="input"&&c.type!=null&&s.dom.setAttribute("type",c.type);var m=s.tag==="input"&&c.type==="file";for(var T in c)te(s,T,o&&o[T],c[T],h,m)}var x;if(o!=null)for(var T in o)(x=o[T])!=null&&(c==null||c[T]==null)&&qr(s,T,x,h)}function Xr(s,o){return o==="value"||o==="checked"||o==="selectedIndex"||o==="selected"&&s.dom===u()||s.tag==="option"&&s.dom.parentNode===t.activeElement}function Tn(s){return s==="oninit"||s==="oncreate"||s==="onupdate"||s==="onremove"||s==="onbeforeremove"||s==="onbeforeupdate"}function _n(s,o,c){return c===void 0&&(s.tag.indexOf("-")>-1||s.attrs!=null&&s.attrs.is||o!=="href"&&o!=="list"&&o!=="form"&&o!=="width"&&o!=="height")&&o in s.dom}var Br=/[A-Z]/g;function Ur(s){return"-"+s.toLowerCase()}function $e(s){return s[0]==="-"&&s[1]==="-"?s:s==="cssFloat"?"float":s.replace(Br,Ur)}function Dn(s,o,c){if(o!==c)if(c==null)s.style.cssText="";else if(typeof c!="object")s.style.cssText=c;else if(o==null||typeof o!="object"){s.style.cssText="";for(var h in c){var m=c[h];m!=null&&s.style.setProperty($e(h),String(m))}}else{for(var h in c){var m=c[h];m!=null&&(m=String(m))!==String(o[h])&&s.style.setProperty($e(h),m)}for(var h in o)o[h]!=null&&c[h]==null&&s.style.removeProperty($e(h))}}function qe(){this._=n}qe.prototype=Object.create(null),qe.prototype.handleEvent=function(s){var o=this["on"+s.type],c;typeof o=="function"?c=o.call(s.currentTarget,s):typeof o.handleEvent=="function"&&o.handleEvent(s),this._&&s.redraw!==!1&&(0,this._)(),c===!1&&(s.preventDefault(),s.stopPropagation())};function Cn(s,o,c){if(s.events!=null){if(s.events._=n,s.events[o]===c)return;c!=null&&(typeof c=="function"||typeof c=="object")?(s.events[o]==null&&s.dom.addEventListener(o.slice(2),s.events,!1),s.events[o]=c):(s.events[o]!=null&&s.dom.removeEventListener(o.slice(2),s.events,!1),s.events[o]=void 0)}else c!=null&&(typeof c=="function"||typeof c=="object")&&(s.events=new qe,s.dom.addEventListener(o.slice(2),s.events,!1),s.events[o]=c)}function ze(s,o,c){typeof s.oninit=="function"&&l.call(s.oninit,o),typeof s.oncreate=="function"&&c.push(l.bind(s.oncreate,o))}function He(s,o,c){typeof s.onupdate=="function"&&c.push(l.bind(s.onupdate,o))}function Yr(s,o){do{if(s.attrs!=null&&typeof s.attrs.onbeforeupdate=="function"){var c=l.call(s.attrs.onbeforeupdate,s,o);if(c!==void 0&&!c)break}if(typeof s.tag!="string"&&typeof s.state.onbeforeupdate=="function"){var c=l.call(s.state.onbeforeupdate,s,o);if(c!==void 0&&!c)break}return!1}while(!1);return s.dom=o.dom,s.domSize=o.domSize,s.instance=o.instance,s.attrs=o.attrs,s.children=o.children,s.text=o.text,!0}var ee;return function(s,o,c){if(!s)throw new TypeError("DOM element being rendered to does not exist.");if(ee!=null&&s.contains(ee))throw new TypeError("Node is currently being rendered to and thus is locked.");var h=n,m=ee,T=[],x=u(),j=s.namespaceURI;ee=s,n=typeof c=="function"?c:void 0;try{s.vnodes==null&&(s.textContent=""),o=Ke.normalizeChildren(Array.isArray(o)?o:[o]),q(s,s.vnodes,o,T,null,j==="http://www.w3.org/1999/xhtml"?void 0:j),s.vnodes=o,x!=null&&u()!==x&&typeof x.focus=="function"&&x.focus();for(var D=0;D<T.length;D++)T[D]()}finally{n=h,ee=m}}},cr=fi(typeof window!="undefined"?window:null),Nn=Lt,pi=function(e,t,n){var r=[],i=!1,a=-1;function l(){for(a=0;a<r.length;a+=2)try{e(r[a],Nn(r[a+1]),u)}catch(p){n.error(p)}a=-1}function u(){i||(i=!0,t(function(){i=!1,l()}))}u.sync=l;function f(p,g){if(g!=null&&g.view==null&&typeof g!="function")throw new TypeError("m.mount expects a component, not a vnode.");var d=r.indexOf(p);d>=0&&(r.splice(d,2),d<=a&&(a-=2),e(p,[])),g!=null&&(r.push(p,g),e(p,Nn(g),u))}return{mount:f,redraw:u}},hi=cr,dn=pi(hi,typeof requestAnimationFrame!="undefined"?requestAnimationFrame:null,typeof console!="undefined"?console:null),fr=function(e){if(Object.prototype.toString.call(e)!=="[object Object]")return"";var t=[];for(var n in e)r(n,e[n]);return t.join("&");function r(i,a){if(Array.isArray(a))for(var l=0;l<a.length;l++)r(i+"["+l+"]",a[l]);else if(Object.prototype.toString.call(a)==="[object Object]")for(var l in a)r(i+"["+l+"]",a[l]);else t.push(encodeURIComponent(i)+(a!=null&&a!==""?"="+encodeURIComponent(a):""))}},di=Re,pr=Object.assign||function(e,t){for(var n in t)di.call(t,n)&&(e[n]=t[n])},gi=fr,mi=pr,gn=function(e,t){if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(t==null)return e;var n=e.indexOf("?"),r=e.indexOf("#"),i=r<0?e.length:r,a=n<0?i:n,l=e.slice(0,a),u={};mi(u,t);var f=l.replace(/:([^\/\.-]+)(\.{3})?/g,function(b,k,q){return delete u[k],t[k]==null?b:q?t[k]:encodeURIComponent(String(t[k]))}),p=f.indexOf("?"),g=f.indexOf("#"),d=g<0?f.length:g,y=p<0?d:p,S=f.slice(0,y);n>=0&&(S+=e.slice(n,i)),p>=0&&(S+=(n<0?"?":"&")+f.slice(p,d));var E=gi(u);return E&&(S+=(n<0&&p<0?"?":"&")+E),r>=0&&(S+=e.slice(r)),g>=0&&(S+=(r<0?"":"&")+f.slice(g)),S},wi=gn,kn=Re,yi=function(e,t,n){var r=0;function i(u){return new t(u)}i.prototype=t.prototype,i.__proto__=t;function a(u){return function(f,p){typeof f!="string"?(p=f,f=f.url):p==null&&(p={});var g=new t(function(E,b){u(wi(f,p.params),p,function(k){if(typeof p.type=="function")if(Array.isArray(k))for(var q=0;q<k.length;q++)k[q]=new p.type(k[q]);else k=new p.type(k);E(k)},b)});if(p.background===!0)return g;var d=0;function y(){--d===0&&typeof n=="function"&&n()}return S(g);function S(E){var b=E.then;return E.constructor=i,E.then=function(){d++;var k=b.apply(E,arguments);return k.then(y,function(q){if(y(),d===0)throw q}),S(k)},E}}}function l(u,f){for(var p in u.headers)if(kn.call(u.headers,p)&&p.toLowerCase()===f)return!0;return!1}return{request:a(function(u,f,p,g){var d=f.method!=null?f.method.toUpperCase():"GET",y=f.body,S=(f.serialize==null||f.serialize===JSON.serialize)&&!(y instanceof e.FormData||y instanceof e.URLSearchParams),E=f.responseType||(typeof f.extract=="function"?"":"json"),b=new e.XMLHttpRequest,k=!1,q=!1,L=b,N,_=b.abort;b.abort=function(){k=!0,_.call(this)},b.open(d,u,f.async!==!1,typeof f.user=="string"?f.user:void 0,typeof f.password=="string"?f.password:void 0),S&&y!=null&&!l(f,"content-type")&&b.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof f.deserialize!="function"&&!l(f,"accept")&&b.setRequestHeader("Accept","application/json, text/*"),f.withCredentials&&(b.withCredentials=f.withCredentials),f.timeout&&(b.timeout=f.timeout),b.responseType=E;for(var M in f.headers)kn.call(f.headers,M)&&b.setRequestHeader(M,f.headers[M]);b.onreadystatechange=function(C){if(!k&&C.target.readyState===4)try{var H=C.target.status>=200&&C.target.status<300||C.target.status===304||/^file:\/\//i.test(u),R=C.target.response,O;if(E==="json"){if(!C.target.responseType&&typeof f.extract!="function")try{R=JSON.parse(C.target.responseText)}catch{R=null}}else(!E||E==="text")&&R==null&&(R=C.target.responseText);if(typeof f.extract=="function"?(R=f.extract(C.target,f),H=!0):typeof f.deserialize=="function"&&(R=f.deserialize(R)),H)p(R);else{var K=function(){try{O=C.target.responseText}catch{O=R}var J=new Error(O);J.code=C.target.status,J.response=R,g(J)};b.status===0?setTimeout(function(){q||K()}):K()}}catch(J){g(J)}},b.ontimeout=function(C){q=!0;var H=new Error("Request timed out");H.code=C.target.status,g(H)},typeof f.config=="function"&&(b=f.config(b,f,u)||b,b!==L&&(N=b.abort,b.abort=function(){k=!0,N.call(this)})),y==null?b.send():typeof f.serialize=="function"?b.send(f.serialize(y)):y instanceof e.FormData||y instanceof e.URLSearchParams?b.send(y):b.send(JSON.stringify(y))}),jsonp:a(function(u,f,p,g){var d=f.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+r++,y=e.document.createElement("script");e[d]=function(S){delete e[d],y.parentNode.removeChild(y),p(S)},y.onerror=function(){delete e[d],y.parentNode.removeChild(y),g(new Error("JSONP request failed"))},y.src=u+(u.indexOf("?")<0?"?":"&")+encodeURIComponent(f.callbackKey||"callback")+"="+encodeURIComponent(d),e.document.documentElement.appendChild(y)})}},vi=le.exports,bi=dn,Ei=yi(typeof window!="undefined"?window:null,vi,bi.redraw);function Mn(e){try{return decodeURIComponent(e)}catch{return e}}var hr=function(e){if(e===""||e==null)return{};e.charAt(0)==="?"&&(e=e.slice(1));for(var t=e.split("&"),n={},r={},i=0;i<t.length;i++){var a=t[i].split("="),l=Mn(a[0]),u=a.length===2?Mn(a[1]):"";u==="true"?u=!0:u==="false"&&(u=!1);var f=l.split(/\]\[?|\[/),p=r;l.indexOf("[")>-1&&f.pop();for(var g=0;g<f.length;g++){var d=f[g],y=f[g+1],S=y==""||!isNaN(parseInt(y,10));if(d===""){var l=f.slice(0,g).join();n[l]==null&&(n[l]=Array.isArray(p)?p.length:0),d=n[l]++}else if(d==="__proto__")break;if(g===f.length-1)p[d]=u;else{var E=Object.getOwnPropertyDescriptor(p,d);E!=null&&(E=E.value),E==null&&(p[d]=E=S?[]:{}),p=E}}}return r},Si=hr,mn=function(e){var t=e.indexOf("?"),n=e.indexOf("#"),r=n<0?e.length:n,i=t<0?r:t,a=e.slice(0,i).replace(/\/{2,}/g,"/");return a?(a[0]!=="/"&&(a="/"+a),a.length>1&&a[a.length-1]==="/"&&(a=a.slice(0,-1))):a="/",{path:a,params:t<0?{}:Si(e.slice(t+1,r))}},Ti=mn,_i=function(e){var t=Ti(e),n=Object.keys(t.params),r=[],i=new RegExp("^"+t.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(a,l,u){return l==null?"\\"+a:(r.push({k:l,r:u==="..."}),u==="..."?"(.*)":u==="."?"([^/]+)\\.":"([^/]+)"+(u||""))})+"$");return function(a){for(var l=0;l<n.length;l++)if(t.params[n[l]]!==a.params[n[l]])return!1;if(!r.length)return i.test(a.path);var u=i.exec(a.path);if(u==null)return!1;for(var l=0;l<r.length;l++)a.params[r[l].k]=r[l].r?u[l+1]:decodeURIComponent(u[l+1]);return!0}},Rn=Re,jn=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$"),dr=function(e,t){var n={};if(t!=null)for(var r in e)Rn.call(e,r)&&!jn.test(r)&&t.indexOf(r)<0&&(n[r]=e[r]);else for(var r in e)Rn.call(e,r)&&!jn.test(r)&&(n[r]=e[r]);return n},Di=Lt,Ci=sr,Oi=le.exports,Ln=gn,Fn=mn,Ii=_i,Ai=pr,xi=dr,Je={};function Pi(e){try{return decodeURIComponent(e)}catch{return e}}var Ni=function(e,t){var n=e==null?null:typeof e.setImmediate=="function"?e.setImmediate:e.setTimeout,r=Oi.resolve(),i=!1,a=!1,l=0,u,f,p=Je,g,d,y,S,E={onbeforeupdate:function(){return l=l?2:1,!(!l||Je===p)},onremove:function(){e.removeEventListener("popstate",q,!1),e.removeEventListener("hashchange",k,!1)},view:function(){if(!(!l||Je===p)){var _=[Di(g,d.key,d)];return p&&(_=p.render(_[0])),_}}},b=N.SKIP={};function k(){i=!1;var _=e.location.hash;N.prefix[0]!=="#"&&(_=e.location.search+_,N.prefix[0]!=="?"&&(_=e.location.pathname+_,_[0]!=="/"&&(_="/"+_)));var M=_.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,Pi).slice(N.prefix.length),C=Fn(M);Ai(C.params,e.history.state);function H(O){console.error(O),L(f,null,{replace:!0})}R(0);function R(O){for(;O<u.length;O++)if(u[O].check(C)){var K=u[O].component,J=u[O].route,yt=K,ot=S=function(et){if(ot===S){if(et===b)return R(O+1);g=et!=null&&(typeof et.view=="function"||typeof et=="function")?et:"div",d=C.params,y=M,S=null,p=K.render?K:null,l===2?t.redraw():(l=2,t.redraw.sync())}};K.view||typeof K=="function"?(K={},ot(yt)):K.onmatch?r.then(function(){return K.onmatch(C.params,M,J)}).then(ot,M===f?null:H):ot("div");return}if(M===f)throw new Error("Could not resolve default route "+f+".");L(f,null,{replace:!0})}}function q(){i||(i=!0,n(k))}function L(_,M,C){if(_=Ln(_,M),a){q();var H=C?C.state:null,R=C?C.title:null;C&&C.replace?e.history.replaceState(H,R,N.prefix+_):e.history.pushState(H,R,N.prefix+_)}else e.location.href=N.prefix+_}function N(_,M,C){if(!_)throw new TypeError("DOM element being rendered to does not exist.");if(u=Object.keys(C).map(function(R){if(R[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(R))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:R,component:C[R],check:Ii(R)}}),f=M,M!=null){var H=Fn(M);if(!u.some(function(R){return R.check(H)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof e.history.pushState=="function"?e.addEventListener("popstate",q,!1):N.prefix[0]==="#"&&e.addEventListener("hashchange",k,!1),a=!0,t.mount(_,E),k()}return N.set=function(_,M,C){S!=null&&(C=C||{},C.replace=!0),S=null,L(_,M,C)},N.get=function(){return y},N.prefix="#!",N.Link={view:function(_){var M=Ci(_.attrs.selector||"a",xi(_.attrs,["options","params","selector","onclick"]),_.children),C,H,R;return(M.attrs.disabled=Boolean(M.attrs.disabled))?(M.attrs.href=null,M.attrs["aria-disabled"]="true"):(C=_.attrs.options,H=_.attrs.onclick,R=Ln(M.attrs.href,_.attrs.params),M.attrs.href=N.prefix+R,M.attrs.onclick=function(O){var K;typeof H=="function"?K=H.call(O.currentTarget,O):H==null||typeof H!="object"||typeof H.handleEvent=="function"&&H.handleEvent(O),K!==!1&&!O.defaultPrevented&&(O.button===0||O.which===0||O.which===1)&&(!O.currentTarget.target||O.currentTarget.target==="_self")&&!O.ctrlKey&&!O.metaKey&&!O.shiftKey&&!O.altKey&&(O.preventDefault(),O.redraw=!1,N.set(R,null,C))}),M}},N.param=function(_){return d&&_!=null?d[_]:d},N},ki=dn,Mi=Ni(typeof window!="undefined"?window:null,ki),je=ci,gr=Ei,mr=dn,at=function(){return je.apply(this,arguments)};at.m=je;at.trust=je.trust;at.fragment=je.fragment;at.Fragment="[";at.mount=mr.mount;at.route=Mi;at.render=cr;at.redraw=mr.redraw;at.request=gr.request;at.jsonp=gr.jsonp;at.parseQueryString=hr;at.buildQueryString=fr;at.parsePathname=mn;at.buildPathname=gn;at.vnode=Lt;at.PromisePolyfill=ur;at.censor=dr;var w=at;function W(e){return e!=null&&typeof e=="object"&&e["@@functional/placeholder"]===!0}function Tt(e){return function t(n){return arguments.length===0||W(n)?t:e.apply(this,arguments)}}function kt(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return W(n)?t:Tt(function(i){return e(n,i)});default:return W(n)&&W(r)?t:W(n)?Tt(function(i){return e(i,r)}):W(r)?Tt(function(i){return e(n,i)}):e(n,r)}}}function Ri(e){return function t(n,r,i){switch(arguments.length){case 0:return t;case 1:return W(n)?t:kt(function(a,l){return e(n,a,l)});case 2:return W(n)&&W(r)?t:W(n)?kt(function(a,l){return e(a,r,l)}):W(r)?kt(function(a,l){return e(n,a,l)}):Tt(function(a){return e(n,r,a)});default:return W(n)&&W(r)&&W(i)?t:W(n)&&W(r)?kt(function(a,l){return e(a,l,i)}):W(n)&&W(i)?kt(function(a,l){return e(a,r,l)}):W(r)&&W(i)?kt(function(a,l){return e(n,a,l)}):W(n)?Tt(function(a){return e(a,r,i)}):W(r)?Tt(function(a){return e(n,a,i)}):W(i)?Tt(function(a){return e(n,r,a)}):e(n,r,i)}}}function Ie(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var $n=Object.prototype.toString,ji=function(){return $n.call(arguments)==="[object Arguments]"?function(t){return $n.call(t)==="[object Arguments]"}:function(t){return Ie("callee",t)}}(),Li=ji,Fi=!{toString:null}.propertyIsEnumerable("toString"),qn=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],zn=function(){return arguments.propertyIsEnumerable("length")}(),$i=function(t,n){for(var r=0;r<t.length;){if(t[r]===n)return!0;r+=1}return!1},qi=Tt(typeof Object.keys=="function"&&!zn?function(t){return Object(t)!==t?[]:Object.keys(t)}:function(t){if(Object(t)!==t)return[];var n,r,i=[],a=zn&&Li(t);for(n in t)Ie(n,t)&&(!a||n!=="length")&&(i[i.length]=n);if(Fi)for(r=qn.length-1;r>=0;)n=qn[r],Ie(n,t)&&!$i(i,n)&&(i[i.length]=n),r-=1;return i}),Hn=qi,zi=Tt(function(t){return t===null?"Null":t===void 0?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}),Xn=zi;function Bn(e){for(var t=[],n;!(n=e.next()).done;)t.push(n.value);return t}function Un(e,t,n){for(var r=0,i=n.length;r<i;){if(e(t,n[r]))return!0;r+=1}return!1}function Hi(e){var t=String(e).match(/^function (\w*)/);return t==null?"":t[1]}function Xi(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ve=typeof Object.is=="function"?Object.is:Xi;function Yn(e,t,n,r){var i=Bn(e),a=Bn(t);function l(u,f){return wn(u,f,n.slice(),r.slice())}return!Un(function(u,f){return!Un(l,f,u)},a,i)}function wn(e,t,n,r){if(Ve(e,t))return!0;var i=Xn(e);if(i!==Xn(t)||e==null||t==null)return!1;if(typeof e["fantasy-land/equals"]=="function"||typeof t["fantasy-land/equals"]=="function")return typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t)&&typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e);if(typeof e.equals=="function"||typeof t.equals=="function")return typeof e.equals=="function"&&e.equals(t)&&typeof t.equals=="function"&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if(typeof e.constructor=="function"&&Hi(e.constructor)==="Promise")return e===t;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof t&&Ve(e.valueOf(),t.valueOf())))return!1;break;case"Date":if(!Ve(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(!(e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.sticky===t.sticky&&e.unicode===t.unicode))return!1;break}for(var a=n.length-1;a>=0;){if(n[a]===e)return r[a]===t;a-=1}switch(i){case"Map":return e.size!==t.size?!1:Yn(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size!==t.size?!1:Yn(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var l=Hn(e);if(l.length!==Hn(t).length)return!1;var u=n.concat([e]),f=r.concat([t]);for(a=l.length-1;a>=0;){var p=l[a];if(!(Ie(p,t)&&wn(t[p],e[p],u,f)))return!1;a-=1}return!0}var Bi=kt(function(t,n){return wn(t,n,[],[])}),Ui=Bi,Yi=Ri(function(t,n,r){return Ui(n,r[t])}),Et=Yi,Wi=kt(function(t,n){return Array.prototype.slice.call(n,0).sort(function(r,i){var a=t(r),l=t(i);return a<l?-1:a>l?1:0})}),Gi=Wi,wr=typeof setImmediate!="undefined"?setImmediate:typeof process!="undefined"?process.nextTick:setTimeout,Ki=$;function $(e,t){this.fork=e,this.cleanup=t||function(){}}$.prototype.of=function(t){return new $(function(n,r){return r(t)})};$.of=$.prototype.of;$.prototype.rejected=function(t){return new $(function(n){return n(t)})};$.rejected=$.prototype.rejected;$.prototype.map=function(t){var n=this.fork,r=this.cleanup;return new $(function(i,a){return n(function(l){return i(l)},function(l){return a(t(l))})},r)};$.prototype.chain=function(t){var n=this.fork,r=this.cleanup;return new $(function(i,a){return n(function(l){return i(l)},function(l){return t(l).fork(i,a)})},r)};$.prototype.ap=function(t){var n=this.fork,r=t.fork,i=this.cleanup,a=t.cleanup;function l(u){i(u[0]),a(u[1])}return new $(function(u,f){var p,g=!1,d,y=!1,S=!1,E,b=n(L,q(function(N){g=!0,p=N})),k=r(L,q(function(N){y=!0,d=N}));function q(N){return function(_){if(!S)return N(_),g&&y?(wr(function(){l(E)}),f(p(d))):_}}function L(N){if(!S)return S=!0,u(N)}return E=[b,k]},l)};$.prototype.concat=function(t){var n=this.fork,r=t.fork,i=this.cleanup,a=t.cleanup;function l(u){i(u[0]),a(u[1])}return new $(function(u,f){var p=!1,g,d=n(S(u),S(f)),y=r(S(u),S(f));return g=[d,y];function S(E){return function(b){if(!p)return p=!0,wr(function(){l(g)}),E(b)}}},l)};$.empty=function(){return new $(function(){})};$.prototype.empty=$.empty;$.prototype.toString=function(){return"Task"};$.prototype.orElse=function(t){var n=this.fork,r=this.cleanup;return new $(function(i,a){return n(function(l){return t(l).fork(i,a)},function(l){return a(l)})},r)};$.prototype.fold=function(t,n){var r=this.fork,i=this.cleanup;return new $(function(a,l){return r(function(u){return l(t(u))},function(u){return l(n(u))})},i)};$.prototype.cata=function(t){return this.fold(t.Rejected,t.Resolved)};$.prototype.swap=function(){var t=this.fork,n=this.cleanup;return new $(function(r,i){return t(function(a){return i(a)},function(a){return r(a)})},n)};$.prototype.bimap=function(t,n){var r=this.fork,i=this.cleanup;return new $(function(a,l){return r(function(u){return a(t(u))},function(u){return l(n(u))})},i)};$.prototype.rejectedMap=function(t){var n=this.fork,r=this.cleanup;return new $(function(i,a){return n(function(l){return i(t(l))},function(l){return a(l)})},r)};var yr=Ki;const Ji="https://shopper.deno.dev/",Vi={"Content-Type":"application/json"},Qi=e=>t=>n=>t(JSON.parse(JSON.stringify(n))),Zi=e=>t=>n=>t(n),ye=e=>t=>n=>r=>new yr((i,a)=>w.request({method:e,url:Ji+n,headers:Vi,body:r,withCredentials:!1}).then(Zi()(a),Qi()(i))),ta={getTask:(e,t)=>ye("GET")(e)(t)(),postTask:(e,t,n)=>ye("POST")(e)(t)(n),putTask:(e,t,n)=>ye("PUT")(e)(t)(n),deleteTask:(e,t)=>ye("DELETE")(e)(t)()},yn=()=>"xxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)}),vr=e=>t=>(console.log(e,t),t);window.log=vr;G.SKIP={};G.lift=ra;G.scan=ea;G.merge=br;G.combine=Le;G.scanMerge=na;G["fantasy-land/of"]=G;var Wn=!1;Object.defineProperty(G,"HALT",{get:function(){return Wn||console.log("HALT is deprecated and has been renamed to SKIP"),Wn=!0,G.SKIP}});function G(e){var t=[],n=[];function r(l){return arguments.length&&l!==G.SKIP&&(e=l,Gn(r)&&(r.changing(),r.state="active",t.forEach(function(u,f){u(n[f](e))}))),e}r.constructor=G,r.state=arguments.length&&e!==G.SKIP?"active":"pending",r.parents=[],r.changing=function(){Gn(r)&&(r.state="changing"),t.forEach(function(l){l.changing()})},r.map=function(l,u){var f=r.state==="active"&&u!==G.SKIP?G(l(e)):G();return f.parents.push(r),t.push(f),n.push(l),f};var i;function a(){return i=G(),i.map(function(l){return l===!0&&(r.parents.forEach(function(u){u.unregisterChild(r)}),r.state="ended",r.parents.length=t.length=n.length=0),l}),i}return r.toJSON=function(){return e!=null&&typeof e.toJSON=="function"?e.toJSON():e},r["fantasy-land/map"]=r.map,r["fantasy-land/ap"]=function(l){return Le(function(u,f){return u()(f())},[l,r])},r.unregisterChild=function(l){var u=t.indexOf(l);u!==-1&&(t.splice(u,1),n.splice(u,1))},Object.defineProperty(r,"end",{get:function(){return i||a()}}),r}function Le(e,t){var n=t.every(function(u){if(u.constructor!==G)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return u.state==="active"}),r=n?G(e.apply(null,t.concat([t]))):G(),i=[],a=t.map(function(u){return u.map(function(f){return i.push(u),(n||t.every(function(p){return p.state!=="pending"}))&&(n=!0,r(e.apply(null,t.concat([i]))),i=[]),f},G.SKIP)}),l=r.end.map(function(u){u===!0&&(a.forEach(function(f){f.end(!0)}),l.end(!0))});return r}function br(e){return Le(function(){return e.map(function(t){return t()})},e)}function ea(e,t,n){var r=n.map(function(i){var a=e(t,i);return a!==G.SKIP&&(t=a),a});return r(t),r}function na(e,t){var n=e.map(function(i){return i[0]}),r=Le(function(){var i=arguments[arguments.length-1];return n.forEach(function(a,l){i.indexOf(a)>-1&&(t=e[l][1](t,a()))}),t},n);return r(t),r}function ra(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return br(t).map(function(n){return e.apply(void 0,n)})}function Gn(e){return e.state==="pending"||e.state==="active"||e.state==="changing"}const Ht=e=>{e.state.modalContent=null,e.state.showModal=!1},Ae=({content:e,mdl:t,opts:n})=>{t.state.modalContent={content:e,attrs:xn({mdl:t},n)},t.state.showModal=!0},ia=["of them","bag(s)","box(s)","can(s)","gram(s)","kilogram(s)","pound(s)","liter(s)","mliter(s)","ounce(s)"],aa=e=>{var t;return e.stores.find(Et("id",(t=e.currentStore())==null?void 0:t.id))||e.stores[0]},oa=Gi(Et("order")),At=e=>{const t=l=>l.http.getTask(l,"stores"),n=l=>l.http.getTask(l,"cats"),r=l=>l.http.getTask(l,"items"),i=({stores:l,cats:u,items:f})=>{let p=u.map(g=>(g.items=f.filter(Et("catId",g.id)).sort((d,y)=>d.order-y.order),g)).sort((g,d)=>g.order-d.order);return console.log("loading"),{cats:p,stores:oa(l.map(g=>(g.cats=p.filter(Et("storeId",g.id)).sort((d,y)=>d.order-y.order),g))),items:f}},a=({stores:l,cats:u,items:f})=>{e.stores=l,e.cats=u,e.items=f,e.currentStore(aa(e))};yr.of(l=>u=>f=>i({stores:l,cats:u,items:f})).ap(t(e)).ap(n(e)).ap(r(e)).fork(vr("error"),a)},la=({catId:e,title:t,notes:n,quantity:r,unit:i,price:a,order:l})=>({id:yn(),title:t,notes:n,catId:e,order:l,quantity:r,unit:i,price:a,notes:n,purchased:!1}),sa=(e,t,n=0)=>({id:yn(),title:e,order:n,storeId:t,collapsed:!1,dragCollapsed:!1}),ua=({title:e,order:t=0})=>({title:e,id:yn(),order:t}),se={state:{},http:ta,settings:{},state:{dragItemList:{},dragCatList:{},dragging:{isDragging:!1,item:"",swapItem:""},catIds:[],items:[],showModal:!1,modalContent:null},stores:[],cats:[],items:[],currentStore:G(null)};/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kn(Object(n),!0).forEach(function(r){ca(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Te(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Te=function(t){return typeof t}:Te=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Te(e)}function ca(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function It(){return It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},It.apply(this,arguments)}function fa(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function pa(e,t){if(e==null)return{};var n=fa(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}var ha="1.15.0";function Ot(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}var xt=Ot(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),de=Ot(/Edge/i),Jn=Ot(/firefox/i),ue=Ot(/safari/i)&&!Ot(/chrome/i)&&!Ot(/android/i),Er=Ot(/iP(ad|od|hone)/i),Sr=Ot(/chrome/i)&&Ot(/android/i),Tr={capture:!1,passive:!1};function z(e,t,n){e.addEventListener(t,n,!xt&&Tr)}function F(e,t,n){e.removeEventListener(t,n,!xt&&Tr)}function xe(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function da(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function St(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&xe(e,t):xe(e,t))||r&&e===n)return e;if(e===n)break}while(e=da(e))}return null}var Vn=/\s+/g;function gt(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(Vn," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(Vn," ")}}function A(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function Jt(e,t){var n="";if(typeof e=="string")n=e;else do{var r=A(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function _r(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,a=r.length;if(n)for(;i<a;i++)n(r[i],i);return r}return[]}function _t(){var e=document.scrollingElement;return e||document.documentElement}function nt(e,t,n,r,i){if(!(!e.getBoundingClientRect&&e!==window)){var a,l,u,f,p,g,d;if(e!==window&&e.parentNode&&e!==_t()?(a=e.getBoundingClientRect(),l=a.top,u=a.left,f=a.bottom,p=a.right,g=a.height,d=a.width):(l=0,u=0,f=window.innerHeight,p=window.innerWidth,g=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!xt))do if(i&&i.getBoundingClientRect&&(A(i,"transform")!=="none"||n&&A(i,"position")!=="static")){var y=i.getBoundingClientRect();l-=y.top+parseInt(A(i,"border-top-width")),u-=y.left+parseInt(A(i,"border-left-width")),f=l+a.height,p=u+a.width;break}while(i=i.parentNode);if(r&&e!==window){var S=Jt(i||e),E=S&&S.a,b=S&&S.d;S&&(l/=b,u/=E,d/=E,g/=b,f=l+g,p=u+d)}return{top:l,left:u,bottom:f,right:p,width:d,height:g}}}function Qn(e,t,n){for(var r=jt(e,!0),i=nt(e)[t];r;){var a=nt(r)[n],l=void 0;if(n==="top"||n==="left"?l=i>=a:l=i<=a,!l)return r;if(r===_t())break;r=jt(r,!1)}return!1}function Vt(e,t,n,r){for(var i=0,a=0,l=e.children;a<l.length;){if(l[a].style.display!=="none"&&l[a]!==I.ghost&&(r||l[a]!==I.dragged)&&St(l[a],n.draggable,e,!1)){if(i===t)return l[a];i++}a++}return null}function vn(e,t){for(var n=e.lastElementChild;n&&(n===I.ghost||A(n,"display")==="none"||t&&!xe(n,t));)n=n.previousElementSibling;return n||null}function vt(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==I.clone&&(!t||xe(e,t))&&n++;return n}function Zn(e){var t=0,n=0,r=_t();if(e)do{var i=Jt(e),a=i.a,l=i.d;t+=e.scrollLeft*a,n+=e.scrollTop*l}while(e!==r&&(e=e.parentNode));return[t,n]}function ga(e,t){for(var n in e)if(!!e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function jt(e,t){if(!e||!e.getBoundingClientRect)return _t();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=A(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return _t();if(r||t)return n;r=!0}}while(n=n.parentNode);return _t()}function ma(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Qe(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var ce;function Dr(e,t){return function(){if(!ce){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),ce=setTimeout(function(){ce=void 0},t)}}}function wa(){clearTimeout(ce),ce=void 0}function Cr(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Or(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var wt="Sortable"+new Date().getTime();function ya(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(A(i,"display")==="none"||i===I.ghost)){e.push({target:i,rect:nt(i)});var a=Dt({},e[e.length-1].rect);if(i.thisAnimationDuration){var l=Jt(i,!0);l&&(a.top-=l.f,a.left-=l.e)}i.fromRect=a}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(ga(e,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var a=!1,l=0;e.forEach(function(u){var f=0,p=u.target,g=p.fromRect,d=nt(p),y=p.prevFromRect,S=p.prevToRect,E=u.rect,b=Jt(p,!0);b&&(d.top-=b.f,d.left-=b.e),p.toRect=d,p.thisAnimationDuration&&Qe(y,d)&&!Qe(g,d)&&(E.top-d.top)/(E.left-d.left)===(g.top-d.top)/(g.left-d.left)&&(f=ba(E,y,S,i.options)),Qe(d,g)||(p.prevFromRect=g,p.prevToRect=d,f||(f=i.options.animation),i.animate(p,E,d,f)),f&&(a=!0,l=Math.max(l,f),clearTimeout(p.animationResetTimer),p.animationResetTimer=setTimeout(function(){p.animationTime=0,p.prevFromRect=null,p.fromRect=null,p.prevToRect=null,p.thisAnimationDuration=null},f),p.thisAnimationDuration=f)}),clearTimeout(t),a?t=setTimeout(function(){typeof r=="function"&&r()},l):typeof r=="function"&&r(),e=[]},animate:function(r,i,a,l){if(l){A(r,"transition",""),A(r,"transform","");var u=Jt(this.el),f=u&&u.a,p=u&&u.d,g=(i.left-a.left)/(f||1),d=(i.top-a.top)/(p||1);r.animatingX=!!g,r.animatingY=!!d,A(r,"transform","translate3d("+g+"px,"+d+"px,0)"),this.forRepaintDummy=va(r),A(r,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),A(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){A(r,"transition",""),A(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},l)}}}}function va(e){return e.offsetWidth}function ba(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var Ut=[],Ze={initializeByDefault:!0},ge={mount:function(t){for(var n in Ze)Ze.hasOwnProperty(n)&&!(n in t)&&(t[n]=Ze[n]);Ut.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Ut.push(t)},pluginEvent:function(t,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var a=t+"Global";Ut.forEach(function(l){!n[l.pluginName]||(n[l.pluginName][a]&&n[l.pluginName][a](Dt({sortable:n},r)),n.options[l.pluginName]&&n[l.pluginName][t]&&n[l.pluginName][t](Dt({sortable:n},r)))})},initializePlugins:function(t,n,r,i){Ut.forEach(function(u){var f=u.pluginName;if(!(!t.options[f]&&!u.initializeByDefault)){var p=new u(t,n,t.options);p.sortable=t,p.options=t.options,t[f]=p,It(r,p.defaults)}});for(var a in t.options)if(!!t.options.hasOwnProperty(a)){var l=this.modifyOption(t,a,t.options[a]);typeof l!="undefined"&&(t.options[a]=l)}},getEventProperties:function(t,n){var r={};return Ut.forEach(function(i){typeof i.eventProperties=="function"&&It(r,i.eventProperties.call(n[i.pluginName],t))}),r},modifyOption:function(t,n,r){var i;return Ut.forEach(function(a){!t[a.pluginName]||a.optionListeners&&typeof a.optionListeners[n]=="function"&&(i=a.optionListeners[n].call(t[a.pluginName],r))}),i}};function Ea(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,a=e.cloneEl,l=e.toEl,u=e.fromEl,f=e.oldIndex,p=e.newIndex,g=e.oldDraggableIndex,d=e.newDraggableIndex,y=e.originalEvent,S=e.putSortable,E=e.extraEventProperties;if(t=t||n&&n[wt],!!t){var b,k=t.options,q="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!xt&&!de?b=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(r,!0,!0)),b.to=l||n,b.from=u||n,b.item=i||n,b.clone=a,b.oldIndex=f,b.newIndex=p,b.oldDraggableIndex=g,b.newDraggableIndex=d,b.originalEvent=y,b.pullMode=S?S.lastPutMode:void 0;var L=Dt(Dt({},E),ge.getEventProperties(r,t));for(var N in L)b[N]=L[N];n&&n.dispatchEvent(b),k[q]&&k[q].call(t,b)}}var Sa=["evt"],dt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,a=pa(r,Sa);ge.pluginEvent.bind(I)(t,n,Dt({dragEl:v,parentEl:Q,ghostEl:P,rootEl:U,nextEl:qt,lastDownEl:_e,cloneEl:Y,cloneHidden:Rt,dragStarted:ie,putSortable:lt,activeSortable:I.active,originalEvent:i,oldIndex:Kt,oldDraggableIndex:fe,newIndex:mt,newDraggableIndex:Mt,hideGhostForTarget:Pr,unhideGhostForTarget:Nr,cloneNowHidden:function(){Rt=!0},cloneNowShown:function(){Rt=!1},dispatchSortableEvent:function(u){pt({sortable:n,name:u,originalEvent:i})}},a))};function pt(e){Ea(Dt({putSortable:lt,cloneEl:Y,targetEl:v,rootEl:U,oldIndex:Kt,oldDraggableIndex:fe,newIndex:mt,newDraggableIndex:Mt},e))}var v,Q,P,U,qt,_e,Y,Rt,Kt,mt,fe,Mt,ve,lt,Gt=!1,Pe=!1,Ne=[],Ft,bt,tn,en,tr,er,ie,Yt,pe,he=!1,be=!1,De,ut,nn=[],sn=!1,ke=[],Fe=typeof document!="undefined",Ee=Er,nr=de||xt?"cssFloat":"float",Ta=Fe&&!Sr&&!Er&&"draggable"in document.createElement("div"),Ir=function(){if(!!Fe){if(xt)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Ar=function(t,n){var r=A(t),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),a=Vt(t,0,n),l=Vt(t,1,n),u=a&&A(a),f=l&&A(l),p=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+nt(a).width,g=f&&parseInt(f.marginLeft)+parseInt(f.marginRight)+nt(l).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&u.float&&u.float!=="none"){var d=u.float==="left"?"left":"right";return l&&(f.clear==="both"||f.clear===d)?"vertical":"horizontal"}return a&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||p>=i&&r[nr]==="none"||l&&r[nr]==="none"&&p+g>i)?"vertical":"horizontal"},_a=function(t,n,r){var i=r?t.left:t.top,a=r?t.right:t.bottom,l=r?t.width:t.height,u=r?n.left:n.top,f=r?n.right:n.bottom,p=r?n.width:n.height;return i===u||a===f||i+l/2===u+p/2},Da=function(t,n){var r;return Ne.some(function(i){var a=i[wt].options.emptyInsertThreshold;if(!(!a||vn(i))){var l=nt(i),u=t>=l.left-a&&t<=l.right+a,f=n>=l.top-a&&n<=l.bottom+a;if(u&&f)return r=i}}),r},xr=function(t){function n(a,l){return function(u,f,p,g){var d=u.options.group.name&&f.options.group.name&&u.options.group.name===f.options.group.name;if(a==null&&(l||d))return!0;if(a==null||a===!1)return!1;if(l&&a==="clone")return a;if(typeof a=="function")return n(a(u,f,p,g),l)(u,f,p,g);var y=(l?u:f).options.group.name;return a===!0||typeof a=="string"&&a===y||a.join&&a.indexOf(y)>-1}}var r={},i=t.group;(!i||Te(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,t.group=r},Pr=function(){!Ir&&P&&A(P,"display","none")},Nr=function(){!Ir&&P&&A(P,"display","")};Fe&&!Sr&&document.addEventListener("click",function(e){if(Pe)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Pe=!1,!1},!0);var $t=function(t){if(v){t=t.touches?t.touches[0]:t;var n=Da(t.clientX,t.clientY);if(n){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[wt]._onDragOver(r)}}},Ca=function(t){v&&v.parentNode[wt]._isOutsideThisEl(t.target)};function I(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=It({},t),e[wt]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ar(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,u){l.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:I.supportPointer!==!1&&"PointerEvent"in window&&!ue,emptyInsertThreshold:5};ge.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);xr(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:Ta,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?z(e,"pointerdown",this._onTapStart):(z(e,"mousedown",this._onTapStart),z(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(z(e,"dragover",this),z(e,"dragenter",this)),Ne.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),It(this,ya())}I.prototype={constructor:I,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Yt=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,v):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var n=this,r=this.el,i=this.options,a=i.preventOnFilter,l=t.type,u=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,f=(u||t).target,p=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||f,g=i.filter;if(Ma(r),!v&&!(/mousedown|pointerdown/.test(l)&&t.button!==0||i.disabled)&&!p.isContentEditable&&!(!this.nativeDraggable&&ue&&f&&f.tagName.toUpperCase()==="SELECT")&&(f=St(f,i.draggable,r,!1),!(f&&f.animated)&&_e!==f)){if(Kt=vt(f),fe=vt(f,i.draggable),typeof g=="function"){if(g.call(this,t,f,this)){pt({sortable:n,rootEl:p,name:"filter",targetEl:f,toEl:r,fromEl:r}),dt("filter",n,{evt:t}),a&&t.cancelable&&t.preventDefault();return}}else if(g&&(g=g.split(",").some(function(d){if(d=St(p,d.trim(),r,!1),d)return pt({sortable:n,rootEl:d,name:"filter",targetEl:f,fromEl:r,toEl:r}),dt("filter",n,{evt:t}),!0}),g)){a&&t.cancelable&&t.preventDefault();return}i.handle&&!St(p,i.handle,r,!1)||this._prepareDragStart(t,u,f)}}},_prepareDragStart:function(t,n,r){var i=this,a=i.el,l=i.options,u=a.ownerDocument,f;if(r&&!v&&r.parentNode===a){var p=nt(r);if(U=a,v=r,Q=v.parentNode,qt=v.nextSibling,_e=r,ve=l.group,I.dragged=v,Ft={target:v,clientX:(n||t).clientX,clientY:(n||t).clientY},tr=Ft.clientX-p.left,er=Ft.clientY-p.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,v.style["will-change"]="all",f=function(){if(dt("delayEnded",i,{evt:t}),I.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Jn&&i.nativeDraggable&&(v.draggable=!0),i._triggerDragStart(t,n),pt({sortable:i,name:"choose",originalEvent:t}),gt(v,l.chosenClass,!0)},l.ignore.split(",").forEach(function(g){_r(v,g.trim(),rn)}),z(u,"dragover",$t),z(u,"mousemove",$t),z(u,"touchmove",$t),z(u,"mouseup",i._onDrop),z(u,"touchend",i._onDrop),z(u,"touchcancel",i._onDrop),Jn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,v.draggable=!0),dt("delayStart",this,{evt:t}),l.delay&&(!l.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(de||xt))){if(I.eventCanceled){this._onDrop();return}z(u,"mouseup",i._disableDelayedDrag),z(u,"touchend",i._disableDelayedDrag),z(u,"touchcancel",i._disableDelayedDrag),z(u,"mousemove",i._delayedDragTouchMoveHandler),z(u,"touchmove",i._delayedDragTouchMoveHandler),l.supportPointer&&z(u,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(f,l.delay)}else f()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){v&&rn(v),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;F(t,"mouseup",this._disableDelayedDrag),F(t,"touchend",this._disableDelayedDrag),F(t,"touchcancel",this._disableDelayedDrag),F(t,"mousemove",this._delayedDragTouchMoveHandler),F(t,"touchmove",this._delayedDragTouchMoveHandler),F(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?z(document,"pointermove",this._onTouchMove):n?z(document,"touchmove",this._onTouchMove):z(document,"mousemove",this._onTouchMove):(z(v,"dragend",this),z(U,"dragstart",this._onDragStart));try{document.selection?Ce(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Gt=!1,U&&v){dt("dragStarted",this,{evt:n}),this.nativeDraggable&&z(document,"dragover",Ca);var r=this.options;!t&&gt(v,r.dragClass,!1),gt(v,r.ghostClass,!0),I.active=this,t&&this._appendGhost(),pt({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(bt){this._lastX=bt.clientX,this._lastY=bt.clientY,Pr();for(var t=document.elementFromPoint(bt.clientX,bt.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(bt.clientX,bt.clientY),t!==n);)n=t;if(v.parentNode[wt]._isOutsideThisEl(t),n)do{if(n[wt]){var r=void 0;if(r=n[wt]._onDragOver({clientX:bt.clientX,clientY:bt.clientY,target:t,rootEl:n}),r&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);Nr()}},_onTouchMove:function(t){if(Ft){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,a=t.touches?t.touches[0]:t,l=P&&Jt(P,!0),u=P&&l&&l.a,f=P&&l&&l.d,p=Ee&&ut&&Zn(ut),g=(a.clientX-Ft.clientX+i.x)/(u||1)+(p?p[0]-nn[0]:0)/(u||1),d=(a.clientY-Ft.clientY+i.y)/(f||1)+(p?p[1]-nn[1]:0)/(f||1);if(!I.active&&!Gt){if(r&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(P){l?(l.e+=g-(tn||0),l.f+=d-(en||0)):l={a:1,b:0,c:0,d:1,e:g,f:d};var y="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");A(P,"webkitTransform",y),A(P,"mozTransform",y),A(P,"msTransform",y),A(P,"transform",y),tn=g,en=d,bt=a}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!P){var t=this.options.fallbackOnBody?document.body:U,n=nt(v,!0,Ee,!0,t),r=this.options;if(Ee){for(ut=t;A(ut,"position")==="static"&&A(ut,"transform")==="none"&&ut!==document;)ut=ut.parentNode;ut!==document.body&&ut!==document.documentElement?(ut===document&&(ut=_t()),n.top+=ut.scrollTop,n.left+=ut.scrollLeft):ut=_t(),nn=Zn(ut)}P=v.cloneNode(!0),gt(P,r.ghostClass,!1),gt(P,r.fallbackClass,!0),gt(P,r.dragClass,!0),A(P,"transition",""),A(P,"transform",""),A(P,"box-sizing","border-box"),A(P,"margin",0),A(P,"top",n.top),A(P,"left",n.left),A(P,"width",n.width),A(P,"height",n.height),A(P,"opacity","0.8"),A(P,"position",Ee?"absolute":"fixed"),A(P,"zIndex","100000"),A(P,"pointerEvents","none"),I.ghost=P,t.appendChild(P),A(P,"transform-origin",tr/parseInt(P.style.width)*100+"% "+er/parseInt(P.style.height)*100+"%")}},_onDragStart:function(t,n){var r=this,i=t.dataTransfer,a=r.options;if(dt("dragStart",this,{evt:t}),I.eventCanceled){this._onDrop();return}dt("setupClone",this),I.eventCanceled||(Y=Or(v),Y.removeAttribute("id"),Y.draggable=!1,Y.style["will-change"]="",this._hideClone(),gt(Y,this.options.chosenClass,!1),I.clone=Y),r.cloneId=Ce(function(){dt("clone",r),!I.eventCanceled&&(r.options.removeCloneOnHide||U.insertBefore(Y,v),r._hideClone(),pt({sortable:r,name:"clone"}))}),!n&&gt(v,a.dragClass,!0),n?(Pe=!0,r._loopId=setInterval(r._emulateDragOver,50)):(F(document,"mouseup",r._onDrop),F(document,"touchend",r._onDrop),F(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",a.setData&&a.setData.call(r,i,v)),z(document,"drop",r),A(v,"transform","translateZ(0)")),Gt=!0,r._dragStartId=Ce(r._dragStarted.bind(r,n,t)),z(document,"selectstart",r),ie=!0,ue&&A(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,r=t.target,i,a,l,u=this.options,f=u.group,p=I.active,g=ve===f,d=u.sort,y=lt||p,S,E=this,b=!1;if(sn)return;function k(Nt,Qt){dt(Nt,E,Dt({evt:t,isOwner:g,axis:S?"vertical":"horizontal",revert:l,dragRect:i,targetRect:a,canSort:d,fromSortable:y,target:r,completed:L,onMove:function(me,te){return Se(U,n,v,i,me,nt(me),t,te)},changed:N},Qt))}function q(){k("dragOverAnimationCapture"),E.captureAnimationState(),E!==y&&y.captureAnimationState()}function L(Nt){return k("dragOverCompleted",{insertion:Nt}),Nt&&(g?p._hideClone():p._showClone(E),E!==y&&(gt(v,lt?lt.options.ghostClass:p.options.ghostClass,!1),gt(v,u.ghostClass,!0)),lt!==E&&E!==I.active?lt=E:E===I.active&&lt&&(lt=null),y===E&&(E._ignoreWhileAnimating=r),E.animateAll(function(){k("dragOverAnimationComplete"),E._ignoreWhileAnimating=null}),E!==y&&(y.animateAll(),y._ignoreWhileAnimating=null)),(r===v&&!v.animated||r===n&&!r.animated)&&(Yt=null),!u.dragoverBubble&&!t.rootEl&&r!==document&&(v.parentNode[wt]._isOutsideThisEl(t.target),!Nt&&$t(t)),!u.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),b=!0}function N(){mt=vt(v),Mt=vt(v,u.draggable),pt({sortable:E,name:"change",toEl:n,newIndex:mt,newDraggableIndex:Mt,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=St(r,u.draggable,n,!0),k("dragOver"),I.eventCanceled)return b;if(v.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||E._ignoreWhileAnimating===r)return L(!1);if(Pe=!1,p&&!u.disabled&&(g?d||(l=Q!==U):lt===this||(this.lastPutMode=ve.checkPull(this,p,v,t))&&f.checkPut(this,p,v,t))){if(S=this._getDirection(t,r)==="vertical",i=nt(v),k("dragOverValid"),I.eventCanceled)return b;if(l)return Q=U,q(),this._hideClone(),k("revert"),I.eventCanceled||(qt?U.insertBefore(v,qt):U.appendChild(v)),L(!0);var _=vn(n,u.draggable);if(!_||xa(t,S,this)&&!_.animated){if(_===v)return L(!1);if(_&&n===t.target&&(r=_),r&&(a=nt(r)),Se(U,n,v,i,r,a,t,!!r)!==!1)return q(),_&&_.nextSibling?n.insertBefore(v,_.nextSibling):n.appendChild(v),Q=n,N(),L(!0)}else if(_&&Aa(t,S,this)){var M=Vt(n,0,u,!0);if(M===v)return L(!1);if(r=M,a=nt(r),Se(U,n,v,i,r,a,t,!1)!==!1)return q(),n.insertBefore(v,M),Q=n,N(),L(!0)}else if(r.parentNode===n){a=nt(r);var C=0,H,R=v.parentNode!==n,O=!_a(v.animated&&v.toRect||i,r.animated&&r.toRect||a,S),K=S?"top":"left",J=Qn(r,"top","top")||Qn(v,"top","top"),yt=J?J.scrollTop:void 0;Yt!==r&&(H=a[K],he=!1,be=!O&&u.invertSwap||R),C=Pa(t,r,a,S,O?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,be,Yt===r);var ot;if(C!==0){var et=vt(v);do et-=C,ot=Q.children[et];while(ot&&(A(ot,"display")==="none"||ot===P))}if(C===0||ot===r)return L(!1);Yt=r,pe=C;var Pt=r.nextElementSibling,ht=!1;ht=C===1;var Ct=Se(U,n,v,i,r,a,t,ht);if(Ct!==!1)return(Ct===1||Ct===-1)&&(ht=Ct===1),sn=!0,setTimeout(Ia,30),q(),ht&&!Pt?n.appendChild(v):r.parentNode.insertBefore(v,ht?Pt:r),J&&Cr(J,0,yt-J.scrollTop),Q=v.parentNode,H!==void 0&&!be&&(De=Math.abs(H-nt(r)[K])),N(),L(!0)}if(n.contains(v))return L(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){F(document,"mousemove",this._onTouchMove),F(document,"touchmove",this._onTouchMove),F(document,"pointermove",this._onTouchMove),F(document,"dragover",$t),F(document,"mousemove",$t),F(document,"touchmove",$t)},_offUpEvents:function(){var t=this.el.ownerDocument;F(t,"mouseup",this._onDrop),F(t,"touchend",this._onDrop),F(t,"pointerup",this._onDrop),F(t,"touchcancel",this._onDrop),F(document,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;if(mt=vt(v),Mt=vt(v,r.draggable),dt("drop",this,{evt:t}),Q=v&&v.parentNode,mt=vt(v),Mt=vt(v,r.draggable),I.eventCanceled){this._nulling();return}Gt=!1,be=!1,he=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),un(this.cloneId),un(this._dragStartId),this.nativeDraggable&&(F(document,"drop",this),F(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ue&&A(document.body,"user-select",""),A(v,"transform",""),t&&(ie&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),P&&P.parentNode&&P.parentNode.removeChild(P),(U===Q||lt&&lt.lastPutMode!=="clone")&&Y&&Y.parentNode&&Y.parentNode.removeChild(Y),v&&(this.nativeDraggable&&F(v,"dragend",this),rn(v),v.style["will-change"]="",ie&&!Gt&&gt(v,lt?lt.options.ghostClass:this.options.ghostClass,!1),gt(v,this.options.chosenClass,!1),pt({sortable:this,name:"unchoose",toEl:Q,newIndex:null,newDraggableIndex:null,originalEvent:t}),U!==Q?(mt>=0&&(pt({rootEl:Q,name:"add",toEl:Q,fromEl:U,originalEvent:t}),pt({sortable:this,name:"remove",toEl:Q,originalEvent:t}),pt({rootEl:Q,name:"sort",toEl:Q,fromEl:U,originalEvent:t}),pt({sortable:this,name:"sort",toEl:Q,originalEvent:t})),lt&&lt.save()):mt!==Kt&&mt>=0&&(pt({sortable:this,name:"update",toEl:Q,originalEvent:t}),pt({sortable:this,name:"sort",toEl:Q,originalEvent:t})),I.active&&((mt==null||mt===-1)&&(mt=Kt,Mt=fe),pt({sortable:this,name:"end",toEl:Q,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){dt("nulling",this),U=v=Q=P=qt=Y=_e=Rt=Ft=bt=ie=mt=Mt=Kt=fe=Yt=pe=lt=ve=I.dragged=I.ghost=I.clone=I.active=null,ke.forEach(function(t){t.checked=!0}),ke.length=tn=en=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":v&&(this._onDragOver(t),Oa(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,r=this.el.children,i=0,a=r.length,l=this.options;i<a;i++)n=r[i],St(n,l.draggable,this.el,!1)&&t.push(n.getAttribute(l.dataIdAttr)||ka(n));return t},sort:function(t,n){var r={},i=this.el;this.toArray().forEach(function(a,l){var u=i.children[l];St(u,this.options.draggable,i,!1)&&(r[a]=u)},this),n&&this.captureAnimationState(),t.forEach(function(a){r[a]&&(i.removeChild(r[a]),i.appendChild(r[a]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return St(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var r=this.options;if(n===void 0)return r[t];var i=ge.modifyOption(this,t,n);typeof i!="undefined"?r[t]=i:r[t]=n,t==="group"&&xr(r)},destroy:function(){dt("destroy",this);var t=this.el;t[wt]=null,F(t,"mousedown",this._onTapStart),F(t,"touchstart",this._onTapStart),F(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(F(t,"dragover",this),F(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ne.splice(Ne.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Rt){if(dt("hideClone",this),I.eventCanceled)return;A(Y,"display","none"),this.options.removeCloneOnHide&&Y.parentNode&&Y.parentNode.removeChild(Y),Rt=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Rt){if(dt("showClone",this),I.eventCanceled)return;v.parentNode==U&&!this.options.group.revertClone?U.insertBefore(Y,v):qt?U.insertBefore(Y,qt):U.appendChild(Y),this.options.group.revertClone&&this.animate(v,Y),A(Y,"display",""),Rt=!1}}};function Oa(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Se(e,t,n,r,i,a,l,u){var f,p=e[wt],g=p.options.onMove,d;return window.CustomEvent&&!xt&&!de?f=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(f=document.createEvent("Event"),f.initEvent("move",!0,!0)),f.to=t,f.from=e,f.dragged=n,f.draggedRect=r,f.related=i||t,f.relatedRect=a||nt(t),f.willInsertAfter=u,f.originalEvent=l,e.dispatchEvent(f),g&&(d=g.call(p,f,l)),d}function rn(e){e.draggable=!1}function Ia(){sn=!1}function Aa(e,t,n){var r=nt(Vt(n.el,0,n.options,!0)),i=10;return t?e.clientX<r.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-i||e.clientY<r.bottom&&e.clientX<r.left}function xa(e,t,n){var r=nt(vn(n.el,n.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}function Pa(e,t,n,r,i,a,l,u){var f=r?e.clientY:e.clientX,p=r?n.height:n.width,g=r?n.top:n.left,d=r?n.bottom:n.right,y=!1;if(!l){if(u&&De<p*i){if(!he&&(pe===1?f>g+p*a/2:f<d-p*a/2)&&(he=!0),he)y=!0;else if(pe===1?f<g+De:f>d-De)return-pe}else if(f>g+p*(1-i)/2&&f<d-p*(1-i)/2)return Na(t)}return y=y||l,y&&(f<g+p*a/2||f>d-p*a/2)?f>g+p/2?1:-1:0}function Na(e){return vt(v)<vt(e)?1:-1}function ka(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Ma(e){ke.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&ke.push(r)}}function Ce(e){return setTimeout(e,0)}function un(e){return clearTimeout(e)}Fe&&z(document,"touchmove",function(e){(I.active||Gt)&&e.cancelable&&e.preventDefault()});I.utils={on:z,off:F,css:A,find:_r,is:function(t,n){return!!St(t,n,t,!1)},extend:ma,throttle:Dr,closest:St,toggleClass:gt,clone:Or,index:vt,nextTick:Ce,cancelNextTick:un,detectDirection:Ar,getChild:Vt};I.get=function(e){return e[wt]};I.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(I.utils=Dt(Dt({},I.utils),r.utils)),ge.mount(r)})};I.create=function(e,t){return new I(e,t)};I.version=ha;var tt=[],ae,cn,fn=!1,an,on,Me,oe;function Ra(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?z(document,"dragover",this._handleAutoScroll):this.options.supportPointer?z(document,"pointermove",this._handleFallbackAutoScroll):r.touches?z(document,"touchmove",this._handleFallbackAutoScroll):z(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?F(document,"dragover",this._handleAutoScroll):(F(document,"pointermove",this._handleFallbackAutoScroll),F(document,"touchmove",this._handleFallbackAutoScroll),F(document,"mousemove",this._handleFallbackAutoScroll)),rr(),Oe(),wa()},nulling:function(){Me=cn=ae=fn=oe=an=on=null,tt.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,a=(n.touches?n.touches[0]:n).clientX,l=(n.touches?n.touches[0]:n).clientY,u=document.elementFromPoint(a,l);if(Me=n,r||this.options.forceAutoScrollFallback||de||xt||ue){ln(n,this.options,u,r);var f=jt(u,!0);fn&&(!oe||a!==an||l!==on)&&(oe&&rr(),oe=setInterval(function(){var p=jt(document.elementFromPoint(a,l),!0);p!==f&&(f=p,Oe()),ln(n,i.options,p,r)},10),an=a,on=l)}else{if(!this.options.bubbleScroll||jt(u,!0)===_t()){Oe();return}ln(n,this.options,jt(u,!1),!1)}}},It(e,{pluginName:"scroll",initializeByDefault:!0})}function Oe(){tt.forEach(function(e){clearInterval(e.pid)}),tt=[]}function rr(){clearInterval(oe)}var ln=Dr(function(e,t,n,r){if(!!t.scroll){var i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,u=t.scrollSpeed,f=_t(),p=!1,g;cn!==n&&(cn=n,Oe(),ae=t.scroll,g=t.scrollFn,ae===!0&&(ae=jt(n,!0)));var d=0,y=ae;do{var S=y,E=nt(S),b=E.top,k=E.bottom,q=E.left,L=E.right,N=E.width,_=E.height,M=void 0,C=void 0,H=S.scrollWidth,R=S.scrollHeight,O=A(S),K=S.scrollLeft,J=S.scrollTop;S===f?(M=N<H&&(O.overflowX==="auto"||O.overflowX==="scroll"||O.overflowX==="visible"),C=_<R&&(O.overflowY==="auto"||O.overflowY==="scroll"||O.overflowY==="visible")):(M=N<H&&(O.overflowX==="auto"||O.overflowX==="scroll"),C=_<R&&(O.overflowY==="auto"||O.overflowY==="scroll"));var yt=M&&(Math.abs(L-i)<=l&&K+N<H)-(Math.abs(q-i)<=l&&!!K),ot=C&&(Math.abs(k-a)<=l&&J+_<R)-(Math.abs(b-a)<=l&&!!J);if(!tt[d])for(var et=0;et<=d;et++)tt[et]||(tt[et]={});(tt[d].vx!=yt||tt[d].vy!=ot||tt[d].el!==S)&&(tt[d].el=S,tt[d].vx=yt,tt[d].vy=ot,clearInterval(tt[d].pid),(yt!=0||ot!=0)&&(p=!0,tt[d].pid=setInterval(function(){r&&this.layer===0&&I.active._onTouchMove(Me);var Pt=tt[this.layer].vy?tt[this.layer].vy*u:0,ht=tt[this.layer].vx?tt[this.layer].vx*u:0;typeof g=="function"&&g.call(I.dragged.parentNode[wt],ht,Pt,e,Me,tt[this.layer].el)!=="continue"||Cr(tt[this.layer].el,ht,Pt)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&y!==f&&(y=jt(y,!1)));fn=p}},30),kr=function(t){var n=t.originalEvent,r=t.putSortable,i=t.dragEl,a=t.activeSortable,l=t.dispatchSortableEvent,u=t.hideGhostForTarget,f=t.unhideGhostForTarget;if(!!n){var p=r||a;u();var g=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(g.clientX,g.clientY);f(),p&&!p.el.contains(d)&&(l("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function bn(){}bn.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=Vt(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:kr};It(bn,{pluginName:"revertOnSpill"});function En(){}En.prototype={onSpill:function(t){var n=t.dragEl,r=t.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:kr};It(En,{pluginName:"removeOnSpill"});I.mount(new Ra);I.mount(En,bn);const ja=(e,t,n,r)=>{const i=n?t:sa(t.title,e.currentStore().id),a=log("error"),l=u=>{t.title="",r(),At(e)};e.http.putTask(e,`cats/${i.id}`,i).fork(a,l)},ir=({attrs:{isEdit:e,cat:t,closeCatForm:n}})=>{let r={title:""};return e&&(r=t),{view:({attrs:{mdl:i}})=>w("form.w3-container.w3-card.w3-white.w3-animate-opacity",{onsubmit:a=>a.preventDefault()},w(".w3-cell-row",w(".w3-cell",w("input.w3-input.w3-border-bottom",{oncreate:({dom:a})=>{a.select(),a.focus()},type:"text",value:r.title,placeholder:"Category Title",oninput:a=>r.title=a.target.value})),w("button.w3-cell.w3-button.w3-orange.w3-section.w3-padding",{onclick:()=>ja(i,r,e,n)},e?"Edit":"add")))}},La=(e,t)=>{const n=log("error"),r=()=>{At(e)};e.http.deleteTask(e,`cats/${t.id}`).fork(n,r)},Fa=(e,{newIndex:t,item:n})=>{const r=e.cats.find(Et("id",n.id));r.order=t,e.http.putTask(e,`cats/${n.id}`,r).fork(log("error"),()=>At(e))},$a=e=>({dom:t})=>{const n={ghostClass:"dragging",animation:150,handle:".handle",onEnd:r=>Fa(e,r)};e.state.dragCatList=I.create(t,n)},qa=(e,t,n)=>{let r=n?{title:t.title,order:t.order,id:t.id}:ua({title:t.title,order:e.stores.length});const i=l=>{t={title:""},At(e),Ht(e)};return((l,u)=>n?l.http.putTask(l,`stores/${u.id}`,u):l.http.postTask(l,"stores",u))(e,r).fork(log("error"),i)},za=(e,t)=>e.http.deleteTask(e,`stores/${t}`).fork(log("err"),()=>{At(e),Ht(e)}),pn=({attrs:{mdl:e,isEdit:t}})=>{const n={title:"",addNewCat:!1,editCat:!1,cat:null},r=()=>{n.title="",n.addNewCat=!1,n.editCat=!1,n.cat=null};return{view:({attrs:{mdl:i}})=>{const a=i.currentStore();return t&&(n.title=a.title,n.order=a.order,n.id=a.id,n.cats=a.cats),w("form.w3-container.w3-card.w3-white.w3-animate-zoom",{onsubmit:l=>l.preventDefault()},w(".w3-section",w("button.w3-button.w3-black.w3-border-black.w3-text-white",{onclick:()=>Ht(i)},w.trust("&#10005;"))),w(".w3-section",w(".w3-cell-row",w(".w3-cell",w("input.w3-input.w3-border-bottom",{type:"text",value:n.title,placeholder:"Store Name",oninput:l=>a.title=l.target.value})),w("button.w3-button.w3-cell",{onclick:()=>qa(i,n,t)},t?"Update Name":"Add Store")),t&&w(ir,{mdl:i,closeCatForm:r})),t&&w(".w3-list",{oncreate:$a(i),style:{height:"400px",overflowX:"hidden",overflowY:"auto"}},n.cats.map(l=>w(".w3-row",{id:l.id,key:l.id},w("p.handle.w3-col s1",w.trust("&#8942;")),w(".w3-col s11 w3-row",n.editCat==l.id?w(ir,{mdl:i,cat:n.cat,isEdit:t,closeCatForm:r}):w("label.w3-col s7 m6 l6",l.title),w(".w3-col s4",w("button.w3-button",{onclick:()=>{n.cat=l,n.editCat=l.id}},"Edit"),w("button.w3-button",{onclick:()=>La(i,l)},"X"))),w(".w3-col s11",w(".w3-row",w("label.w3-col",l.items.length)))))),t&&w("button.w3-button.w3-red.w3-margin-top.w3-left",{onclick:()=>za(i,a.id)},"Delete"))}}},Ha=(e,t)=>e.cats.find(Et("id",t)).items.length||0,Xa=(e,t,n)=>{const{catId:r,title:i,notes:a,order:l,quantity:u,unit:f,price:p,id:g}=t;let d=n?{catId:r,title:i,notes:a,order:l,quantity:u,unit:f,price:p,id:g}:la({catId:r,title:i,notes:a,order:Ha(e,r),quantity:u,unit:f,price:p});const y=E=>{t={catId:r,title:"",notes:"",order:0,quantity:"",unit:"",price:0},At(e),Ht(e)};return((E,b)=>n?E.http.postTask(E,"items",b):E.http.putTask(E,`items/${b.id}`,b))(e,d).fork(log("error"),y)},Ba=(e,t)=>e.http.deleteTask(e,`items/${t}`).fork(log("err"),()=>{At(e),Ht(e)}),Mr=({attrs:{mdl:e,catId:t,item:n,isEdit:r}})=>{const i={catId:t,catTitle:"",title:"",notes:"",order:"",quantity:"",unit:"",price:""};return t&&(i.catTitle=e.cats.find(Et("id",t)).title),r&&(i.catId=n.catId,i.title=n.title,i.notes=n.notes,i.order=n.order,i.quantity=n.quantity,i.unit=n.unit,i.price=n.price,i.id=n.id),{view:({attrs:{mdl:a}})=>{var l;return w("form.w3-container.w3-card.w3-white.w3-animate-zoom",{onsubmit:u=>u.preventDefault()},w(".w3-section",w("button.w3-button.w3-black.w3-border-black.w3-text-white",{onclick:()=>Ht(a)},w.trust("&#10005;"))),w(".w3-section",w("label",w("b","Item")),w("input.w3-input.w3-border-bottom",{oncreate:({dom:u})=>{u.select(),u.focus()},type:"text",value:i.title,oninput:u=>i.title=u.target.value})),w(".w3-section",w("label",w("b","Category")),w("select.w3-input.w3-border-bottom",{value:((l=a.cats.find(Et("id",i.catId)))==null?void 0:l.title)||"",onchange:u=>{i.catTitle=u.target.value,i.catId=a.cats.find(Et("title",i.catTitle)).id}},a.cats.map(u=>w(`option#${u.id}`,u.title)))),w(".w3-section",w("label",w("b","Quantity")),w("input.w3-input.w3-border-bottom",{type:"number",value:i.quantity,pattern:"[0-9]*",inputmode:"numeric",oninput:u=>i.quantity=u.target.value})),w(".w3-section",w("label",w("b","Unit")),w("select.w3-input.w3-border-bottom",{value:i.unit,onchange:u=>i.unit=u.target.value},ia.map(u=>w("option",u)))),w(".w3-section",w("label",w("b","Price")),w("input.w3-input.w3-border-bottom",{pattern:"[0-9]*",inputmode:"numeric",value:i.price,oninput:u=>i.price=u.target.value})),w(".w3-section",w("label",w("b","Notes")),w("textarea.w3-input.w3-border-bottom",{oninput:u=>i.notes=u.target.value},i.notes)),w("button.w3-button.w3-block.w3-orange.w3-margin-bottom",{onclick:()=>Xa(a,i,r)},r?"Update":"Add"),r&&w("button.w3-button.w3-red.w3-margin-top.w3-left",{onclick:()=>Ba(a,n.id)},"Delete"))}}},Ua=e=>{e.state.dragging.isDragging=!1;for(const t in e.state.ItemdragList)e.state.dragItemList[t].option("disabled",!0)},Ya=()=>({view:({attrs:{mdl:e,state:t}})=>w("nav.w3-fixed.w3-container",e.currentStore()&&w(".w3-row",w("button.w3-button.w3-orange.w3-button.w3-hide-large.w3-border.w3-col s4",{onclick:()=>Ae({mdl:e,content:pn})},"New Store"),w("select.w3-select.w3-col s4 w3-center",{value:e.currentStore().id,onchange:n=>{e.currentStore(e.stores.find(Et("id",n.target.value)))}},e.stores.map(n=>w("option",{value:n.id},n.title))),w("button.w3-button.w3-border.w3-col s4",{onclick:()=>Ae({content:pn,mdl:e,opts:{isEdit:!0}})},"Edit Store"),e.state.dragging.isDragging&&w("button.w3-block.w3-button.w3-green",{onclick:()=>Ua(e)},"Save Changes")))}),Wa=(e,t)=>{const n=Mr,r={catId:t.catId,item:t,isEdit:!0};openModal({content:n,mdl:e,opts:r})},Ga=(e,t,n)=>{t.left=!0,Wa(e,n),Sn(e,t)},Rr=(e,t,n)=>{t.right=!0,e.state.dragging.isDragging=!0;//!mdl.state.dragging.isDragging
console.log(e.state.dragItemList[n.catId]),e.state.dragItemList[n.catId].option("disabled",!1),Sn(e,t)},Sn=(e,t,n)=>{t.left=!1,t.right=!1},Ka=e=>e.classList.contains("swipe-container"),jr=e=>Ka(e)?e:jr(e.parentElement),Ja=({leftAction:e,rightAction:t,resetAction:n},r)=>{const i=jr(r.target),a=i.clientWidth*30/100,l=i.scrollLeft-i.clientWidth;l<a*-1?e():l>a?t():n()},Va=(e,t,n)=>r=>{e.state.dragging.isDragging||Ja({leftAction:()=>Ga(e,t,n),rightAction:()=>Rr(e,t,n),resetAction:()=>Sn(e,t)},r)},Qa=({attrs:{mdl:e}})=>{const t={highlight:!1};return{view:({attrs:{item:n,mdl:r}})=>w("li.w3-leftbar",{id:n.id,class:r.state.dragging.isDragging?"drag":"dont-drag",ondblclick:i=>Rr(r,t,n)},w(".swipe-container",{ontouchend:Va(r,t,n)},w(".swipe-action.swipe-left",w("icon",w.trust("&#9997;"))),w(".swipe-element",w("img.w3-left",{src:n.img,style:{maxWidth:"85px"}}),w(".w3-block",{style:{fontSize:"1.2rem"}},n.title),w(".w3-bar",w(".w3-bar-item",n.quantity>0&&w("",`${n.quantity} ${n.unit}`)),w(".w3-bar-item",n.price>0&&w("",`$ ${n.price}`)))),w(".swipe-action.swipe-right",w("icon",w.trust("&#9888;")))))}},Za=(e,{newIndex:t,item:n})=>{const r=e.items.find(Et("id",n.id));r.order=t,e.http.putTask(e,`items/${n.id}`,r).fork(log("error"),()=>At(e))},ar=(e,t)=>({dom:n})=>{const r={ghostClass:"dragging",disabled:!0,animation:150,onEnd:i=>Za(e,i)};e.state.dragItemList[n.id]=I.create(n,r)},to=({attrs:{mdl:e,cat:t}})=>(t.id,t.title,t.items,{view:({attrs:{cat:n,mdl:r,key:i}})=>w("section.w3-section.w3-border-left",{key:i,id:n.id},w(".w3-bar",{style:{position:"-webkit-sticky",position:"sticky",backgroundColor:"white"}},w("strong.w3-right.w3-button",{style:{padding:"0 16px"},onclick:()=>Ae({mdl:r,content:Mr,opts:{catId:n.id}})},n.title.toUpperCase())),w(".w3-list",{id:n.id,oncreate:ar(r),onupdate:ar(r)},n.items.map((a,l)=>w(Qa,{key:a.id,item:a,mdl:r}))))}),eo=()=>({view:({attrs:{mdl:e,state:t}})=>w("section.w3-section.w3-row w3-ul.w3-padding-row",{style:{height:"90dvh",overflowX:"hidden",overflowY:"auto"}},e.currentStore()?e.currentStore().cats.map((n,r)=>w(to,{key:r,cat:n,mdl:e,state:t})):w("section.w3-section",w("button.w3-border w3-button w3-panel.w3-display-middle w3-light-grey w3-col-1",{onclick:()=>Ae({content:pn,mdl:e,isEdit:!1})},"Create a Store to Begin")))}),no=({attrs:{mdl:e}})=>({view:({attrs:{mdl:t}})=>(console.log(t.state.modalContent),t.state.modalContent?w(".w3-modal#modal",{onclick:n=>{if(n.target.id=="modal")return Ht(t)},style:{display:t.state.showModal?"block":"none"}},w("modal.w3-modal-content",w(".w3-container",{style:{maxHeight:"80vh",overflowX:"hidden",overflowY:"auto"}},w(t.state.modalContent.content,t.state.modalContent.attrs)))):null)}),ro=e=>({maxHeight:"100dvh",overflow:"hidden",marginLeft:e.settings.profile=="desktop"?"300px":"0"}),io=e=>{const t={sidebar:{open:!1},toggleSideBar:n=>n.sidebar.open=!n.sidebar.open};return At(e),{view:()=>w("page.w3-theme",w(no,{mdl:e}),w("section.#main",{style:ro(e)},w(Ya,{mdl:e,state:t}),w(eo,{mdl:e,state:t})))}},ao=document.body;let Lr=window.innerWidth;"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./service-worker.js").then(e=>{console.log("\u2699\uFE0F SW registered: ",e)}).catch(e=>{console.log("\u{1F9DF} SW registration failed: ",e)})});const Fr=e=>e<=411?"phone":e<=990?"tablet":"desktop",$r=e=>{const t=window.innerWidth;if(e!==t){e=t;var n=se.settings.profile;se.settings.profile=Fr(t),n!=se.settings.profile&&w.redraw()}return requestAnimationFrame($r)};se.settings.profile=Fr(Lr);$r(Lr);w.mount(ao,io(se));
