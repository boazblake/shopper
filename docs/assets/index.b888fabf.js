const lr=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const o of f.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerpolicy&&(f.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?f.credentials="include":c.crossorigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(c){if(c.ep)return;c.ep=!0;const f=r(c);fetch(c.href,f)}};lr();var ue=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function ne(e,t,r,a,c,f){return{tag:e,key:t,attrs:r,children:a,text:c,dom:f,domSize:void 0,state:void 0,events:void 0,instance:void 0}}ne.normalize=function(e){return Array.isArray(e)?ne("[",void 0,void 0,ne.normalizeChildren(e),void 0,void 0):e==null||typeof e=="boolean"?null:typeof e=="object"?e:ne("#",void 0,void 0,String(e),void 0,void 0)};ne.normalizeChildren=function(e){var t=[];if(e.length){for(var r=e[0]!=null&&e[0].key!=null,a=1;a<e.length;a++)if((e[a]!=null&&e[a].key!=null)!==r)throw new TypeError(r&&(e[a]!=null||typeof e[a]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var a=0;a<e.length;a++)t[a]=ne.normalize(e[a])}return t};var te=ne,sr=te,St=function(){var e=arguments[this],t=this+1,r;if(e==null?e={}:(typeof e!="object"||e.tag!=null||Array.isArray(e))&&(e={},t=this),arguments.length===t+1)r=arguments[t],Array.isArray(r)||(r=[r]);else for(r=[];t<arguments.length;)r.push(arguments[t++]);return sr("",e.key,e,r)},Pe={}.hasOwnProperty,pr=te,hr=St,oe=Pe,gr=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,_t={};function at(e){for(var t in e)if(oe.call(e,t))return!1;return!0}function mr(e){for(var t,r="div",a=[],c={};t=gr.exec(e);){var f=t[1],o=t[2];if(f===""&&o!=="")r=o;else if(f==="#")c.id=o;else if(f===".")a.push(o);else if(t[3][0]==="["){var l=t[6];l&&(l=l.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),t[4]==="class"?a.push(l):c[t[4]]=l===""?l:l||!0}}return a.length>0&&(c.className=a.join(" ")),_t[e]={tag:r,attrs:c}}function yr(e,t){var r=t.attrs,a=oe.call(r,"class"),c=a?r.class:r.className;if(t.tag=e.tag,t.attrs={},!at(e.attrs)&&!at(r)){var f={};for(var o in r)oe.call(r,o)&&(f[o]=r[o]);r=f}for(var o in e.attrs)oe.call(e.attrs,o)&&o!=="className"&&!oe.call(r,o)&&(r[o]=e.attrs[o]);(c!=null||e.attrs.className!=null)&&(r.className=c!=null?e.attrs.className!=null?String(e.attrs.className)+" "+String(c):c:e.attrs.className!=null?e.attrs.className:null),a&&(r.class=null);for(var o in r)if(oe.call(r,o)&&o!=="key"){t.attrs=r;break}return t}function wr(e){if(e==null||typeof e!="string"&&typeof e!="function"&&typeof e.view!="function")throw Error("The selector must be either a string or a component.");var t=hr.apply(1,arguments);return typeof e=="string"&&(t.children=pr.normalizeChildren(t.children),e!=="[")?yr(_t[e]||mr(e),t):(t.tag=e,t)}var xt=wr,dr=te,vr=function(e){return e==null&&(e=""),dr("<",void 0,void 0,e,void 0,void 0)},br=te,kr=St,Tr=function(){var e=kr.apply(0,arguments);return e.tag="[",e.children=br.normalizeChildren(e.children),e},Be=xt;Be.trust=vr;Be.fragment=Tr;var Pr=Be,ge={exports:{}},K=function(e){if(!(this instanceof K))throw new Error("Promise must be called with 'new'.");if(typeof e!="function")throw new TypeError("executor must be a function.");var t=this,r=[],a=[],c=s(r,!0),f=s(a,!1),o=t._instance={resolvers:r,rejectors:a},l=typeof setImmediate=="function"?setImmediate:setTimeout;function s(y,d){return function b(k){var E;try{if(d&&k!=null&&(typeof k=="object"||typeof k=="function")&&typeof(E=k.then)=="function"){if(k===t)throw new TypeError("Promise can't be resolved with itself.");g(E.bind(k))}else l(function(){!d&&y.length===0&&console.error("Possible unhandled promise rejection:",k);for(var T=0;T<y.length;T++)y[T](k);r.length=0,a.length=0,o.state=d,o.retry=function(){b(k)}})}catch(T){f(T)}}}function g(y){var d=0;function b(E){return function(T){d++>0||E(T)}}var k=b(f);try{y(b(c),k)}catch(E){k(E)}}g(e)};K.prototype.then=function(e,t){var r=this,a=r._instance;function c(s,g,y,d){g.push(function(b){if(typeof s!="function")y(b);else try{f(s(b))}catch(k){o&&o(k)}}),typeof a.retry=="function"&&d===a.state&&a.retry()}var f,o,l=new K(function(s,g){f=s,o=g});return c(e,a.resolvers,f,!0),c(t,a.rejectors,o,!1),l};K.prototype.catch=function(e){return this.then(null,e)};K.prototype.finally=function(e){return this.then(function(t){return K.resolve(e()).then(function(){return t})},function(t){return K.resolve(e()).then(function(){return K.reject(t)})})};K.resolve=function(e){return e instanceof K?e:new K(function(t){t(e)})};K.reject=function(e){return new K(function(t,r){r(e)})};K.all=function(e){return new K(function(t,r){var a=e.length,c=0,f=[];if(e.length===0)t([]);else for(var o=0;o<e.length;o++)(function(l){function s(g){c++,f[l]=g,c===a&&t(f)}e[l]!=null&&(typeof e[l]=="object"||typeof e[l]=="function")&&typeof e[l].then=="function"?e[l].then(s,r):s(e[l])})(o)})};K.race=function(e){return new K(function(t,r){for(var a=0;a<e.length;a++)e[a].then(t,r)})};var $t=K,pe=$t;typeof window!="undefined"?(typeof window.Promise=="undefined"?window.Promise=pe:window.Promise.prototype.finally||(window.Promise.prototype.finally=pe.prototype.finally),ge.exports=window.Promise):typeof ue!="undefined"?(typeof ue.Promise=="undefined"?ue.Promise=pe:ue.Promise.prototype.finally||(ue.Promise.prototype.finally=pe.prototype.finally),ge.exports=ue.Promise):ge.exports=pe;var Fe=te,jr=function(e){var t=e&&e.document,r,a={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function c(i){return i.attrs&&i.attrs.xmlns||a[i.tag]}function f(i,n){if(i.state!==n)throw new Error("'vnode.state' must not be modified.")}function o(i){var n=i.state;try{return this.apply(n,arguments)}finally{f(i,n)}}function l(){try{return t.activeElement}catch{return null}}function s(i,n,u,p,h,m,P){for(var S=u;S<p;S++){var v=n[S];v!=null&&g(i,v,h,P,m)}}function g(i,n,u,p,h){var m=n.tag;if(typeof m=="string")switch(n.state={},n.attrs!=null&&Ne(n.attrs,n,u),m){case"#":y(i,n,h);break;case"<":b(i,n,p,h);break;case"[":k(i,n,u,p,h);break;default:E(i,n,u,p,h)}else C(i,n,u,p,h)}function y(i,n,u){n.dom=t.createTextNode(n.children),Z(i,n.dom,u)}var d={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function b(i,n,u,p){var h=n.children.match(/^\s*?<(\w+)/im)||[],m=t.createElement(d[h[1]]||"div");u==="http://www.w3.org/2000/svg"?(m.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+n.children+"</svg>",m=m.firstChild):m.innerHTML=n.children,n.dom=m.firstChild,n.domSize=m.childNodes.length,n.instance=[];for(var P=t.createDocumentFragment(),S;S=m.firstChild;)n.instance.push(S),P.appendChild(S);Z(i,P,p)}function k(i,n,u,p,h){var m=t.createDocumentFragment();if(n.children!=null){var P=n.children;s(m,P,0,P.length,u,null,p)}n.dom=m.firstChild,n.domSize=m.childNodes.length,Z(i,m,h)}function E(i,n,u,p,h){var m=n.tag,P=n.attrs,S=P&&P.is;p=c(n)||p;var v=p?S?t.createElementNS(p,m,{is:S}):t.createElementNS(p,m):S?t.createElement(m,{is:S}):t.createElement(m);if(n.dom=v,P!=null&&tr(n,P,p),Z(i,v,h),!Ye(n)&&n.children!=null){var I=n.children;s(v,I,0,I.length,u,null,p),n.tag==="select"&&P!=null&&nr(n,P)}}function T(i,n){var u;if(typeof i.tag.view=="function"){if(i.state=Object.create(i.tag),u=i.state.view,u.$$reentrantLock$$!=null)return;u.$$reentrantLock$$=!0}else{if(i.state=void 0,u=i.tag,u.$$reentrantLock$$!=null)return;u.$$reentrantLock$$=!0,i.state=i.tag.prototype!=null&&typeof i.tag.prototype.view=="function"?new i.tag(i):i.tag(i)}if(Ne(i.state,i,n),i.attrs!=null&&Ne(i.attrs,i,n),i.instance=Fe.normalize(o.call(i.state.view,i)),i.instance===i)throw Error("A view cannot return the vnode it received as argument");u.$$reentrantLock$$=null}function C(i,n,u,p,h){T(n,u),n.instance!=null?(g(i,n.instance,u,p,h),n.dom=n.instance.dom,n.domSize=n.dom!=null?n.instance.domSize:0):n.domSize=0}function z(i,n,u,p,h,m){if(!(n===u||n==null&&u==null))if(n==null||n.length===0)s(i,u,0,u.length,p,h,m);else if(u==null||u.length===0)fe(i,n,0,n.length);else{var P=n[0]!=null&&n[0].key!=null,S=u[0]!=null&&u[0].key!=null,v=0,I=0;if(!P)for(;I<n.length&&n[I]==null;)I++;if(!S)for(;v<u.length&&u[v]==null;)v++;if(P!==S)fe(i,n,I,n.length),s(i,u,v,u.length,p,h,m);else if(S){for(var Q=n.length-1,H=u.length-1,de,G,D,V,R,Le;Q>=I&&H>=v&&(V=n[Q],R=u[H],V.key===R.key);)V!==R&&W(i,V,R,p,h,m),R.dom!=null&&(h=R.dom),Q--,H--;for(;Q>=I&&H>=v&&(G=n[I],D=u[v],G.key===D.key);)I++,v++,G!==D&&W(i,G,D,p,Y(n,I,h),m);for(;Q>=I&&H>=v&&!(v===H||G.key!==R.key||V.key!==D.key);)Le=Y(n,I,h),ie(i,V,Le),V!==D&&W(i,V,D,p,Le,m),++v<=--H&&ie(i,G,h),G!==R&&W(i,G,R,p,h,m),R.dom!=null&&(h=R.dom),I++,Q--,V=n[Q],R=u[H],G=n[I],D=u[v];for(;Q>=I&&H>=v&&V.key===R.key;)V!==R&&W(i,V,R,p,h,m),R.dom!=null&&(h=R.dom),Q--,H--,V=n[Q],R=u[H];if(v>H)fe(i,n,I,Q+1);else if(I>Q)s(i,u,v,H+1,p,h,m);else{var fr=h,it=H-v+1,se=new Array(it),ze=0,U=0,Me=2147483647,Ue=0,de,De;for(U=0;U<it;U++)se[U]=-1;for(U=H;U>=v;U--){de==null&&(de=x(n,I,Q+1)),R=u[U];var ae=de[R.key];ae!=null&&(Me=ae<Me?ae:-1,se[U-v]=ae,V=n[ae],n[ae]=null,V!==R&&W(i,V,R,p,h,m),R.dom!=null&&(h=R.dom),Ue++)}if(h=fr,Ue!==Q-I+1&&fe(i,n,I,Q+1),Ue===0)s(i,u,v,H+1,p,h,m);else if(Me===-1)for(De=J(se),ze=De.length-1,U=H;U>=v;U--)D=u[U],se[U-v]===-1?g(i,D,p,m,h):De[ze]===U-v?ze--:ie(i,D,h),D.dom!=null&&(h=u[U].dom);else for(U=H;U>=v;U--)D=u[U],se[U-v]===-1&&g(i,D,p,m,h),D.dom!=null&&(h=u[U].dom)}}else{var Re=n.length<u.length?n.length:u.length;for(v=v<I?v:I;v<Re;v++)G=n[v],D=u[v],!(G===D||G==null&&D==null)&&(G==null?g(i,D,p,m,Y(n,v+1,h)):D==null?ye(i,G):W(i,G,D,p,Y(n,v+1,h),m));n.length>Re&&fe(i,n,v,n.length),u.length>Re&&s(i,u,v,u.length,p,h,m)}}}function W(i,n,u,p,h,m){var P=n.tag,S=u.tag;if(P===S){if(u.state=n.state,u.events=n.events,cr(u,n))return;if(typeof P=="string")switch(u.attrs!=null&&qe(u.attrs,u,p),P){case"#":$(n,u);break;case"<":j(i,n,u,m,h);break;case"[":N(i,n,u,p,h,m);break;default:A(n,u,p,m)}else M(i,n,u,p,h,m)}else ye(i,n),g(i,u,p,m,h)}function $(i,n){i.children.toString()!==n.children.toString()&&(i.dom.nodeValue=n.children),n.dom=i.dom}function j(i,n,u,p,h){n.children!==u.children?(Ze(i,n),b(i,u,p,h)):(u.dom=n.dom,u.domSize=n.domSize,u.instance=n.instance)}function N(i,n,u,p,h,m){z(i,n.children,u.children,p,h,m);var P=0,S=u.children;if(u.dom=null,S!=null){for(var v=0;v<S.length;v++){var I=S[v];I!=null&&I.dom!=null&&(u.dom==null&&(u.dom=I.dom),P+=I.domSize||1)}P!==1&&(u.domSize=P)}}function A(i,n,u,p){var h=n.dom=i.dom;p=c(n)||p,n.tag==="textarea"&&n.attrs==null&&(n.attrs={}),ir(n,i.attrs,n.attrs,p),Ye(n)||z(h,i.children,n.children,u,null,p)}function M(i,n,u,p,h,m){if(u.instance=Fe.normalize(o.call(u.state.view,u)),u.instance===u)throw Error("A view cannot return the vnode it received as argument");qe(u.state,u,p),u.attrs!=null&&qe(u.attrs,u,p),u.instance!=null?(n.instance==null?g(i,u.instance,p,m,h):W(i,n.instance,u.instance,p,h,m),u.dom=u.instance.dom,u.domSize=u.instance.domSize):n.instance!=null?(ye(i,n.instance),u.dom=void 0,u.domSize=0):(u.dom=n.dom,u.domSize=n.domSize)}function x(i,n,u){for(var p=Object.create(null);n<u;n++){var h=i[n];if(h!=null){var m=h.key;m!=null&&(p[m]=n)}}return p}var O=[];function J(i){for(var n=[0],u=0,p=0,h=0,m=O.length=i.length,h=0;h<m;h++)O[h]=i[h];for(var h=0;h<m;++h)if(i[h]!==-1){var P=n[n.length-1];if(i[P]<i[h]){O[h]=P,n.push(h);continue}for(u=0,p=n.length-1;u<p;){var S=(u>>>1)+(p>>>1)+(u&p&1);i[n[S]]<i[h]?u=S+1:p=S}i[h]<i[n[u]]&&(u>0&&(O[h]=n[u-1]),n[u]=h)}for(u=n.length,p=n[u-1];u-- >0;)n[u]=p,p=O[p];return O.length=0,n}function Y(i,n,u){for(;n<i.length;n++)if(i[n]!=null&&i[n].dom!=null)return i[n].dom;return u}function ie(i,n,u){var p=t.createDocumentFragment();re(i,p,n),Z(i,p,u)}function re(i,n,u){for(;u.dom!=null&&u.dom.parentNode===i;){if(typeof u.tag!="string"){if(u=u.instance,u!=null)continue}else if(u.tag==="<")for(var p=0;p<u.instance.length;p++)n.appendChild(u.instance[p]);else if(u.tag!=="[")n.appendChild(u.dom);else if(u.children.length===1){if(u=u.children[0],u!=null)continue}else for(var p=0;p<u.children.length;p++){var h=u.children[p];h!=null&&re(i,n,h)}break}}function Z(i,n,u){u!=null?i.insertBefore(n,u):i.appendChild(n)}function Ye(i){if(i.attrs==null||i.attrs.contenteditable==null&&i.attrs.contentEditable==null)return!1;var n=i.children;if(n!=null&&n.length===1&&n[0].tag==="<"){var u=n[0].children;i.dom.innerHTML!==u&&(i.dom.innerHTML=u)}else if(n!=null&&n.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function fe(i,n,u,p){for(var h=u;h<p;h++){var m=n[h];m!=null&&ye(i,m)}}function ye(i,n){var u=0,p=n.state,h,m;if(typeof n.tag!="string"&&typeof n.state.onbeforeremove=="function"){var P=o.call(n.state.onbeforeremove,n);P!=null&&typeof P.then=="function"&&(u=1,h=P)}if(n.attrs&&typeof n.attrs.onbeforeremove=="function"){var P=o.call(n.attrs.onbeforeremove,n);P!=null&&typeof P.then=="function"&&(u|=2,m=P)}if(f(n,p),!u)we(n),xe(i,n);else{if(h!=null){var S=function(){u&1&&(u&=2,u||v())};h.then(S,S)}if(m!=null){var S=function(){u&2&&(u&=1,u||v())};m.then(S,S)}}function v(){f(n,p),we(n),xe(i,n)}}function Ze(i,n){for(var u=0;u<n.instance.length;u++)i.removeChild(n.instance[u])}function xe(i,n){for(;n.dom!=null&&n.dom.parentNode===i;){if(typeof n.tag!="string"){if(n=n.instance,n!=null)continue}else if(n.tag==="<")Ze(i,n);else{if(n.tag!=="["&&(i.removeChild(n.dom),!Array.isArray(n.children)))break;if(n.children.length===1){if(n=n.children[0],n!=null)continue}else for(var u=0;u<n.children.length;u++){var p=n.children[u];p!=null&&xe(i,p)}}break}}function we(i){if(typeof i.tag!="string"&&typeof i.state.onremove=="function"&&o.call(i.state.onremove,i),i.attrs&&typeof i.attrs.onremove=="function"&&o.call(i.attrs.onremove,i),typeof i.tag!="string")i.instance!=null&&we(i.instance);else{var n=i.children;if(Array.isArray(n))for(var u=0;u<n.length;u++){var p=n[u];p!=null&&we(p)}}}function tr(i,n,u){i.tag==="input"&&n.type!=null&&i.dom.setAttribute("type",n.type);var p=n!=null&&i.tag==="input"&&n.type==="file";for(var h in n)$e(i,h,null,n[h],u,p)}function $e(i,n,u,p,h,m){if(!(n==="key"||n==="is"||p==null||et(n)||u===p&&!ar(i,n)&&typeof p!="object"||n==="type"&&i.tag==="input")){if(n[0]==="o"&&n[1]==="n")return nt(i,n,p);if(n.slice(0,6)==="xlink:")i.dom.setAttributeNS("http://www.w3.org/1999/xlink",n.slice(6),p);else if(n==="style")rt(i.dom,u,p);else if(tt(i,n,h)){if(n==="value"){if((i.tag==="input"||i.tag==="textarea")&&i.dom.value===""+p&&(m||i.dom===l())||i.tag==="select"&&u!==null&&i.dom.value===""+p||i.tag==="option"&&u!==null&&i.dom.value===""+p)return;if(m&&""+p!=""){console.error("`value` is read-only on file inputs!");return}}i.dom[n]=p}else typeof p=="boolean"?p?i.dom.setAttribute(n,""):i.dom.removeAttribute(n):i.dom.setAttribute(n==="className"?"class":n,p)}}function rr(i,n,u,p){if(!(n==="key"||n==="is"||u==null||et(n)))if(n[0]==="o"&&n[1]==="n")nt(i,n,void 0);else if(n==="style")rt(i.dom,u,null);else if(tt(i,n,p)&&n!=="className"&&n!=="title"&&!(n==="value"&&(i.tag==="option"||i.tag==="select"&&i.dom.selectedIndex===-1&&i.dom===l()))&&!(i.tag==="input"&&n==="type"))i.dom[n]=null;else{var h=n.indexOf(":");h!==-1&&(n=n.slice(h+1)),u!==!1&&i.dom.removeAttribute(n==="className"?"class":n)}}function nr(i,n){if("value"in n)if(n.value===null)i.dom.selectedIndex!==-1&&(i.dom.value=null);else{var u=""+n.value;(i.dom.value!==u||i.dom.selectedIndex===-1)&&(i.dom.value=u)}"selectedIndex"in n&&$e(i,"selectedIndex",null,n.selectedIndex,void 0)}function ir(i,n,u,p){if(n&&n===u&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),u!=null){i.tag==="input"&&u.type!=null&&i.dom.setAttribute("type",u.type);var h=i.tag==="input"&&u.type==="file";for(var m in u)$e(i,m,n&&n[m],u[m],p,h)}var P;if(n!=null)for(var m in n)(P=n[m])!=null&&(u==null||u[m]==null)&&rr(i,m,P,p)}function ar(i,n){return n==="value"||n==="checked"||n==="selectedIndex"||n==="selected"&&i.dom===l()||i.tag==="option"&&i.dom.parentNode===t.activeElement}function et(i){return i==="oninit"||i==="oncreate"||i==="onupdate"||i==="onremove"||i==="onbeforeremove"||i==="onbeforeupdate"}function tt(i,n,u){return u===void 0&&(i.tag.indexOf("-")>-1||i.attrs!=null&&i.attrs.is||n!=="href"&&n!=="list"&&n!=="form"&&n!=="width"&&n!=="height")&&n in i.dom}var ur=/[A-Z]/g;function or(i){return"-"+i.toLowerCase()}function Ie(i){return i[0]==="-"&&i[1]==="-"?i:i==="cssFloat"?"float":i.replace(ur,or)}function rt(i,n,u){if(n!==u)if(u==null)i.style.cssText="";else if(typeof u!="object")i.style.cssText=u;else if(n==null||typeof n!="object"){i.style.cssText="";for(var p in u){var h=u[p];h!=null&&i.style.setProperty(Ie(p),String(h))}}else{for(var p in u){var h=u[p];h!=null&&(h=String(h))!==String(n[p])&&i.style.setProperty(Ie(p),h)}for(var p in n)n[p]!=null&&u[p]==null&&i.style.removeProperty(Ie(p))}}function Ce(){this._=r}Ce.prototype=Object.create(null),Ce.prototype.handleEvent=function(i){var n=this["on"+i.type],u;typeof n=="function"?u=n.call(i.currentTarget,i):typeof n.handleEvent=="function"&&n.handleEvent(i),this._&&i.redraw!==!1&&(0,this._)(),u===!1&&(i.preventDefault(),i.stopPropagation())};function nt(i,n,u){if(i.events!=null){if(i.events._=r,i.events[n]===u)return;u!=null&&(typeof u=="function"||typeof u=="object")?(i.events[n]==null&&i.dom.addEventListener(n.slice(2),i.events,!1),i.events[n]=u):(i.events[n]!=null&&i.dom.removeEventListener(n.slice(2),i.events,!1),i.events[n]=void 0)}else u!=null&&(typeof u=="function"||typeof u=="object")&&(i.events=new Ce,i.dom.addEventListener(n.slice(2),i.events,!1),i.events[n]=u)}function Ne(i,n,u){typeof i.oninit=="function"&&o.call(i.oninit,n),typeof i.oncreate=="function"&&u.push(o.bind(i.oncreate,n))}function qe(i,n,u){typeof i.onupdate=="function"&&u.push(o.bind(i.onupdate,n))}function cr(i,n){do{if(i.attrs!=null&&typeof i.attrs.onbeforeupdate=="function"){var u=o.call(i.attrs.onbeforeupdate,i,n);if(u!==void 0&&!u)break}if(typeof i.tag!="string"&&typeof i.state.onbeforeupdate=="function"){var u=o.call(i.state.onbeforeupdate,i,n);if(u!==void 0&&!u)break}return!1}while(!1);return i.dom=n.dom,i.domSize=n.domSize,i.instance=n.instance,i.attrs=n.attrs,i.children=n.children,i.text=n.text,!0}var le;return function(i,n,u){if(!i)throw new TypeError("DOM element being rendered to does not exist.");if(le!=null&&i.contains(le))throw new TypeError("Node is currently being rendered to and thus is locked.");var p=r,h=le,m=[],P=l(),S=i.namespaceURI;le=i,r=typeof u=="function"?u:void 0;try{i.vnodes==null&&(i.textContent=""),n=Fe.normalizeChildren(Array.isArray(n)?n:[n]),z(i,i.vnodes,n,m,null,S==="http://www.w3.org/1999/xhtml"?void 0:S),i.vnodes=n,P!=null&&l()!==P&&typeof P.focus=="function"&&P.focus();for(var v=0;v<m.length;v++)m[v]()}finally{r=p,le=h}}},It=jr(typeof window!="undefined"?window:null),ut=te,Er=function(e,t,r){var a=[],c=!1,f=-1;function o(){for(f=0;f<a.length;f+=2)try{e(a[f],ut(a[f+1]),l)}catch(g){r.error(g)}f=-1}function l(){c||(c=!0,t(function(){c=!1,o()}))}l.sync=o;function s(g,y){if(y!=null&&y.view==null&&typeof y!="function")throw new TypeError("m.mount expects a component, not a vnode.");var d=a.indexOf(g);d>=0&&(a.splice(d,2),d<=f&&(f-=2),e(g,[])),y!=null&&(a.push(g,y),e(g,ut(y),l))}return{mount:s,redraw:l}},Ar=It,We=Er(Ar,typeof requestAnimationFrame!="undefined"?requestAnimationFrame:null,typeof console!="undefined"?console:null),Ct=function(e){if(Object.prototype.toString.call(e)!=="[object Object]")return"";var t=[];for(var r in e)a(r,e[r]);return t.join("&");function a(c,f){if(Array.isArray(f))for(var o=0;o<f.length;o++)a(c+"["+o+"]",f[o]);else if(Object.prototype.toString.call(f)==="[object Object]")for(var o in f)a(c+"["+o+"]",f[o]);else t.push(encodeURIComponent(c)+(f!=null&&f!==""?"="+encodeURIComponent(f):""))}},Or=Pe,Nt=Object.assign||function(e,t){for(var r in t)Or.call(t,r)&&(e[r]=t[r])},Sr=Ct,_r=Nt,Je=function(e,t){if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(t==null)return e;var r=e.indexOf("?"),a=e.indexOf("#"),c=a<0?e.length:a,f=r<0?c:r,o=e.slice(0,f),l={};_r(l,t);var s=o.replace(/:([^\/\.-]+)(\.{3})?/g,function(T,C,z){return delete l[C],t[C]==null?T:z?t[C]:encodeURIComponent(String(t[C]))}),g=s.indexOf("?"),y=s.indexOf("#"),d=y<0?s.length:y,b=g<0?d:g,k=s.slice(0,b);r>=0&&(k+=e.slice(r,c)),g>=0&&(k+=(r<0?"?":"&")+s.slice(g,d));var E=Sr(l);return E&&(k+=(r<0&&g<0?"?":"&")+E),a>=0&&(k+=e.slice(a)),y>=0&&(k+=(a<0?"":"&")+s.slice(y)),k},xr=Je,ot=Pe,$r=function(e,t,r){var a=0;function c(l){return new t(l)}c.prototype=t.prototype,c.__proto__=t;function f(l){return function(s,g){typeof s!="string"?(g=s,s=s.url):g==null&&(g={});var y=new t(function(E,T){l(xr(s,g.params),g,function(C){if(typeof g.type=="function")if(Array.isArray(C))for(var z=0;z<C.length;z++)C[z]=new g.type(C[z]);else C=new g.type(C);E(C)},T)});if(g.background===!0)return y;var d=0;function b(){--d===0&&typeof r=="function"&&r()}return k(y);function k(E){var T=E.then;return E.constructor=c,E.then=function(){d++;var C=T.apply(E,arguments);return C.then(b,function(z){if(b(),d===0)throw z}),k(C)},E}}}function o(l,s){for(var g in l.headers)if(ot.call(l.headers,g)&&g.toLowerCase()===s)return!0;return!1}return{request:f(function(l,s,g,y){var d=s.method!=null?s.method.toUpperCase():"GET",b=s.body,k=(s.serialize==null||s.serialize===JSON.serialize)&&!(b instanceof e.FormData||b instanceof e.URLSearchParams),E=s.responseType||(typeof s.extract=="function"?"":"json"),T=new e.XMLHttpRequest,C=!1,z=!1,W=T,$,j=T.abort;T.abort=function(){C=!0,j.call(this)},T.open(d,l,s.async!==!1,typeof s.user=="string"?s.user:void 0,typeof s.password=="string"?s.password:void 0),k&&b!=null&&!o(s,"content-type")&&T.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof s.deserialize!="function"&&!o(s,"accept")&&T.setRequestHeader("Accept","application/json, text/*"),s.withCredentials&&(T.withCredentials=s.withCredentials),s.timeout&&(T.timeout=s.timeout),T.responseType=E;for(var N in s.headers)ot.call(s.headers,N)&&T.setRequestHeader(N,s.headers[N]);T.onreadystatechange=function(A){if(!C&&A.target.readyState===4)try{var M=A.target.status>=200&&A.target.status<300||A.target.status===304||/^file:\/\//i.test(l),x=A.target.response,O;if(E==="json"){if(!A.target.responseType&&typeof s.extract!="function")try{x=JSON.parse(A.target.responseText)}catch{x=null}}else(!E||E==="text")&&x==null&&(x=A.target.responseText);if(typeof s.extract=="function"?(x=s.extract(A.target,s),M=!0):typeof s.deserialize=="function"&&(x=s.deserialize(x)),M)g(x);else{var J=function(){try{O=A.target.responseText}catch{O=x}var Y=new Error(O);Y.code=A.target.status,Y.response=x,y(Y)};T.status===0?setTimeout(function(){z||J()}):J()}}catch(Y){y(Y)}},T.ontimeout=function(A){z=!0;var M=new Error("Request timed out");M.code=A.target.status,y(M)},typeof s.config=="function"&&(T=s.config(T,s,l)||T,T!==W&&($=T.abort,T.abort=function(){C=!0,$.call(this)})),b==null?T.send():typeof s.serialize=="function"?T.send(s.serialize(b)):b instanceof e.FormData||b instanceof e.URLSearchParams?T.send(b):T.send(JSON.stringify(b))}),jsonp:f(function(l,s,g,y){var d=s.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+a++,b=e.document.createElement("script");e[d]=function(k){delete e[d],b.parentNode.removeChild(b),g(k)},b.onerror=function(){delete e[d],b.parentNode.removeChild(b),y(new Error("JSONP request failed"))},b.src=l+(l.indexOf("?")<0?"?":"&")+encodeURIComponent(s.callbackKey||"callback")+"="+encodeURIComponent(d),e.document.documentElement.appendChild(b)})}},Ir=ge.exports,Cr=We,Nr=$r(typeof window!="undefined"?window:null,Ir,Cr.redraw);function ct(e){try{return decodeURIComponent(e)}catch{return e}}var qt=function(e){if(e===""||e==null)return{};e.charAt(0)==="?"&&(e=e.slice(1));for(var t=e.split("&"),r={},a={},c=0;c<t.length;c++){var f=t[c].split("="),o=ct(f[0]),l=f.length===2?ct(f[1]):"";l==="true"?l=!0:l==="false"&&(l=!1);var s=o.split(/\]\[?|\[/),g=a;o.indexOf("[")>-1&&s.pop();for(var y=0;y<s.length;y++){var d=s[y],b=s[y+1],k=b==""||!isNaN(parseInt(b,10));if(d===""){var o=s.slice(0,y).join();r[o]==null&&(r[o]=Array.isArray(g)?g.length:0),d=r[o]++}else if(d==="__proto__")break;if(y===s.length-1)g[d]=l;else{var E=Object.getOwnPropertyDescriptor(g,d);E!=null&&(E=E.value),E==null&&(g[d]=E=k?[]:{}),g=E}}}return a},qr=qt,Ve=function(e){var t=e.indexOf("?"),r=e.indexOf("#"),a=r<0?e.length:r,c=t<0?a:t,f=e.slice(0,c).replace(/\/{2,}/g,"/");return f?(f[0]!=="/"&&(f="/"+f),f.length>1&&f[f.length-1]==="/"&&(f=f.slice(0,-1))):f="/",{path:f,params:t<0?{}:qr(e.slice(t+1,a))}},Rr=Ve,Lr=function(e){var t=Rr(e),r=Object.keys(t.params),a=[],c=new RegExp("^"+t.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(f,o,l){return o==null?"\\"+f:(a.push({k:o,r:l==="..."}),l==="..."?"(.*)":l==="."?"([^/]+)\\.":"([^/]+)"+(l||""))})+"$");return function(f){for(var o=0;o<r.length;o++)if(t.params[r[o]]!==f.params[r[o]])return!1;if(!a.length)return c.test(f.path);var l=c.exec(f.path);if(l==null)return!1;for(var o=0;o<a.length;o++)f.params[a[o].k]=a[o].r?l[o+1]:decodeURIComponent(l[o+1]);return!0}},ft=Pe,lt=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$"),Rt=function(e,t){var r={};if(t!=null)for(var a in e)ft.call(e,a)&&!lt.test(a)&&t.indexOf(a)<0&&(r[a]=e[a]);else for(var a in e)ft.call(e,a)&&!lt.test(a)&&(r[a]=e[a]);return r},zr=te,Mr=xt,Ur=ge.exports,st=Je,pt=Ve,Dr=Lr,Fr=Nt,Hr=Rt,He={};function Kr(e){try{return decodeURIComponent(e)}catch{return e}}var Br=function(e,t){var r=e==null?null:typeof e.setImmediate=="function"?e.setImmediate:e.setTimeout,a=Ur.resolve(),c=!1,f=!1,o=0,l,s,g=He,y,d,b,k,E={onbeforeupdate:function(){return o=o?2:1,!(!o||He===g)},onremove:function(){e.removeEventListener("popstate",z,!1),e.removeEventListener("hashchange",C,!1)},view:function(){if(!(!o||He===g)){var j=[zr(y,d.key,d)];return g&&(j=g.render(j[0])),j}}},T=$.SKIP={};function C(){c=!1;var j=e.location.hash;$.prefix[0]!=="#"&&(j=e.location.search+j,$.prefix[0]!=="?"&&(j=e.location.pathname+j,j[0]!=="/"&&(j="/"+j)));var N=j.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,Kr).slice($.prefix.length),A=pt(N);Fr(A.params,e.history.state);function M(O){console.error(O),W(s,null,{replace:!0})}x(0);function x(O){for(;O<l.length;O++)if(l[O].check(A)){var J=l[O].component,Y=l[O].route,ie=J,re=k=function(Z){if(re===k){if(Z===T)return x(O+1);y=Z!=null&&(typeof Z.view=="function"||typeof Z=="function")?Z:"div",d=A.params,b=N,k=null,g=J.render?J:null,o===2?t.redraw():(o=2,t.redraw.sync())}};J.view||typeof J=="function"?(J={},re(ie)):J.onmatch?a.then(function(){return J.onmatch(A.params,N,Y)}).then(re,N===s?null:M):re("div");return}if(N===s)throw new Error("Could not resolve default route "+s+".");W(s,null,{replace:!0})}}function z(){c||(c=!0,r(C))}function W(j,N,A){if(j=st(j,N),f){z();var M=A?A.state:null,x=A?A.title:null;A&&A.replace?e.history.replaceState(M,x,$.prefix+j):e.history.pushState(M,x,$.prefix+j)}else e.location.href=$.prefix+j}function $(j,N,A){if(!j)throw new TypeError("DOM element being rendered to does not exist.");if(l=Object.keys(A).map(function(x){if(x[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(x))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:x,component:A[x],check:Dr(x)}}),s=N,N!=null){var M=pt(N);if(!l.some(function(x){return x.check(M)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof e.history.pushState=="function"?e.addEventListener("popstate",z,!1):$.prefix[0]==="#"&&e.addEventListener("hashchange",C,!1),f=!0,t.mount(j,E),C()}return $.set=function(j,N,A){k!=null&&(A=A||{},A.replace=!0),k=null,W(j,N,A)},$.get=function(){return b},$.prefix="#!",$.Link={view:function(j){var N=Mr(j.attrs.selector||"a",Hr(j.attrs,["options","params","selector","onclick"]),j.children),A,M,x;return(N.attrs.disabled=Boolean(N.attrs.disabled))?(N.attrs.href=null,N.attrs["aria-disabled"]="true"):(A=j.attrs.options,M=j.attrs.onclick,x=st(N.attrs.href,j.attrs.params),N.attrs.href=$.prefix+x,N.attrs.onclick=function(O){var J;typeof M=="function"?J=M.call(O.currentTarget,O):M==null||typeof M!="object"||typeof M.handleEvent=="function"&&M.handleEvent(O),J!==!1&&!O.defaultPrevented&&(O.button===0||O.which===0||O.which===1)&&(!O.currentTarget.target||O.currentTarget.target==="_self")&&!O.ctrlKey&&!O.metaKey&&!O.shiftKey&&!O.altKey&&(O.preventDefault(),O.redraw=!1,$.set(x,null,A))}),N}},$.param=function(j){return d&&j!=null?d[j]:d},$},Wr=We,Jr=Br(typeof window!="undefined"?window:null,Wr),je=Pr,Lt=Nr,zt=We,B=function(){return je.apply(this,arguments)};B.m=je;B.trust=je.trust;B.fragment=je.fragment;B.Fragment="[";B.mount=zt.mount;B.route=Jr;B.render=It;B.redraw=zt.redraw;B.request=Lt.request;B.jsonp=Lt.jsonp;B.parseQueryString=qt;B.buildQueryString=Ct;B.parsePathname=Ve;B.buildPathname=Je;B.vnode=te;B.PromisePolyfill=$t;B.censor=Rt;var w=B;function q(e){return e!=null&&typeof e=="object"&&e["@@functional/placeholder"]===!0}function X(e){return function t(r){return arguments.length===0||q(r)?t:e.apply(this,arguments)}}function F(e){return function t(r,a){switch(arguments.length){case 0:return t;case 1:return q(r)?t:X(function(c){return e(r,c)});default:return q(r)&&q(a)?t:q(r)?X(function(c){return e(c,a)}):q(a)?X(function(c){return e(r,c)}):e(r,a)}}}function Ee(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(r){return t.apply(this,arguments)};case 2:return function(r,a){return t.apply(this,arguments)};case 3:return function(r,a,c){return t.apply(this,arguments)};case 4:return function(r,a,c,f){return t.apply(this,arguments)};case 5:return function(r,a,c,f,o){return t.apply(this,arguments)};case 6:return function(r,a,c,f,o,l){return t.apply(this,arguments)};case 7:return function(r,a,c,f,o,l,s){return t.apply(this,arguments)};case 8:return function(r,a,c,f,o,l,s,g){return t.apply(this,arguments)};case 9:return function(r,a,c,f,o,l,s,g,y){return t.apply(this,arguments)};case 10:return function(r,a,c,f,o,l,s,g,y,d){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function Mt(e,t,r){return function(){for(var a=[],c=0,f=e,o=0;o<t.length||c<arguments.length;){var l;o<t.length&&(!q(t[o])||c>=arguments.length)?l=t[o]:(l=arguments[c],c+=1),a[o]=l,q(l)||(f-=1),o+=1}return f<=0?r.apply(this,a):Ee(f,Mt(e,a,r))}}var Vr=F(function(t,r){return t===1?X(r):Ee(t,Mt(t,[],r))}),Xr=Vr;function Xe(e){return function t(r,a,c){switch(arguments.length){case 0:return t;case 1:return q(r)?t:F(function(f,o){return e(r,f,o)});case 2:return q(r)&&q(a)?t:q(r)?F(function(f,o){return e(f,a,o)}):q(a)?F(function(f,o){return e(r,f,o)}):X(function(f){return e(r,a,f)});default:return q(r)&&q(a)&&q(c)?t:q(r)&&q(a)?F(function(f,o){return e(f,o,c)}):q(r)&&q(c)?F(function(f,o){return e(f,a,o)}):q(a)&&q(c)?F(function(f,o){return e(r,f,o)}):q(r)?X(function(f){return e(f,a,c)}):q(a)?X(function(f){return e(r,f,c)}):q(c)?X(function(f){return e(r,a,f)}):e(r,a,c)}}}var Ae=Array.isArray||function(t){return t!=null&&t.length>=0&&Object.prototype.toString.call(t)==="[object Array]"};function Qr(e){return e!=null&&typeof e["@@transducer/step"]=="function"}function Ut(e,t,r){return function(){if(arguments.length===0)return r();var a=Array.prototype.slice.call(arguments,0),c=a.pop();if(!Ae(c)){for(var f=0;f<e.length;){if(typeof c[e[f]]=="function")return c[e[f]].apply(c,a);f+=1}if(Qr(c)){var o=t.apply(null,a);return o(c)}}return r.apply(this,arguments)}}var be={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}},Gr=F(function(t,r){return r>t?r:t}),Yr=Gr;function Zr(e,t){for(var r=0,a=t.length,c=Array(a);r<a;)c[r]=e(t[r]),r+=1;return c}function Oe(e){return Object.prototype.toString.call(e)==="[object String]"}var en=X(function(t){return Ae(t)?!0:!t||typeof t!="object"||Oe(t)?!1:t.nodeType===1?!!t.length:t.length===0?!0:t.length>0?t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1):!1}),tn=en,rn=function(){function e(t){this.f=t}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(t){return t},e.prototype["@@transducer/step"]=function(t,r){return this.f(t,r)},e}();function nn(e){return new rn(e)}var an=F(function(t,r){return Ee(t.length,function(){return t.apply(r,arguments)})}),un=an;function on(e,t,r){for(var a=0,c=r.length;a<c;){if(t=e["@@transducer/step"](t,r[a]),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}a+=1}return e["@@transducer/result"](t)}function ht(e,t,r){for(var a=r.next();!a.done;){if(t=e["@@transducer/step"](t,a.value),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}a=r.next()}return e["@@transducer/result"](t)}function gt(e,t,r,a){return e["@@transducer/result"](r[a](un(e["@@transducer/step"],e),t))}var mt=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator";function Qe(e,t,r){if(typeof e=="function"&&(e=nn(e)),tn(r))return on(e,t,r);if(typeof r["fantasy-land/reduce"]=="function")return gt(e,t,r,"fantasy-land/reduce");if(r[mt]!=null)return ht(e,t,r[mt]());if(typeof r.next=="function")return ht(e,t,r);if(typeof r.reduce=="function")return gt(e,t,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}var cn=function(){function e(t,r){this.xf=r,this.f=t}return e.prototype["@@transducer/init"]=be.init,e.prototype["@@transducer/result"]=be.result,e.prototype["@@transducer/step"]=function(t,r){return this.xf["@@transducer/step"](t,this.f(r))},e}(),fn=F(function(t,r){return new cn(t,r)}),ln=fn;function ke(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var yt=Object.prototype.toString,sn=function(){return yt.call(arguments)==="[object Arguments]"?function(t){return yt.call(t)==="[object Arguments]"}:function(t){return ke("callee",t)}}(),Dt=sn,pn=!{toString:null}.propertyIsEnumerable("toString"),wt=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],dt=function(){return arguments.propertyIsEnumerable("length")}(),hn=function(t,r){for(var a=0;a<t.length;){if(t[a]===r)return!0;a+=1}return!1},gn=X(typeof Object.keys=="function"&&!dt?function(t){return Object(t)!==t?[]:Object.keys(t)}:function(t){if(Object(t)!==t)return[];var r,a,c=[],f=dt&&Dt(t);for(r in t)ke(r,t)&&(!f||r!=="length")&&(c[c.length]=r);if(pn)for(a=wt.length-1;a>=0;)r=wt[a],ke(r,t)&&!hn(c,r)&&(c[c.length]=r),a-=1;return c}),Te=gn,mn=F(Ut(["fantasy-land/map","map"],ln,function(t,r){switch(Object.prototype.toString.call(r)){case"[object Function]":return Xr(r.length,function(){return t.call(this,r.apply(this,arguments))});case"[object Object]":return Qe(function(a,c){return a[c]=t(r[c]),a},{},Te(r));default:return Zr(t,r)}})),yn=mn,wn=Number.isInteger||function(t){return t<<0===t},dn=F(function(t,r){var a=t<0?r.length+t:t;return Oe(r)?r.charAt(a):r[a]}),Ft=dn,vn=F(function(t,r){return t.map(function(a){for(var c=r,f=0,o;f<a.length;){if(c==null)return;o=a[f],c=wn(o)?Ft(o,c):c[o],f+=1}return c})}),bn=vn,kn=F(function(t,r){return bn([t],r)[0]}),Tn=kn,Pn=F(function(t,r){return Tn([t],r)}),jn=Pn,En=F(function(t,r){return yn(jn(t),r)}),An=En,On=Xe(Qe),Ht=On,Sn=X(function(t){return t===null?"Null":t===void 0?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}),vt=Sn;function _n(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function Kt(e,t){return function(){var r=arguments.length;if(r===0)return t();var a=arguments[r-1];return Ae(a)||typeof a[e]!="function"?t.apply(this,arguments):a[e].apply(a,Array.prototype.slice.call(arguments,0,r-1))}}var xn=Xe(Kt("slice",function(t,r,a){return Array.prototype.slice.call(a,t,r)})),$n=xn,In=X(Kt("tail",$n(1,1/0))),Cn=In;function Nn(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return Ee(arguments[0].length,Ht(_n,arguments[0],Cn(arguments)))}var qn=X(function(t){return Oe(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()}),Rn=qn;function Ln(){if(arguments.length===0)throw new Error("compose requires at least one argument");return Nn.apply(this,Rn(arguments))}var zn=Ft(0),Mn=zn;function bt(e){for(var t=[],r;!(r=e.next()).done;)t.push(r.value);return t}function kt(e,t,r){for(var a=0,c=r.length;a<c;){if(e(t,r[a]))return!0;a+=1}return!1}function Un(e){var t=String(e).match(/^function (\w*)/);return t==null?"":t[1]}function Dn(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ke=typeof Object.is=="function"?Object.is:Dn;function Tt(e,t,r,a){var c=bt(e),f=bt(t);function o(l,s){return Ge(l,s,r.slice(),a.slice())}return!kt(function(l,s){return!kt(o,s,l)},f,c)}function Ge(e,t,r,a){if(Ke(e,t))return!0;var c=vt(e);if(c!==vt(t)||e==null||t==null)return!1;if(typeof e["fantasy-land/equals"]=="function"||typeof t["fantasy-land/equals"]=="function")return typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t)&&typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e);if(typeof e.equals=="function"||typeof t.equals=="function")return typeof e.equals=="function"&&e.equals(t)&&typeof t.equals=="function"&&t.equals(e);switch(c){case"Arguments":case"Array":case"Object":if(typeof e.constructor=="function"&&Un(e.constructor)==="Promise")return e===t;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof t&&Ke(e.valueOf(),t.valueOf())))return!1;break;case"Date":if(!Ke(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(!(e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.sticky===t.sticky&&e.unicode===t.unicode))return!1;break}for(var f=r.length-1;f>=0;){if(r[f]===e)return a[f]===t;f-=1}switch(c){case"Map":return e.size!==t.size?!1:Tt(e.entries(),t.entries(),r.concat([e]),a.concat([t]));case"Set":return e.size!==t.size?!1:Tt(e.values(),t.values(),r.concat([e]),a.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var o=Te(e);if(o.length!==Te(t).length)return!1;var l=r.concat([e]),s=a.concat([t]);for(f=o.length-1;f>=0;){var g=o[f];if(!(ke(g,t)&&Ge(t[g],e[g],l,s)))return!1;f-=1}return!0}var Fn=F(function(t,r){return Ge(t,r,[],[])}),Bt=Fn;function Hn(e,t){for(var r=0,a=t.length,c=[];r<a;)e(t[r])&&(c[c.length]=t[r]),r+=1;return c}function Wt(e){return Object.prototype.toString.call(e)==="[object Object]"}var Kn=function(){function e(t,r){this.xf=r,this.f=t}return e.prototype["@@transducer/init"]=be.init,e.prototype["@@transducer/result"]=be.result,e.prototype["@@transducer/step"]=function(t,r){return this.f(r)?this.xf["@@transducer/step"](t,r):t},e}(),Bn=F(function(t,r){return new Kn(t,r)}),Wn=Bn,Jn=F(Ut(["filter"],Wn,function(e,t){return Wt(t)?Qe(function(r,a){return e(t[a])&&(r[a]=t[a]),r},{},Te(t)):Hn(e,t)})),Vn=Jn,Xn=X(function(t){return t!=null&&typeof t["fantasy-land/empty"]=="function"?t["fantasy-land/empty"]():t!=null&&t.constructor!=null&&typeof t.constructor["fantasy-land/empty"]=="function"?t.constructor["fantasy-land/empty"]():t!=null&&typeof t.empty=="function"?t.empty():t!=null&&t.constructor!=null&&typeof t.constructor.empty=="function"?t.constructor.empty():Ae(t)?[]:Oe(t)?"":Wt(t)?{}:Dt(t)?function(){return arguments}():void 0}),Qn=Xn,Gn=X(function(t){return t!=null&&Bt(t,Qn(t))}),Pt=Gn,Yn=Xe(function(t,r,a){return Bt(r,a[t])}),ce=Yn,Jt=typeof setImmediate!="undefined"?setImmediate:typeof process!="undefined"?process.nextTick:setTimeout,Zn=_;function _(e,t){this.fork=e,this.cleanup=t||function(){}}_.prototype.of=function(t){return new _(function(r,a){return a(t)})};_.of=_.prototype.of;_.prototype.rejected=function(t){return new _(function(r){return r(t)})};_.rejected=_.prototype.rejected;_.prototype.map=function(t){var r=this.fork,a=this.cleanup;return new _(function(c,f){return r(function(o){return c(o)},function(o){return f(t(o))})},a)};_.prototype.chain=function(t){var r=this.fork,a=this.cleanup;return new _(function(c,f){return r(function(o){return c(o)},function(o){return t(o).fork(c,f)})},a)};_.prototype.ap=function(t){var r=this.fork,a=t.fork,c=this.cleanup,f=t.cleanup;function o(l){c(l[0]),f(l[1])}return new _(function(l,s){var g,y=!1,d,b=!1,k=!1,E,T=r(W,z(function($){y=!0,g=$})),C=a(W,z(function($){b=!0,d=$}));function z($){return function(j){if(!k)return $(j),y&&b?(Jt(function(){o(E)}),s(g(d))):j}}function W($){if(!k)return k=!0,l($)}return E=[T,C]},o)};_.prototype.concat=function(t){var r=this.fork,a=t.fork,c=this.cleanup,f=t.cleanup;function o(l){c(l[0]),f(l[1])}return new _(function(l,s){var g=!1,y,d=r(k(l),k(s)),b=a(k(l),k(s));return y=[d,b];function k(E){return function(T){if(!g)return g=!0,Jt(function(){o(y)}),E(T)}}},o)};_.empty=function(){return new _(function(){})};_.prototype.empty=_.empty;_.prototype.toString=function(){return"Task"};_.prototype.orElse=function(t){var r=this.fork,a=this.cleanup;return new _(function(c,f){return r(function(o){return t(o).fork(c,f)},function(o){return f(o)})},a)};_.prototype.fold=function(t,r){var a=this.fork,c=this.cleanup;return new _(function(f,o){return a(function(l){return o(t(l))},function(l){return o(r(l))})},c)};_.prototype.cata=function(t){return this.fold(t.Rejected,t.Resolved)};_.prototype.swap=function(){var t=this.fork,r=this.cleanup;return new _(function(a,c){return t(function(f){return c(f)},function(f){return a(f)})},r)};_.prototype.bimap=function(t,r){var a=this.fork,c=this.cleanup;return new _(function(f,o){return a(function(l){return f(t(l))},function(l){return o(r(l))})},c)};_.prototype.rejectedMap=function(t){var r=this.fork,a=this.cleanup;return new _(function(c,f){return r(function(o){return c(t(o))},function(o){return f(o)})},a)};var Vt=Zn;const ei="https://boazblake-trello-rqcnrtrbjd90.deno.dev/",ti={"Content-Type":"application/json"},ri=e=>t=>r=>t(JSON.parse(JSON.stringify(r))),ni=e=>t=>r=>t(r),ve=e=>t=>r=>a=>new Vt((c,f)=>w.request({method:e,url:ei+r,headers:ti,body:a,withCredentials:!1}).then(ni()(f),ri()(c))),ii={getTask:(e,t)=>ve("GET")(e)(t)(),postTask:(e,t,r)=>ve("POST")(e)(t)(r),putTask:(e,t,r)=>ve("PUT")(e)(t)(r),deleteTask:(e,t)=>ve("DELETE")(e)(t)()},Se=()=>"xxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e=="x"?t:t&3|8;return r.toString(16)}),Xt=e=>t=>(console.log(e,t),t);window.log=Xt;const ai=e=>`${e.currentProject.title.slice(0,3).toUpperCase()}-`,ui=e=>{var t;return e.projects.find(ce("id",(t=e.currentProject)==null?void 0:t.id))||e.projects[0]},ee=e=>{const t=o=>o.http.getTask(o,"projects"),r=o=>o.http.getTask(o,"tickets"),a=o=>o.http.getTask(o,"issues"),c=({projects:o,tickets:l,issues:s})=>{let g=l.map(y=>(y.issues=s.filter(ce("ticketId",y.id)).sort((d,b)=>d.order-b.order),y)).sort((y,d)=>y.order-d.order);return{tickets:g,projects:o.map(y=>(y.tickets=g.filter(ce("projectId",y.id)).sort((d,b)=>d.order-b.order),y)),issues:s}},f=({projects:o,tickets:l,issues:s})=>{e.projects=o,e.tickets=l,e.issues=s,e.currentProject=ui(e)};Vt.of(o=>l=>s=>c({projects:o,tickets:l,issues:s})).ap(t(e)).ap(r(e)).ap(a(e)).fork(Xt("error"),f)},oi=(e,t=0)=>({id:Se(),title:"",text:"",ticketId:e,order:t}),ci=(e,t,r=0)=>({id:Se(),title:e,order:r,projectId:t}),fi=(e,t=0)=>({title:e,id:Se(),order:t}),me={state:{},http:ii,settings:{},state:{dragging:{oldTicketId:"",issueId:""},ticketIds:[],issues:[],showModal:!1,modalContent:null},projects:[],tickets:[],issues:[],currentProject:null},li=(e,t)=>{let r=fi(t.title);const a=log("error"),c=f=>{t.title="",e.state.showModal=!1,ee(e)};e.http.postTask(e,"projects",r).fork(a,c)},Qt=()=>{const e={title:""};return{view:({attrs:{mdl:t}})=>w("form.w3-container.w3-card.w3-white.w3-animate-zoom",{onsubmit:r=>r.preventDefault()},w("div.w3-section",w("label",w("b","Project Title")),w("input.w3-input.w3-border-bottom",{type:"text",value:e.title,oninput:r=>e.title=r.target.value})),w("button.w3-button.w3-block.w3-orange.w3-section.w3-padding",{onclick:()=>li(t,e)},"add"))}},he=new Set,si=(e,t)=>{e.http.deleteTask(e,`projects/${t}`).fork(log("error deleteing"),()=>ee(e))},pi=(e,t)=>{e.http.deleteTask(e,`tickets/${t}`).fork(log("error deleteing"),()=>ee(e))},hi=(e,t)=>Promise.resolve(e.setTicket(t)),jt=(e,t,r)=>Promise.resolve(e.currentProject=r).then(()=>t.toggleSideBar(t)),gi=()=>({view:({attrs:{mdl:e,state:t}})=>w(".w3-sidebar#sidebar.w3-bar-block.w3-collapse.w3-card.w3-animate-left",{style:{width:"300px",display:t.sidebar.open?"block":"none"}},e.settings.profile!="desktop"&&w("button.w3-bar-item.w3-button.w3-large",{onclick:()=>t.toggleSideBar(t)},"Close "),w("button.w3-button.w3-orange",{onclick:()=>{e.state.modalContent=w(Qt,{mdl:e}),e.state.showModal=!0}},"New Project"),e.projects.map((r,a)=>w(".w3-right-align.w3-row",{key:r.id},w("button.w3-button.w3-left-align.w3-col",{class:e.currentProject.id==r.id?"w3-leftbar w3-border-orange w3-border-10":"",onclick:c=>{c.stopPropagation(),jt(e,t,r)}},w(".w3-left-align.w3-col.s4",w("button.pointer.w3-badge.w3-pink.w3-border-0.w3-circle.w3-hover-red.w3-left-align",{onclick:c=>{c.stopPropagation(),si(e,r.id)}},"x")),w("label.w3-label.w3-col.s4.w3-left-align.pointer",r.title),!Pt(r.tickets)&&w(".w3-col.s4.w3-right-align",{onclick:c=>{c.stopPropagation(),he.has(r.id)?he.delete(r.id):he.add(r.id)}},w("i.w3-btn.w3-circle",he.has(r.id)?"V":">"))),!Pt(r.tickets)&&w("ul.w3-list",{class:he.has(r.id)?"w3-show":"w3-hide",id:r.id},r.tickets.map((c,f)=>{var o;return c.title&&w(".w3-list-item.pointer.w3-row",{key:c.id,onclick:()=>{hi(t,c.id).then(()=>jt(e,t,r))}},w("button.pointer.w3-badge.w3-pink.w3-border-0.w3-circle.w3-hover-red.w3-left-align",{onclick:l=>{l.stopPropagation(),pi(e,c.id)}},"x"),w("label.w3-col s4",c.title),w(".w3-right-align.w3-col s4",w(".w3-tag w3-orange",(o=c.issues)==null?void 0:o.length)))})))))}),mi=(e,t)=>{const r=ci(ai(e),e.currentProject.id),a=log("error"),c=f=>{ee(e)};e.http.postTask(e,"tickets",r).fork(a,c)},yi=e=>{const t=r=>{console.log("update project",r),ee(e)};e.http.putTask(e,`projects/${e.currentProject.id}`,e.currentProject).fork(log("error"),t)},wi=()=>({view:({attrs:{mdl:e,state:t}})=>w("nav.w3-bar.w3-container.w3-padding.w3-fixed",w("button.w3-button.w3-hide-large.w3-border",{onclick:()=>t.toggleSideBar(t)},"MENU"),e.currentProject&&w(".w3-row w3-section",w(".m6 w3-left",w("input.w3-input w3-border-bottom w3-col",{oninput:r=>e.currentProject.title=r.target.value,placeholder:"project title",value:e.currentProject.title,onfocusout:()=>yi(e)})),w(".m3 w3-right",w("button. w3-button  w3-border w3-large w3-col",{onclick:()=>mi(e)},"Add Ticket"))))}),di=e=>t=>r=>{e.state.dragging.issue=t,e.state.dragging.oldTicketId=t.ticketId},Et=(e,t)=>{const r=a=>{console.log("updated issue",a),ee(e)};e.http.putTask(e,`issues/${t.id}`,t).fork(log("error"),r)},vi=()=>({view:({attrs:{issue:e,mdl:t}})=>w("li.w3-list-item.w3-leftbar w3-border-orange.w3-hover-orange",{id:e.id,draggable:!0,ondragstart:di(t)(e)},w("input.w3-input",{oninput:r=>e.title=r.target.value,onfocusout:r=>Et(t,e),placeholder:"issue",value:e.title}),w("textarea.w3-input",{oninput:r=>e.text=r.target.value,onfocusout:r=>Et(t,e),placeholder:"text",value:e.text}))}),bi=e=>t=>r=>{if(r.preventDefault(),!t.isSelected){let a=Ln(Ht(Yr,0),An("order"),Vn(ce("ticketId",t.ticketId)))(e.issues),c=e.state.dragging.issue;console.log("issues",a,c,t),c.ticketId=t.ticketId,c.order=a;const f=o=>{ee(e),t.highlight=!1};return e.http.putTask(e,`issues/${c.id}`,c).fork(log("error"),f),e}},ki=e=>t=>r=>{t.isSelected?t.highlight=!1:t.highlight=!0,r.preventDefault()},Ti=e=>t=>r=>(t.highlight=!0,r.preventDefault(),!0),Pi=e=>t=>r=>(t.highlight=!1,r.preventDefault(),!0),ji=e=>t=>r=>(t.highlight=!1,r.preventDefault(),!0),Ei=({attrs:{mdl:e,ticket:t}})=>{const r={highlight:!1,ticketId:t.id,title:t.title,issues:t.issues,isSelected:!1,togglePinSection:{onclick:()=>r.isSelected=!r.isSelected}},a=f=>o=>l=>{let s=oi(o);const g=y=>{ee(f)};f.http.postTask(f,"issues",s).fork(log("error"),g)},c=(f,o)=>{const l=s=>{console.log("update project",s),ee(f)};f.http.putTask(f,`tickets/${o.id}`,o).fork(log("error"),l)};return{view:({attrs:{ticket:f,mdl:o,key:l}})=>w("section.w3-section.w3-border-top.w3-border-left.w3-cell w3-cell-row.w3-row-padding",{key:l,style:{minWidth:"300px",width:"300px",height:"90vh"},id:f.id,class:r.highlight?"w3-orange":"",ondrop:bi(o)(r),ondragover:ki()(r),ondragenter:Ti()(r),ondragend:ji()(r),ondragleave:Pi()(r)},w(".w3-panel w3-cell ",w(".w3-row-padding",w("input.w3-input.w3-col.w3-large.w3-padding",{onfocusout:()=>c(o,f),oninput:s=>f.title=s.target.value,placeholder:"Ticket-Number",value:f.title}),w("button.w3-button w3-border w3-padding w3-col",{onclick:()=>a(o)(f.id)(Se())},"Add Issue"))),w(".w3-ul w3-paddings",Mn(o.currentProject.tickets.filter(ce("id",f.id))).issues.map((s,g)=>w(vi,{key:s.id,issue:s,mdl:o}))))}},Ai=()=>({view:({attrs:{mdl:e,state:t}})=>w("section.w3-section.w3-row w3-ul. w3-padding-row",{onupdate:({dom:r})=>{t.setTicket()&&(Array.from(r.children).find(ce("id",t.setTicket())).scrollIntoView({behavior:"smooth",block:"start",inline:"center"}),t.setTicket(null))},style:{height:"90vh",overflow:"auto"}},e.currentProject?e.currentProject.tickets.map((r,a)=>w(Ei,{key:a,ticket:r,mdl:e,state:t})):w("section.w3-section",w("button.w3-border-0 w3-button w3-panel.w3-display-middle w3-light-grey w3-col-1",{onclick:()=>{e.state.modalContent=w(Qt,{mdl:e}),e.state.showModal=!0}},"Create a Project to Begin")))}),Oi=({attrs:{mdl:e}})=>({view:()=>w(".w3-modal#modal",{onclick:t=>{t.target.id=="modal"&&(e.state.showModal=!1,e.state.modalContent=null)},style:{display:e.state.showModal?"block":"none"}},w("dialoge.w3-Modal.content w3-card",w(".w3-container",e.state.modalContent)))});L.SKIP={};L.lift=xi;L.scan=Si;L.merge=Gt;L.combine=_e;L.scanMerge=_i;L["fantasy-land/of"]=L;var At=!1;Object.defineProperty(L,"HALT",{get:function(){return At||console.log("HALT is deprecated and has been renamed to SKIP"),At=!0,L.SKIP}});function L(e){var t=[],r=[];function a(o){return arguments.length&&o!==L.SKIP&&(e=o,Ot(a)&&(a.changing(),a.state="active",t.forEach(function(l,s){l(r[s](e))}))),e}a.constructor=L,a.state=arguments.length&&e!==L.SKIP?"active":"pending",a.parents=[],a.changing=function(){Ot(a)&&(a.state="changing"),t.forEach(function(o){o.changing()})},a.map=function(o,l){var s=a.state==="active"&&l!==L.SKIP?L(o(e)):L();return s.parents.push(a),t.push(s),r.push(o),s};var c;function f(){return c=L(),c.map(function(o){return o===!0&&(a.parents.forEach(function(l){l.unregisterChild(a)}),a.state="ended",a.parents.length=t.length=r.length=0),o}),c}return a.toJSON=function(){return e!=null&&typeof e.toJSON=="function"?e.toJSON():e},a["fantasy-land/map"]=a.map,a["fantasy-land/ap"]=function(o){return _e(function(l,s){return l()(s())},[o,a])},a.unregisterChild=function(o){var l=t.indexOf(o);l!==-1&&(t.splice(l,1),r.splice(l,1))},Object.defineProperty(a,"end",{get:function(){return c||f()}}),a}function _e(e,t){var r=t.every(function(l){if(l.constructor!==L)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return l.state==="active"}),a=r?L(e.apply(null,t.concat([t]))):L(),c=[],f=t.map(function(l){return l.map(function(s){return c.push(l),(r||t.every(function(g){return g.state!=="pending"}))&&(r=!0,a(e.apply(null,t.concat([c]))),c=[]),s},L.SKIP)}),o=a.end.map(function(l){l===!0&&(f.forEach(function(s){s.end(!0)}),o.end(!0))});return a}function Gt(e){return _e(function(){return e.map(function(t){return t()})},e)}function Si(e,t,r){var a=r.map(function(c){var f=e(t,c);return f!==L.SKIP&&(t=f),f});return a(t),a}function _i(e,t){var r=e.map(function(c){return c[0]}),a=_e(function(){var c=arguments[arguments.length-1];return r.forEach(function(f,o){c.indexOf(f)>-1&&(t=e[o][1](t,f()))}),t},r);return a(t),a}function xi(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Gt(t).map(function(r){return e.apply(void 0,r)})}function Ot(e){return e.state==="pending"||e.state==="active"||e.state==="changing"}const $i=(e,t)=>["desktop","tablet"].includes(t.settings.profile)||e.sidebar.open?"move-right":"",Ii=e=>{const t={sidebar:{open:!1},setTicket:L(null),observe:L(null),toggleSideBar:r=>r.sidebar.open=!r.sidebar.open};return ee(e),{view:()=>w("section.w3-theme",w(Oi,{mdl:e}),w(gi,{mdl:e,state:t}),w("section.w3-main#main",{style:{height:"100vh",overflow:"hidden"},class:$i(t,e)},w(wi,{mdl:e,state:t}),w(Ai,{mdl:e,state:t})))}},Ci=document.body;let Yt=window.innerWidth;"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./service-worker.js").then(e=>{console.log("\u2699\uFE0F SW registered: ",e)}).catch(e=>{console.log("\u{1F9DF} SW registration failed: ",e)})});const Zt=e=>e<=411?"phone":e<=990?"tablet":"desktop",er=e=>{const t=window.innerWidth;if(e!==t){e=t;var r=me.settings.profile;me.settings.profile=Zt(t),r!=me.settings.profile&&w.redraw()}return requestAnimationFrame(er)};me.settings.profile=Zt(Yt);er(Yt);w.mount(Ci,Ii(me));
