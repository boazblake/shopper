var Jr=Object.defineProperty;var In=Object.getOwnPropertySymbols;var Vr=Object.prototype.hasOwnProperty,Qr=Object.prototype.propertyIsEnumerable;var xn=(e,t,n)=>t in e?Jr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,An=(e,t)=>{for(var n in t||(t={}))Vr.call(t,n)&&xn(e,n,t[n]);if(In)for(var n of In(t))Qr.call(t,n)&&xn(e,n,t[n]);return e};const Zr=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};Zr();var Xt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function zt(e,t,n,r,i,o){return{tag:e,key:t,attrs:n,children:r,text:i,dom:o,domSize:void 0,state:void 0,events:void 0,instance:void 0}}zt.normalize=function(e){return Array.isArray(e)?zt("[",void 0,void 0,zt.normalizeChildren(e),void 0,void 0):e==null||typeof e=="boolean"?null:typeof e=="object"?e:zt("#",void 0,void 0,String(e),void 0,void 0)};zt.normalizeChildren=function(e){var t=[];if(e.length){for(var n=e[0]!=null&&e[0].key!=null,r=1;r<e.length;r++)if((e[r]!=null&&e[r].key!=null)!==n)throw new TypeError(n&&(e[r]!=null||typeof e[r]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var r=0;r<e.length;r++)t[r]=zt.normalize(e[r])}return t};var Ft=zt,ti=Ft,ur=function(){var e=arguments[this],t=this+1,n;if(e==null?e={}:(typeof e!="object"||e.tag!=null||Array.isArray(e))&&(e={},t=this),arguments.length===t+1)n=arguments[t],Array.isArray(n)||(n=[n]);else for(n=[];t<arguments.length;)n.push(arguments[t++]);return ti("",e.key,e,n)},Re={}.hasOwnProperty,ei=Ft,ni=ur,Wt=Re,ri=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,cr={};function Pn(e){for(var t in e)if(Wt.call(e,t))return!1;return!0}function ii(e){for(var t,n="div",r=[],i={};t=ri.exec(e);){var o=t[1],l=t[2];if(o===""&&l!=="")n=l;else if(o==="#")i.id=l;else if(o===".")r.push(l);else if(t[3][0]==="["){var u=t[6];u&&(u=u.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),t[4]==="class"?r.push(u):i[t[4]]=u===""?u:u||!0}}return r.length>0&&(i.className=r.join(" ")),cr[e]={tag:n,attrs:i}}function oi(e,t){var n=t.attrs,r=Wt.call(n,"class"),i=r?n.class:n.className;if(t.tag=e.tag,t.attrs={},!Pn(e.attrs)&&!Pn(n)){var o={};for(var l in n)Wt.call(n,l)&&(o[l]=n[l]);n=o}for(var l in e.attrs)Wt.call(e.attrs,l)&&l!=="className"&&!Wt.call(n,l)&&(n[l]=e.attrs[l]);(i!=null||e.attrs.className!=null)&&(n.className=i!=null?e.attrs.className!=null?String(e.attrs.className)+" "+String(i):i:e.attrs.className!=null?e.attrs.className:null),r&&(n.class=null);for(var l in n)if(Wt.call(n,l)&&l!=="key"){t.attrs=n;break}return t}function ai(e){if(e==null||typeof e!="string"&&typeof e!="function"&&typeof e.view!="function")throw Error("The selector must be either a string or a component.");var t=ni.apply(1,arguments);return typeof e=="string"&&(t.children=ei.normalizeChildren(t.children),e!=="[")?oi(cr[e]||ii(e),t):(t.tag=e,t)}var fr=ai,li=Ft,si=function(e){return e==null&&(e=""),li("<",void 0,void 0,e,void 0,void 0)},ui=Ft,ci=ur,fi=function(){var e=ci.apply(0,arguments);return e.tag="[",e.children=ui.normalizeChildren(e.children),e},hn=fr;hn.trust=si;hn.fragment=fi;var pi=hn,le={exports:{}},it=function(e){if(!(this instanceof it))throw new Error("Promise must be called with 'new'.");if(typeof e!="function")throw new TypeError("executor must be a function.");var t=this,n=[],r=[],i=f(n,!0),o=f(r,!1),l=t._instance={resolvers:n,rejectors:r},u=typeof setImmediate=="function"?setImmediate:setTimeout;function f(g,d){return function y(S){var E;try{if(d&&S!=null&&(typeof S=="object"||typeof S=="function")&&typeof(E=S.then)=="function"){if(S===t)throw new TypeError("Promise can't be resolved with itself.");p(E.bind(S))}else u(function(){!d&&g.length===0&&console.error("Possible unhandled promise rejection:",S);for(var b=0;b<g.length;b++)g[b](S);n.length=0,r.length=0,l.state=d,l.retry=function(){y(S)}})}catch(b){o(b)}}}function p(g){var d=0;function y(E){return function(b){d++>0||E(b)}}var S=y(o);try{g(y(i),S)}catch(E){S(E)}}p(e)};it.prototype.then=function(e,t){var n=this,r=n._instance;function i(f,p,g,d){p.push(function(y){if(typeof f!="function")g(y);else try{o(f(y))}catch(S){l&&l(S)}}),typeof r.retry=="function"&&d===r.state&&r.retry()}var o,l,u=new it(function(f,p){o=f,l=p});return i(e,r.resolvers,o,!0),i(t,r.rejectors,l,!1),u};it.prototype.catch=function(e){return this.then(null,e)};it.prototype.finally=function(e){return this.then(function(t){return it.resolve(e()).then(function(){return t})},function(t){return it.resolve(e()).then(function(){return it.reject(t)})})};it.resolve=function(e){return e instanceof it?e:new it(function(t){t(e)})};it.reject=function(e){return new it(function(t,n){n(e)})};it.all=function(e){return new it(function(t,n){var r=e.length,i=0,o=[];if(e.length===0)t([]);else for(var l=0;l<e.length;l++)(function(u){function f(p){i++,o[u]=p,i===r&&t(o)}e[u]!=null&&(typeof e[u]=="object"||typeof e[u]=="function")&&typeof e[u].then=="function"?e[u].then(f,n):f(e[u])})(l)})};it.race=function(e){return new it(function(t,n){for(var r=0;r<e.length;r++)e[r].then(t,n)})};var pr=it,re=pr;typeof window!="undefined"?(typeof window.Promise=="undefined"?window.Promise=re:window.Promise.prototype.finally||(window.Promise.prototype.finally=re.prototype.finally),le.exports=window.Promise):typeof Xt!="undefined"?(typeof Xt.Promise=="undefined"?Xt.Promise=re:Xt.Promise.prototype.finally||(Xt.Promise.prototype.finally=re.prototype.finally),le.exports=Xt.Promise):le.exports=re;var Ke=Ft,hi=function(e){var t=e&&e.document,n,r={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function i(s){return s.attrs&&s.attrs.xmlns||r[s.tag]}function o(s,a){if(s.state!==a)throw new Error("'vnode.state' must not be modified.")}function l(s){var a=s.state;try{return this.apply(a,arguments)}finally{o(s,a)}}function u(){try{return t.activeElement}catch{return null}}function f(s,a,c,h,w,T,A){for(var j=c;j<h;j++){var D=a[j];D!=null&&p(s,D,w,A,T)}}function p(s,a,c,h,w){var T=a.tag;if(typeof T=="string")switch(a.state={},a.attrs!=null&&ze(a.attrs,a,c),T){case"#":g(s,a,w);break;case"<":y(s,a,h,w);break;case"[":S(s,a,c,h,w);break;default:E(s,a,c,h,w)}else k(s,a,c,h,w)}function g(s,a,c){a.dom=t.createTextNode(a.children),et(s,a.dom,c)}var d={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function y(s,a,c,h){var w=a.children.match(/^\s*?<(\w+)/im)||[],T=t.createElement(d[w[1]]||"div");c==="http://www.w3.org/2000/svg"?(T.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+a.children+"</svg>",T=T.firstChild):T.innerHTML=a.children,a.dom=T.firstChild,a.domSize=T.childNodes.length,a.instance=[];for(var A=t.createDocumentFragment(),j;j=T.firstChild;)a.instance.push(j),A.appendChild(j);et(s,A,h)}function S(s,a,c,h,w){var T=t.createDocumentFragment();if(a.children!=null){var A=a.children;f(T,A,0,A.length,c,null,h)}a.dom=T.firstChild,a.domSize=T.childNodes.length,et(s,T,w)}function E(s,a,c,h,w){var T=a.tag,A=a.attrs,j=A&&A.is;h=i(a)||h;var D=h?j?t.createElementNS(h,T,{is:j}):t.createElementNS(h,T):j?t.createElement(T,{is:j}):t.createElement(T);if(a.dom=D,A!=null&&we(a,A,h),et(s,D,w),!Pt(a)&&a.children!=null){var B=a.children;f(D,B,0,B.length,c,null,h),a.tag==="select"&&A!=null&&Br(a,A)}}function b(s,a){var c;if(typeof s.tag.view=="function"){if(s.state=Object.create(s.tag),c=s.state.view,c.$$reentrantLock$$!=null)return;c.$$reentrantLock$$=!0}else{if(s.state=void 0,c=s.tag,c.$$reentrantLock$$!=null)return;c.$$reentrantLock$$=!0,s.state=s.tag.prototype!=null&&typeof s.tag.prototype.view=="function"?new s.tag(s):s.tag(s)}if(ze(s.state,s,a),s.attrs!=null&&ze(s.attrs,s,a),s.instance=Ke.normalize(l.call(s.state.view,s)),s.instance===s)throw Error("A view cannot return the vnode it received as argument");c.$$reentrantLock$$=null}function k(s,a,c,h,w){b(a,c),a.instance!=null?(p(s,a.instance,c,h,w),a.dom=a.instance.dom,a.domSize=a.dom!=null?a.instance.domSize:0):a.domSize=0}function q(s,a,c,h,w,T){if(!(a===c||a==null&&c==null))if(a==null||a.length===0)f(s,c,0,c.length,h,w,T);else if(c==null||c.length===0)ht(s,a,0,a.length);else{var A=a[0]!=null&&a[0].key!=null,j=c[0]!=null&&c[0].key!=null,D=0,B=0;if(!A)for(;B<a.length&&a[B]==null;)B++;if(!j)for(;D<c.length&&c[D]==null;)D++;if(A!==j)ht(s,a,B,a.length),f(s,c,D,c.length,h,w,T);else if(j){for(var ct=a.length-1,rt=c.length-1,ye,ft,Z,st,X,Xe;ct>=B&&rt>=D&&(st=a[ct],X=c[rt],st.key===X.key);)st!==X&&F(s,st,X,h,w,T),X.dom!=null&&(w=X.dom),ct--,rt--;for(;ct>=B&&rt>=D&&(ft=a[B],Z=c[D],ft.key===Z.key);)B++,D++,ft!==Z&&F(s,ft,Z,h,J(a,B,w),T);for(;ct>=B&&rt>=D&&!(D===rt||ft.key!==X.key||st.key!==Z.key);)Xe=J(a,B,w),yt(s,st,Xe),st!==Z&&F(s,st,Z,h,Xe,T),++D<=--rt&&yt(s,ft,w),ft!==X&&F(s,ft,X,h,w,T),X.dom!=null&&(w=X.dom),B++,ct--,st=a[ct],X=c[rt],ft=a[B],Z=c[D];for(;ct>=B&&rt>=D&&st.key===X.key;)st!==X&&F(s,st,X,h,w,T),X.dom!=null&&(w=X.dom),ct--,rt--,st=a[ct],X=c[rt];if(D>rt)ht(s,a,B,ct+1);else if(B>ct)f(s,c,D,rt+1,h,w,T);else{var Kr=w,On=rt-D+1,ne=new Array(On),Ue=0,V=0,Ye=2147483647,We=0,ye,Ge;for(V=0;V<On;V++)ne[V]=-1;for(V=rt;V>=D;V--){ye==null&&(ye=R(a,B,ct+1)),X=c[V];var Bt=ye[X.key];Bt!=null&&(Ye=Bt<Ye?Bt:-1,ne[V-D]=Bt,st=a[Bt],a[Bt]=null,st!==X&&F(s,st,X,h,w,T),X.dom!=null&&(w=X.dom),We++)}if(w=Kr,We!==ct-B+1&&ht(s,a,B,ct+1),We===0)f(s,c,D,rt+1,h,w,T);else if(Ye===-1)for(Ge=K(ne),Ue=Ge.length-1,V=rt;V>=D;V--)Z=c[V],ne[V-D]===-1?p(s,Z,h,T,w):Ge[Ue]===V-D?Ue--:yt(s,Z,w),Z.dom!=null&&(w=c[V].dom);else for(V=rt;V>=D;V--)Z=c[V],ne[V-D]===-1&&p(s,Z,h,T,w),Z.dom!=null&&(w=c[V].dom)}}else{var Be=a.length<c.length?a.length:c.length;for(D=D<B?D:B;D<Be;D++)ft=a[D],Z=c[D],!(ft===Z||ft==null&&Z==null)&&(ft==null?p(s,Z,h,T,J(a,D+1,w)):Z==null?Ot(s,ft):F(s,ft,Z,h,J(a,D+1,w),T));a.length>Be&&ht(s,a,D,a.length),c.length>Be&&f(s,c,D,c.length,h,w,T)}}}function F(s,a,c,h,w,T){var A=a.tag,j=c.tag;if(A===j){if(c.state=a.state,c.events=a.events,Gr(c,a))return;if(typeof A=="string")switch(c.attrs!=null&&He(c.attrs,c,h),A){case"#":N(a,c);break;case"<":_(s,a,c,T,w);break;case"[":M(s,a,c,h,w,T);break;default:C(a,c,h,T)}else H(s,a,c,h,w,T)}else Ot(s,a),p(s,c,h,T,w)}function N(s,a){s.children.toString()!==a.children.toString()&&(s.dom.nodeValue=a.children),a.dom=s.dom}function _(s,a,c,h,w){a.children!==c.children?(Nt(s,a),y(s,c,h,w)):(c.dom=a.dom,c.domSize=a.domSize,c.instance=a.instance)}function M(s,a,c,h,w,T){q(s,a.children,c.children,h,w,T);var A=0,j=c.children;if(c.dom=null,j!=null){for(var D=0;D<j.length;D++){var B=j[D];B!=null&&B.dom!=null&&(c.dom==null&&(c.dom=B.dom),A+=B.domSize||1)}A!==1&&(c.domSize=A)}}function C(s,a,c,h){var w=a.dom=s.dom;h=i(a)||h,a.tag==="textarea"&&a.attrs==null&&(a.attrs={}),Xr(a,s.attrs,a.attrs,h),Pt(a)||q(w,s.children,a.children,c,null,h)}function H(s,a,c,h,w,T){if(c.instance=Ke.normalize(l.call(c.state.view,c)),c.instance===c)throw Error("A view cannot return the vnode it received as argument");He(c.state,c,h),c.attrs!=null&&He(c.attrs,c,h),c.instance!=null?(a.instance==null?p(s,c.instance,h,T,w):F(s,a.instance,c.instance,h,w,T),c.dom=c.instance.dom,c.domSize=c.instance.domSize):a.instance!=null?(Ot(s,a.instance),c.dom=void 0,c.domSize=0):(c.dom=a.dom,c.domSize=a.domSize)}function R(s,a,c){for(var h=Object.create(null);a<c;a++){var w=s[a];if(w!=null){var T=w.key;T!=null&&(h[T]=a)}}return h}var O=[];function K(s){for(var a=[0],c=0,h=0,w=0,T=O.length=s.length,w=0;w<T;w++)O[w]=s[w];for(var w=0;w<T;++w)if(s[w]!==-1){var A=a[a.length-1];if(s[A]<s[w]){O[w]=A,a.push(w);continue}for(c=0,h=a.length-1;c<h;){var j=(c>>>1)+(h>>>1)+(c&h&1);s[a[j]]<s[w]?c=j+1:h=j}s[w]<s[a[c]]&&(c>0&&(O[w]=a[c-1]),a[c]=w)}for(c=a.length,h=a[c-1];c-- >0;)a[c]=h,h=O[h];return O.length=0,a}function J(s,a,c){for(;a<s.length;a++)if(s[a]!=null&&s[a].dom!=null)return s[a].dom;return c}function yt(s,a,c){var h=t.createDocumentFragment();at(s,h,a),et(s,h,c)}function at(s,a,c){for(;c.dom!=null&&c.dom.parentNode===s;){if(typeof c.tag!="string"){if(c=c.instance,c!=null)continue}else if(c.tag==="<")for(var h=0;h<c.instance.length;h++)a.appendChild(c.instance[h]);else if(c.tag!=="[")a.appendChild(c.dom);else if(c.children.length===1){if(c=c.children[0],c!=null)continue}else for(var h=0;h<c.children.length;h++){var w=c.children[h];w!=null&&at(s,a,w)}break}}function et(s,a,c){c!=null?s.insertBefore(a,c):s.appendChild(a)}function Pt(s){if(s.attrs==null||s.attrs.contenteditable==null&&s.attrs.contentEditable==null)return!1;var a=s.children;if(a!=null&&a.length===1&&a[0].tag==="<"){var c=a[0].children;s.dom.innerHTML!==c&&(s.dom.innerHTML=c)}else if(a!=null&&a.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function ht(s,a,c,h){for(var w=c;w<h;w++){var T=a[w];T!=null&&Ot(s,T)}}function Ot(s,a){var c=0,h=a.state,w,T;if(typeof a.tag!="string"&&typeof a.state.onbeforeremove=="function"){var A=l.call(a.state.onbeforeremove,a);A!=null&&typeof A.then=="function"&&(c=1,w=A)}if(a.attrs&&typeof a.attrs.onbeforeremove=="function"){var A=l.call(a.attrs.onbeforeremove,a);A!=null&&typeof A.then=="function"&&(c|=2,T=A)}if(o(a,h),!c)Zt(a),Qt(s,a);else{if(w!=null){var j=function(){c&1&&(c&=2,c||D())};w.then(j,j)}if(T!=null){var j=function(){c&2&&(c&=1,c||D())};T.then(j,j)}}function D(){o(a,h),Zt(a),Qt(s,a)}}function Nt(s,a){for(var c=0;c<a.instance.length;c++)s.removeChild(a.instance[c])}function Qt(s,a){for(;a.dom!=null&&a.dom.parentNode===s;){if(typeof a.tag!="string"){if(a=a.instance,a!=null)continue}else if(a.tag==="<")Nt(s,a);else{if(a.tag!=="["&&(s.removeChild(a.dom),!Array.isArray(a.children)))break;if(a.children.length===1){if(a=a.children[0],a!=null)continue}else for(var c=0;c<a.children.length;c++){var h=a.children[c];h!=null&&Qt(s,h)}}break}}function Zt(s){if(typeof s.tag!="string"&&typeof s.state.onremove=="function"&&l.call(s.state.onremove,s),s.attrs&&typeof s.attrs.onremove=="function"&&l.call(s.attrs.onremove,s),typeof s.tag!="string")s.instance!=null&&Zt(s.instance);else{var a=s.children;if(Array.isArray(a))for(var c=0;c<a.length;c++){var h=a[c];h!=null&&Zt(h)}}}function we(s,a,c){s.tag==="input"&&a.type!=null&&s.dom.setAttribute("type",a.type);var h=a!=null&&s.tag==="input"&&a.type==="file";for(var w in a)te(s,w,null,a[w],c,h)}function te(s,a,c,h,w,T){if(!(a==="key"||a==="is"||h==null||Tn(a)||c===h&&!Ur(s,a)&&typeof h!="object"||a==="type"&&s.tag==="input")){if(a[0]==="o"&&a[1]==="n")return Cn(s,a,h);if(a.slice(0,6)==="xlink:")s.dom.setAttributeNS("http://www.w3.org/1999/xlink",a.slice(6),h);else if(a==="style")Dn(s.dom,c,h);else if(_n(s,a,w)){if(a==="value"){if((s.tag==="input"||s.tag==="textarea")&&s.dom.value===""+h&&(T||s.dom===u())||s.tag==="select"&&c!==null&&s.dom.value===""+h||s.tag==="option"&&c!==null&&s.dom.value===""+h)return;if(T&&""+h!=""){console.error("`value` is read-only on file inputs!");return}}s.dom[a]=h}else typeof h=="boolean"?h?s.dom.setAttribute(a,""):s.dom.removeAttribute(a):s.dom.setAttribute(a==="className"?"class":a,h)}}function Hr(s,a,c,h){if(!(a==="key"||a==="is"||c==null||Tn(a)))if(a[0]==="o"&&a[1]==="n")Cn(s,a,void 0);else if(a==="style")Dn(s.dom,c,null);else if(_n(s,a,h)&&a!=="className"&&a!=="title"&&!(a==="value"&&(s.tag==="option"||s.tag==="select"&&s.dom.selectedIndex===-1&&s.dom===u()))&&!(s.tag==="input"&&a==="type"))s.dom[a]=null;else{var w=a.indexOf(":");w!==-1&&(a=a.slice(w+1)),c!==!1&&s.dom.removeAttribute(a==="className"?"class":a)}}function Br(s,a){if("value"in a)if(a.value===null)s.dom.selectedIndex!==-1&&(s.dom.value=null);else{var c=""+a.value;(s.dom.value!==c||s.dom.selectedIndex===-1)&&(s.dom.value=c)}"selectedIndex"in a&&te(s,"selectedIndex",null,a.selectedIndex,void 0)}function Xr(s,a,c,h){if(a&&a===c&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),c!=null){s.tag==="input"&&c.type!=null&&s.dom.setAttribute("type",c.type);var w=s.tag==="input"&&c.type==="file";for(var T in c)te(s,T,a&&a[T],c[T],h,w)}var A;if(a!=null)for(var T in a)(A=a[T])!=null&&(c==null||c[T]==null)&&Hr(s,T,A,h)}function Ur(s,a){return a==="value"||a==="checked"||a==="selectedIndex"||a==="selected"&&s.dom===u()||s.tag==="option"&&s.dom.parentNode===t.activeElement}function Tn(s){return s==="oninit"||s==="oncreate"||s==="onupdate"||s==="onremove"||s==="onbeforeremove"||s==="onbeforeupdate"}function _n(s,a,c){return c===void 0&&(s.tag.indexOf("-")>-1||s.attrs!=null&&s.attrs.is||a!=="href"&&a!=="list"&&a!=="form"&&a!=="width"&&a!=="height")&&a in s.dom}var Yr=/[A-Z]/g;function Wr(s){return"-"+s.toLowerCase()}function $e(s){return s[0]==="-"&&s[1]==="-"?s:s==="cssFloat"?"float":s.replace(Yr,Wr)}function Dn(s,a,c){if(a!==c)if(c==null)s.style.cssText="";else if(typeof c!="object")s.style.cssText=c;else if(a==null||typeof a!="object"){s.style.cssText="";for(var h in c){var w=c[h];w!=null&&s.style.setProperty($e(h),String(w))}}else{for(var h in c){var w=c[h];w!=null&&(w=String(w))!==String(a[h])&&s.style.setProperty($e(h),w)}for(var h in a)a[h]!=null&&c[h]==null&&s.style.removeProperty($e(h))}}function qe(){this._=n}qe.prototype=Object.create(null),qe.prototype.handleEvent=function(s){var a=this["on"+s.type],c;typeof a=="function"?c=a.call(s.currentTarget,s):typeof a.handleEvent=="function"&&a.handleEvent(s),this._&&s.redraw!==!1&&(0,this._)(),c===!1&&(s.preventDefault(),s.stopPropagation())};function Cn(s,a,c){if(s.events!=null){if(s.events._=n,s.events[a]===c)return;c!=null&&(typeof c=="function"||typeof c=="object")?(s.events[a]==null&&s.dom.addEventListener(a.slice(2),s.events,!1),s.events[a]=c):(s.events[a]!=null&&s.dom.removeEventListener(a.slice(2),s.events,!1),s.events[a]=void 0)}else c!=null&&(typeof c=="function"||typeof c=="object")&&(s.events=new qe,s.dom.addEventListener(a.slice(2),s.events,!1),s.events[a]=c)}function ze(s,a,c){typeof s.oninit=="function"&&l.call(s.oninit,a),typeof s.oncreate=="function"&&c.push(l.bind(s.oncreate,a))}function He(s,a,c){typeof s.onupdate=="function"&&c.push(l.bind(s.onupdate,a))}function Gr(s,a){do{if(s.attrs!=null&&typeof s.attrs.onbeforeupdate=="function"){var c=l.call(s.attrs.onbeforeupdate,s,a);if(c!==void 0&&!c)break}if(typeof s.tag!="string"&&typeof s.state.onbeforeupdate=="function"){var c=l.call(s.state.onbeforeupdate,s,a);if(c!==void 0&&!c)break}return!1}while(!1);return s.dom=a.dom,s.domSize=a.domSize,s.instance=a.instance,s.attrs=a.attrs,s.children=a.children,s.text=a.text,!0}var ee;return function(s,a,c){if(!s)throw new TypeError("DOM element being rendered to does not exist.");if(ee!=null&&s.contains(ee))throw new TypeError("Node is currently being rendered to and thus is locked.");var h=n,w=ee,T=[],A=u(),j=s.namespaceURI;ee=s,n=typeof c=="function"?c:void 0;try{s.vnodes==null&&(s.textContent=""),a=Ke.normalizeChildren(Array.isArray(a)?a:[a]),q(s,s.vnodes,a,T,null,j==="http://www.w3.org/1999/xhtml"?void 0:j),s.vnodes=a,A!=null&&u()!==A&&typeof A.focus=="function"&&A.focus();for(var D=0;D<T.length;D++)T[D]()}finally{n=h,ee=w}}},hr=hi(typeof window!="undefined"?window:null),Nn=Ft,di=function(e,t,n){var r=[],i=!1,o=-1;function l(){for(o=0;o<r.length;o+=2)try{e(r[o],Nn(r[o+1]),u)}catch(p){n.error(p)}o=-1}function u(){i||(i=!0,t(function(){i=!1,l()}))}u.sync=l;function f(p,g){if(g!=null&&g.view==null&&typeof g!="function")throw new TypeError("m.mount expects a component, not a vnode.");var d=r.indexOf(p);d>=0&&(r.splice(d,2),d<=o&&(o-=2),e(p,[])),g!=null&&(r.push(p,g),e(p,Nn(g),u))}return{mount:f,redraw:u}},gi=hr,dn=di(gi,typeof requestAnimationFrame!="undefined"?requestAnimationFrame:null,typeof console!="undefined"?console:null),dr=function(e){if(Object.prototype.toString.call(e)!=="[object Object]")return"";var t=[];for(var n in e)r(n,e[n]);return t.join("&");function r(i,o){if(Array.isArray(o))for(var l=0;l<o.length;l++)r(i+"["+l+"]",o[l]);else if(Object.prototype.toString.call(o)==="[object Object]")for(var l in o)r(i+"["+l+"]",o[l]);else t.push(encodeURIComponent(i)+(o!=null&&o!==""?"="+encodeURIComponent(o):""))}},mi=Re,gr=Object.assign||function(e,t){for(var n in t)mi.call(t,n)&&(e[n]=t[n])},wi=dr,yi=gr,gn=function(e,t){if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(t==null)return e;var n=e.indexOf("?"),r=e.indexOf("#"),i=r<0?e.length:r,o=n<0?i:n,l=e.slice(0,o),u={};yi(u,t);var f=l.replace(/:([^\/\.-]+)(\.{3})?/g,function(b,k,q){return delete u[k],t[k]==null?b:q?t[k]:encodeURIComponent(String(t[k]))}),p=f.indexOf("?"),g=f.indexOf("#"),d=g<0?f.length:g,y=p<0?d:p,S=f.slice(0,y);n>=0&&(S+=e.slice(n,i)),p>=0&&(S+=(n<0?"?":"&")+f.slice(p,d));var E=wi(u);return E&&(S+=(n<0&&p<0?"?":"&")+E),r>=0&&(S+=e.slice(r)),g>=0&&(S+=(r<0?"":"&")+f.slice(g)),S},vi=gn,kn=Re,bi=function(e,t,n){var r=0;function i(u){return new t(u)}i.prototype=t.prototype,i.__proto__=t;function o(u){return function(f,p){typeof f!="string"?(p=f,f=f.url):p==null&&(p={});var g=new t(function(E,b){u(vi(f,p.params),p,function(k){if(typeof p.type=="function")if(Array.isArray(k))for(var q=0;q<k.length;q++)k[q]=new p.type(k[q]);else k=new p.type(k);E(k)},b)});if(p.background===!0)return g;var d=0;function y(){--d===0&&typeof n=="function"&&n()}return S(g);function S(E){var b=E.then;return E.constructor=i,E.then=function(){d++;var k=b.apply(E,arguments);return k.then(y,function(q){if(y(),d===0)throw q}),S(k)},E}}}function l(u,f){for(var p in u.headers)if(kn.call(u.headers,p)&&p.toLowerCase()===f)return!0;return!1}return{request:o(function(u,f,p,g){var d=f.method!=null?f.method.toUpperCase():"GET",y=f.body,S=(f.serialize==null||f.serialize===JSON.serialize)&&!(y instanceof e.FormData||y instanceof e.URLSearchParams),E=f.responseType||(typeof f.extract=="function"?"":"json"),b=new e.XMLHttpRequest,k=!1,q=!1,F=b,N,_=b.abort;b.abort=function(){k=!0,_.call(this)},b.open(d,u,f.async!==!1,typeof f.user=="string"?f.user:void 0,typeof f.password=="string"?f.password:void 0),S&&y!=null&&!l(f,"content-type")&&b.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof f.deserialize!="function"&&!l(f,"accept")&&b.setRequestHeader("Accept","application/json, text/*"),f.withCredentials&&(b.withCredentials=f.withCredentials),f.timeout&&(b.timeout=f.timeout),b.responseType=E;for(var M in f.headers)kn.call(f.headers,M)&&b.setRequestHeader(M,f.headers[M]);b.onreadystatechange=function(C){if(!k&&C.target.readyState===4)try{var H=C.target.status>=200&&C.target.status<300||C.target.status===304||/^file:\/\//i.test(u),R=C.target.response,O;if(E==="json"){if(!C.target.responseType&&typeof f.extract!="function")try{R=JSON.parse(C.target.responseText)}catch{R=null}}else(!E||E==="text")&&R==null&&(R=C.target.responseText);if(typeof f.extract=="function"?(R=f.extract(C.target,f),H=!0):typeof f.deserialize=="function"&&(R=f.deserialize(R)),H)p(R);else{var K=function(){try{O=C.target.responseText}catch{O=R}var J=new Error(O);J.code=C.target.status,J.response=R,g(J)};b.status===0?setTimeout(function(){q||K()}):K()}}catch(J){g(J)}},b.ontimeout=function(C){q=!0;var H=new Error("Request timed out");H.code=C.target.status,g(H)},typeof f.config=="function"&&(b=f.config(b,f,u)||b,b!==F&&(N=b.abort,b.abort=function(){k=!0,N.call(this)})),y==null?b.send():typeof f.serialize=="function"?b.send(f.serialize(y)):y instanceof e.FormData||y instanceof e.URLSearchParams?b.send(y):b.send(JSON.stringify(y))}),jsonp:o(function(u,f,p,g){var d=f.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+r++,y=e.document.createElement("script");e[d]=function(S){delete e[d],y.parentNode.removeChild(y),p(S)},y.onerror=function(){delete e[d],y.parentNode.removeChild(y),g(new Error("JSONP request failed"))},y.src=u+(u.indexOf("?")<0?"?":"&")+encodeURIComponent(f.callbackKey||"callback")+"="+encodeURIComponent(d),e.document.documentElement.appendChild(y)})}},Ei=le.exports,Si=dn,Ti=bi(typeof window!="undefined"?window:null,Ei,Si.redraw);function Mn(e){try{return decodeURIComponent(e)}catch{return e}}var mr=function(e){if(e===""||e==null)return{};e.charAt(0)==="?"&&(e=e.slice(1));for(var t=e.split("&"),n={},r={},i=0;i<t.length;i++){var o=t[i].split("="),l=Mn(o[0]),u=o.length===2?Mn(o[1]):"";u==="true"?u=!0:u==="false"&&(u=!1);var f=l.split(/\]\[?|\[/),p=r;l.indexOf("[")>-1&&f.pop();for(var g=0;g<f.length;g++){var d=f[g],y=f[g+1],S=y==""||!isNaN(parseInt(y,10));if(d===""){var l=f.slice(0,g).join();n[l]==null&&(n[l]=Array.isArray(p)?p.length:0),d=n[l]++}else if(d==="__proto__")break;if(g===f.length-1)p[d]=u;else{var E=Object.getOwnPropertyDescriptor(p,d);E!=null&&(E=E.value),E==null&&(p[d]=E=S?[]:{}),p=E}}}return r},_i=mr,mn=function(e){var t=e.indexOf("?"),n=e.indexOf("#"),r=n<0?e.length:n,i=t<0?r:t,o=e.slice(0,i).replace(/\/{2,}/g,"/");return o?(o[0]!=="/"&&(o="/"+o),o.length>1&&o[o.length-1]==="/"&&(o=o.slice(0,-1))):o="/",{path:o,params:t<0?{}:_i(e.slice(t+1,r))}},Di=mn,Ci=function(e){var t=Di(e),n=Object.keys(t.params),r=[],i=new RegExp("^"+t.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(o,l,u){return l==null?"\\"+o:(r.push({k:l,r:u==="..."}),u==="..."?"(.*)":u==="."?"([^/]+)\\.":"([^/]+)"+(u||""))})+"$");return function(o){for(var l=0;l<n.length;l++)if(t.params[n[l]]!==o.params[n[l]])return!1;if(!r.length)return i.test(o.path);var u=i.exec(o.path);if(u==null)return!1;for(var l=0;l<r.length;l++)o.params[r[l].k]=r[l].r?u[l+1]:decodeURIComponent(u[l+1]);return!0}},Rn=Re,jn=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$"),wr=function(e,t){var n={};if(t!=null)for(var r in e)Rn.call(e,r)&&!jn.test(r)&&t.indexOf(r)<0&&(n[r]=e[r]);else for(var r in e)Rn.call(e,r)&&!jn.test(r)&&(n[r]=e[r]);return n},Oi=Ft,Ii=fr,xi=le.exports,Fn=gn,Ln=mn,Ai=Ci,Pi=gr,Ni=wr,Je={};function ki(e){try{return decodeURIComponent(e)}catch{return e}}var Mi=function(e,t){var n=e==null?null:typeof e.setImmediate=="function"?e.setImmediate:e.setTimeout,r=xi.resolve(),i=!1,o=!1,l=0,u,f,p=Je,g,d,y,S,E={onbeforeupdate:function(){return l=l?2:1,!(!l||Je===p)},onremove:function(){e.removeEventListener("popstate",q,!1),e.removeEventListener("hashchange",k,!1)},view:function(){if(!(!l||Je===p)){var _=[Oi(g,d.key,d)];return p&&(_=p.render(_[0])),_}}},b=N.SKIP={};function k(){i=!1;var _=e.location.hash;N.prefix[0]!=="#"&&(_=e.location.search+_,N.prefix[0]!=="?"&&(_=e.location.pathname+_,_[0]!=="/"&&(_="/"+_)));var M=_.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,ki).slice(N.prefix.length),C=Ln(M);Pi(C.params,e.history.state);function H(O){console.error(O),F(f,null,{replace:!0})}R(0);function R(O){for(;O<u.length;O++)if(u[O].check(C)){var K=u[O].component,J=u[O].route,yt=K,at=S=function(et){if(at===S){if(et===b)return R(O+1);g=et!=null&&(typeof et.view=="function"||typeof et=="function")?et:"div",d=C.params,y=M,S=null,p=K.render?K:null,l===2?t.redraw():(l=2,t.redraw.sync())}};K.view||typeof K=="function"?(K={},at(yt)):K.onmatch?r.then(function(){return K.onmatch(C.params,M,J)}).then(at,M===f?null:H):at("div");return}if(M===f)throw new Error("Could not resolve default route "+f+".");F(f,null,{replace:!0})}}function q(){i||(i=!0,n(k))}function F(_,M,C){if(_=Fn(_,M),o){q();var H=C?C.state:null,R=C?C.title:null;C&&C.replace?e.history.replaceState(H,R,N.prefix+_):e.history.pushState(H,R,N.prefix+_)}else e.location.href=N.prefix+_}function N(_,M,C){if(!_)throw new TypeError("DOM element being rendered to does not exist.");if(u=Object.keys(C).map(function(R){if(R[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(R))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:R,component:C[R],check:Ai(R)}}),f=M,M!=null){var H=Ln(M);if(!u.some(function(R){return R.check(H)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof e.history.pushState=="function"?e.addEventListener("popstate",q,!1):N.prefix[0]==="#"&&e.addEventListener("hashchange",k,!1),o=!0,t.mount(_,E),k()}return N.set=function(_,M,C){S!=null&&(C=C||{},C.replace=!0),S=null,F(_,M,C)},N.get=function(){return y},N.prefix="#!",N.Link={view:function(_){var M=Ii(_.attrs.selector||"a",Ni(_.attrs,["options","params","selector","onclick"]),_.children),C,H,R;return(M.attrs.disabled=Boolean(M.attrs.disabled))?(M.attrs.href=null,M.attrs["aria-disabled"]="true"):(C=_.attrs.options,H=_.attrs.onclick,R=Fn(M.attrs.href,_.attrs.params),M.attrs.href=N.prefix+R,M.attrs.onclick=function(O){var K;typeof H=="function"?K=H.call(O.currentTarget,O):H==null||typeof H!="object"||typeof H.handleEvent=="function"&&H.handleEvent(O),K!==!1&&!O.defaultPrevented&&(O.button===0||O.which===0||O.which===1)&&(!O.currentTarget.target||O.currentTarget.target==="_self")&&!O.ctrlKey&&!O.metaKey&&!O.shiftKey&&!O.altKey&&(O.preventDefault(),O.redraw=!1,N.set(R,null,C))}),M}},N.param=function(_){return d&&_!=null?d[_]:d},N},Ri=dn,ji=Mi(typeof window!="undefined"?window:null,Ri),je=pi,yr=Ti,vr=dn,ot=function(){return je.apply(this,arguments)};ot.m=je;ot.trust=je.trust;ot.fragment=je.fragment;ot.Fragment="[";ot.mount=vr.mount;ot.route=ji;ot.render=hr;ot.redraw=vr.redraw;ot.request=yr.request;ot.jsonp=yr.jsonp;ot.parseQueryString=mr;ot.buildQueryString=dr;ot.parsePathname=mn;ot.buildPathname=gn;ot.vnode=Ft;ot.PromisePolyfill=pr;ot.censor=wr;var m=ot;function W(e){return e!=null&&typeof e=="object"&&e["@@functional/placeholder"]===!0}function Tt(e){return function t(n){return arguments.length===0||W(n)?t:e.apply(this,arguments)}}function kt(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return W(n)?t:Tt(function(i){return e(n,i)});default:return W(n)&&W(r)?t:W(n)?Tt(function(i){return e(i,r)}):W(r)?Tt(function(i){return e(n,i)}):e(n,r)}}}function Fi(e){return function t(n,r,i){switch(arguments.length){case 0:return t;case 1:return W(n)?t:kt(function(o,l){return e(n,o,l)});case 2:return W(n)&&W(r)?t:W(n)?kt(function(o,l){return e(o,r,l)}):W(r)?kt(function(o,l){return e(n,o,l)}):Tt(function(o){return e(n,r,o)});default:return W(n)&&W(r)&&W(i)?t:W(n)&&W(r)?kt(function(o,l){return e(o,l,i)}):W(n)&&W(i)?kt(function(o,l){return e(o,r,l)}):W(r)&&W(i)?kt(function(o,l){return e(n,o,l)}):W(n)?Tt(function(o){return e(o,r,i)}):W(r)?Tt(function(o){return e(n,o,i)}):W(i)?Tt(function(o){return e(n,r,o)}):e(n,r,i)}}}function xe(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var $n=Object.prototype.toString,Li=function(){return $n.call(arguments)==="[object Arguments]"?function(t){return $n.call(t)==="[object Arguments]"}:function(t){return xe("callee",t)}}(),$i=Li,qi=!{toString:null}.propertyIsEnumerable("toString"),qn=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],zn=function(){return arguments.propertyIsEnumerable("length")}(),zi=function(t,n){for(var r=0;r<t.length;){if(t[r]===n)return!0;r+=1}return!1},Hi=Tt(typeof Object.keys=="function"&&!zn?function(t){return Object(t)!==t?[]:Object.keys(t)}:function(t){if(Object(t)!==t)return[];var n,r,i=[],o=zn&&$i(t);for(n in t)xe(n,t)&&(!o||n!=="length")&&(i[i.length]=n);if(qi)for(r=qn.length-1;r>=0;)n=qn[r],xe(n,t)&&!zi(i,n)&&(i[i.length]=n),r-=1;return i}),Hn=Hi,Bi=Tt(function(t){return t===null?"Null":t===void 0?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}),Bn=Bi;function Xn(e){for(var t=[],n;!(n=e.next()).done;)t.push(n.value);return t}function Un(e,t,n){for(var r=0,i=n.length;r<i;){if(e(t,n[r]))return!0;r+=1}return!1}function Xi(e){var t=String(e).match(/^function (\w*)/);return t==null?"":t[1]}function Ui(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ve=typeof Object.is=="function"?Object.is:Ui;function Yn(e,t,n,r){var i=Xn(e),o=Xn(t);function l(u,f){return wn(u,f,n.slice(),r.slice())}return!Un(function(u,f){return!Un(l,f,u)},o,i)}function wn(e,t,n,r){if(Ve(e,t))return!0;var i=Bn(e);if(i!==Bn(t)||e==null||t==null)return!1;if(typeof e["fantasy-land/equals"]=="function"||typeof t["fantasy-land/equals"]=="function")return typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t)&&typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e);if(typeof e.equals=="function"||typeof t.equals=="function")return typeof e.equals=="function"&&e.equals(t)&&typeof t.equals=="function"&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if(typeof e.constructor=="function"&&Xi(e.constructor)==="Promise")return e===t;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof t&&Ve(e.valueOf(),t.valueOf())))return!1;break;case"Date":if(!Ve(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(!(e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.sticky===t.sticky&&e.unicode===t.unicode))return!1;break}for(var o=n.length-1;o>=0;){if(n[o]===e)return r[o]===t;o-=1}switch(i){case"Map":return e.size!==t.size?!1:Yn(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size!==t.size?!1:Yn(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var l=Hn(e);if(l.length!==Hn(t).length)return!1;var u=n.concat([e]),f=r.concat([t]);for(o=l.length-1;o>=0;){var p=l[o];if(!(xe(p,t)&&wn(t[p],e[p],u,f)))return!1;o-=1}return!0}var Yi=kt(function(t,n){return wn(t,n,[],[])}),Wi=Yi,Gi=Fi(function(t,n,r){return Wi(n,r[t])}),bt=Gi,Ki=kt(function(t,n){return Array.prototype.slice.call(n,0).sort(function(r,i){var o=t(r),l=t(i);return o<l?-1:o>l?1:0})}),Ji=Ki,br=typeof setImmediate!="undefined"?setImmediate:typeof process!="undefined"?process.nextTick:setTimeout,Vi=$;function $(e,t){this.fork=e,this.cleanup=t||function(){}}$.prototype.of=function(t){return new $(function(n,r){return r(t)})};$.of=$.prototype.of;$.prototype.rejected=function(t){return new $(function(n){return n(t)})};$.rejected=$.prototype.rejected;$.prototype.map=function(t){var n=this.fork,r=this.cleanup;return new $(function(i,o){return n(function(l){return i(l)},function(l){return o(t(l))})},r)};$.prototype.chain=function(t){var n=this.fork,r=this.cleanup;return new $(function(i,o){return n(function(l){return i(l)},function(l){return t(l).fork(i,o)})},r)};$.prototype.ap=function(t){var n=this.fork,r=t.fork,i=this.cleanup,o=t.cleanup;function l(u){i(u[0]),o(u[1])}return new $(function(u,f){var p,g=!1,d,y=!1,S=!1,E,b=n(F,q(function(N){g=!0,p=N})),k=r(F,q(function(N){y=!0,d=N}));function q(N){return function(_){if(!S)return N(_),g&&y?(br(function(){l(E)}),f(p(d))):_}}function F(N){if(!S)return S=!0,u(N)}return E=[b,k]},l)};$.prototype.concat=function(t){var n=this.fork,r=t.fork,i=this.cleanup,o=t.cleanup;function l(u){i(u[0]),o(u[1])}return new $(function(u,f){var p=!1,g,d=n(S(u),S(f)),y=r(S(u),S(f));return g=[d,y];function S(E){return function(b){if(!p)return p=!0,br(function(){l(g)}),E(b)}}},l)};$.empty=function(){return new $(function(){})};$.prototype.empty=$.empty;$.prototype.toString=function(){return"Task"};$.prototype.orElse=function(t){var n=this.fork,r=this.cleanup;return new $(function(i,o){return n(function(l){return t(l).fork(i,o)},function(l){return o(l)})},r)};$.prototype.fold=function(t,n){var r=this.fork,i=this.cleanup;return new $(function(o,l){return r(function(u){return l(t(u))},function(u){return l(n(u))})},i)};$.prototype.cata=function(t){return this.fold(t.Rejected,t.Resolved)};$.prototype.swap=function(){var t=this.fork,n=this.cleanup;return new $(function(r,i){return t(function(o){return i(o)},function(o){return r(o)})},n)};$.prototype.bimap=function(t,n){var r=this.fork,i=this.cleanup;return new $(function(o,l){return r(function(u){return o(t(u))},function(u){return l(n(u))})},i)};$.prototype.rejectedMap=function(t){var n=this.fork,r=this.cleanup;return new $(function(i,o){return n(function(l){return i(t(l))},function(l){return o(l)})},r)};var Er=Vi;const Qi="https://shopper.deno.dev/",Zi={"Content-Type":"application/json"},to=e=>t=>n=>t(JSON.parse(JSON.stringify(n))),eo=e=>t=>n=>t(n),ve=e=>t=>n=>r=>new Er((i,o)=>m.request({method:e,url:Qi+n,headers:Zi,body:r,withCredentials:!1}).then(eo()(o),to()(i))),no={getTask:(e,t)=>ve("GET")(e)(t)(),postTask:(e,t,n)=>ve("POST")(e)(t)(n),putTask:(e,t,n)=>ve("PUT")(e)(t)(n),deleteTask:(e,t)=>ve("DELETE")(e)(t)()},yn=()=>"xxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)}),Sr=e=>t=>(console.log(e,t),t);window.log=Sr;G.SKIP={};G.lift=oo;G.scan=ro;G.merge=Tr;G.combine=Fe;G.scanMerge=io;G["fantasy-land/of"]=G;var Wn=!1;Object.defineProperty(G,"HALT",{get:function(){return Wn||console.log("HALT is deprecated and has been renamed to SKIP"),Wn=!0,G.SKIP}});function G(e){var t=[],n=[];function r(l){return arguments.length&&l!==G.SKIP&&(e=l,Gn(r)&&(r.changing(),r.state="active",t.forEach(function(u,f){u(n[f](e))}))),e}r.constructor=G,r.state=arguments.length&&e!==G.SKIP?"active":"pending",r.parents=[],r.changing=function(){Gn(r)&&(r.state="changing"),t.forEach(function(l){l.changing()})},r.map=function(l,u){var f=r.state==="active"&&u!==G.SKIP?G(l(e)):G();return f.parents.push(r),t.push(f),n.push(l),f};var i;function o(){return i=G(),i.map(function(l){return l===!0&&(r.parents.forEach(function(u){u.unregisterChild(r)}),r.state="ended",r.parents.length=t.length=n.length=0),l}),i}return r.toJSON=function(){return e!=null&&typeof e.toJSON=="function"?e.toJSON():e},r["fantasy-land/map"]=r.map,r["fantasy-land/ap"]=function(l){return Fe(function(u,f){return u()(f())},[l,r])},r.unregisterChild=function(l){var u=t.indexOf(l);u!==-1&&(t.splice(u,1),n.splice(u,1))},Object.defineProperty(r,"end",{get:function(){return i||o()}}),r}function Fe(e,t){var n=t.every(function(u){if(u.constructor!==G)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return u.state==="active"}),r=n?G(e.apply(null,t.concat([t]))):G(),i=[],o=t.map(function(u){return u.map(function(f){return i.push(u),(n||t.every(function(p){return p.state!=="pending"}))&&(n=!0,r(e.apply(null,t.concat([i]))),i=[]),f},G.SKIP)}),l=r.end.map(function(u){u===!0&&(o.forEach(function(f){f.end(!0)}),l.end(!0))});return r}function Tr(e){return Fe(function(){return e.map(function(t){return t()})},e)}function ro(e,t,n){var r=n.map(function(i){var o=e(t,i);return o!==G.SKIP&&(t=o),o});return r(t),r}function io(e,t){var n=e.map(function(i){return i[0]}),r=Fe(function(){var i=arguments[arguments.length-1];return n.forEach(function(o,l){i.indexOf(o)>-1&&(t=e[l][1](t,o()))}),t},n);return r(t),r}function oo(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Tr(t).map(function(n){return e.apply(void 0,n)})}function Gn(e){return e.state==="pending"||e.state==="active"||e.state==="changing"}const Ht=e=>{e.state.modalContent=null,e.state.showModal=!1},de=({content:e,mdl:t,opts:n})=>{t.state.modalContent={content:e,attrs:An({mdl:t},n)},t.state.showModal=!0},ao=["of them","bag(s)","box(s)","can(s)","gram(s)","kilogram(s)","pound(s)","liter(s)","mliter(s)","ounce(s)"],lo=e=>{var t;return e.stores.find(bt("id",(t=e.currentStore())==null?void 0:t.id))||e.stores[0]},so=Ji(bt("order")),Ct=e=>{const t=l=>l.http.getTask(l,"stores"),n=l=>l.http.getTask(l,"cats"),r=l=>l.http.getTask(l,"items"),i=({stores:l,cats:u,items:f})=>{let p=u.map(g=>(g.items=f.filter(bt("catId",g.id)).sort((d,y)=>d.order-y.order),g)).sort((g,d)=>g.order-d.order);return{cats:p,stores:so(l.map(g=>(g.cats=p.filter(bt("storeId",g.id)).sort((d,y)=>d.order-y.order),g))),items:f}},o=({stores:l,cats:u,items:f})=>{e.stores=l,e.cats=u,e.items=f,e.currentStore(lo(e))};Er.of(l=>u=>f=>i({stores:l,cats:u,items:f})).ap(t(e)).ap(n(e)).ap(r(e)).fork(Sr("error"),o)},uo=({catId:e,title:t,notes:n,quantity:r,unit:i,price:o,order:l})=>({id:yn(),title:t,notes:n,catId:e,order:l,quantity:r,unit:i,price:o,notes:n,purchased:!1}),co=(e,t,n=0)=>({id:yn(),title:e,order:n,storeId:t,collapsed:!1,dragCollapsed:!1}),fo=({title:e,order:t=0})=>({title:e,id:yn(),order:t}),se={state:{},http:no,settings:{},state:{dragItemList:{},dragCatList:{},dragging:{isDragging:!1,item:"",swapItem:""},catIds:[],items:[],showModal:!1,modalContent:null},stores:[],cats:[],items:[],currentStore:G(null)};/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kn(Object(n),!0).forEach(function(r){po(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _e(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_e=function(t){return typeof t}:_e=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_e(e)}function po(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xt(){return xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xt.apply(this,arguments)}function ho(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function go(e,t){if(e==null)return{};var n=ho(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}var mo="1.15.0";function It(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}var At=It(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ge=It(/Edge/i),Jn=It(/firefox/i),ue=It(/safari/i)&&!It(/chrome/i)&&!It(/android/i),_r=It(/iP(ad|od|hone)/i),Dr=It(/chrome/i)&&It(/android/i),Cr={capture:!1,passive:!1};function z(e,t,n){e.addEventListener(t,n,!At&&Cr)}function L(e,t,n){e.removeEventListener(t,n,!At&&Cr)}function Ae(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function wo(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function St(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&Ae(e,t):Ae(e,t))||r&&e===n)return e;if(e===n)break}while(e=wo(e))}return null}var Vn=/\s+/g;function gt(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(Vn," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(Vn," ")}}function x(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function Jt(e,t){var n="";if(typeof e=="string")n=e;else do{var r=x(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function Or(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function _t(){var e=document.scrollingElement;return e||document.documentElement}function nt(e,t,n,r,i){if(!(!e.getBoundingClientRect&&e!==window)){var o,l,u,f,p,g,d;if(e!==window&&e.parentNode&&e!==_t()?(o=e.getBoundingClientRect(),l=o.top,u=o.left,f=o.bottom,p=o.right,g=o.height,d=o.width):(l=0,u=0,f=window.innerHeight,p=window.innerWidth,g=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!At))do if(i&&i.getBoundingClientRect&&(x(i,"transform")!=="none"||n&&x(i,"position")!=="static")){var y=i.getBoundingClientRect();l-=y.top+parseInt(x(i,"border-top-width")),u-=y.left+parseInt(x(i,"border-left-width")),f=l+o.height,p=u+o.width;break}while(i=i.parentNode);if(r&&e!==window){var S=Jt(i||e),E=S&&S.a,b=S&&S.d;S&&(l/=b,u/=E,d/=E,g/=b,f=l+g,p=u+d)}return{top:l,left:u,bottom:f,right:p,width:d,height:g}}}function Qn(e,t,n){for(var r=jt(e,!0),i=nt(e)[t];r;){var o=nt(r)[n],l=void 0;if(n==="top"||n==="left"?l=i>=o:l=i<=o,!l)return r;if(r===_t())break;r=jt(r,!1)}return!1}function Vt(e,t,n,r){for(var i=0,o=0,l=e.children;o<l.length;){if(l[o].style.display!=="none"&&l[o]!==I.ghost&&(r||l[o]!==I.dragged)&&St(l[o],n.draggable,e,!1)){if(i===t)return l[o];i++}o++}return null}function vn(e,t){for(var n=e.lastElementChild;n&&(n===I.ghost||x(n,"display")==="none"||t&&!Ae(n,t));)n=n.previousElementSibling;return n||null}function vt(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==I.clone&&(!t||Ae(e,t))&&n++;return n}function Zn(e){var t=0,n=0,r=_t();if(e)do{var i=Jt(e),o=i.a,l=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*l}while(e!==r&&(e=e.parentNode));return[t,n]}function yo(e,t){for(var n in e)if(!!e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function jt(e,t){if(!e||!e.getBoundingClientRect)return _t();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=x(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return _t();if(r||t)return n;r=!0}}while(n=n.parentNode);return _t()}function vo(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Qe(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var ce;function Ir(e,t){return function(){if(!ce){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),ce=setTimeout(function(){ce=void 0},t)}}}function bo(){clearTimeout(ce),ce=void 0}function xr(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Ar(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var wt="Sortable"+new Date().getTime();function Eo(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(x(i,"display")==="none"||i===I.ghost)){e.push({target:i,rect:nt(i)});var o=Dt({},e[e.length-1].rect);if(i.thisAnimationDuration){var l=Jt(i,!0);l&&(o.top-=l.f,o.left-=l.e)}i.fromRect=o}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(yo(e,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var o=!1,l=0;e.forEach(function(u){var f=0,p=u.target,g=p.fromRect,d=nt(p),y=p.prevFromRect,S=p.prevToRect,E=u.rect,b=Jt(p,!0);b&&(d.top-=b.f,d.left-=b.e),p.toRect=d,p.thisAnimationDuration&&Qe(y,d)&&!Qe(g,d)&&(E.top-d.top)/(E.left-d.left)===(g.top-d.top)/(g.left-d.left)&&(f=To(E,y,S,i.options)),Qe(d,g)||(p.prevFromRect=g,p.prevToRect=d,f||(f=i.options.animation),i.animate(p,E,d,f)),f&&(o=!0,l=Math.max(l,f),clearTimeout(p.animationResetTimer),p.animationResetTimer=setTimeout(function(){p.animationTime=0,p.prevFromRect=null,p.fromRect=null,p.prevToRect=null,p.thisAnimationDuration=null},f),p.thisAnimationDuration=f)}),clearTimeout(t),o?t=setTimeout(function(){typeof r=="function"&&r()},l):typeof r=="function"&&r(),e=[]},animate:function(r,i,o,l){if(l){x(r,"transition",""),x(r,"transform","");var u=Jt(this.el),f=u&&u.a,p=u&&u.d,g=(i.left-o.left)/(f||1),d=(i.top-o.top)/(p||1);r.animatingX=!!g,r.animatingY=!!d,x(r,"transform","translate3d("+g+"px,"+d+"px,0)"),this.forRepaintDummy=So(r),x(r,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),x(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){x(r,"transition",""),x(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},l)}}}}function So(e){return e.offsetWidth}function To(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var Ut=[],Ze={initializeByDefault:!0},me={mount:function(t){for(var n in Ze)Ze.hasOwnProperty(n)&&!(n in t)&&(t[n]=Ze[n]);Ut.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Ut.push(t)},pluginEvent:function(t,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var o=t+"Global";Ut.forEach(function(l){!n[l.pluginName]||(n[l.pluginName][o]&&n[l.pluginName][o](Dt({sortable:n},r)),n.options[l.pluginName]&&n[l.pluginName][t]&&n[l.pluginName][t](Dt({sortable:n},r)))})},initializePlugins:function(t,n,r,i){Ut.forEach(function(u){var f=u.pluginName;if(!(!t.options[f]&&!u.initializeByDefault)){var p=new u(t,n,t.options);p.sortable=t,p.options=t.options,t[f]=p,xt(r,p.defaults)}});for(var o in t.options)if(!!t.options.hasOwnProperty(o)){var l=this.modifyOption(t,o,t.options[o]);typeof l!="undefined"&&(t.options[o]=l)}},getEventProperties:function(t,n){var r={};return Ut.forEach(function(i){typeof i.eventProperties=="function"&&xt(r,i.eventProperties.call(n[i.pluginName],t))}),r},modifyOption:function(t,n,r){var i;return Ut.forEach(function(o){!t[o.pluginName]||o.optionListeners&&typeof o.optionListeners[n]=="function"&&(i=o.optionListeners[n].call(t[o.pluginName],r))}),i}};function _o(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,o=e.cloneEl,l=e.toEl,u=e.fromEl,f=e.oldIndex,p=e.newIndex,g=e.oldDraggableIndex,d=e.newDraggableIndex,y=e.originalEvent,S=e.putSortable,E=e.extraEventProperties;if(t=t||n&&n[wt],!!t){var b,k=t.options,q="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!At&&!ge?b=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(r,!0,!0)),b.to=l||n,b.from=u||n,b.item=i||n,b.clone=o,b.oldIndex=f,b.newIndex=p,b.oldDraggableIndex=g,b.newDraggableIndex=d,b.originalEvent=y,b.pullMode=S?S.lastPutMode:void 0;var F=Dt(Dt({},E),me.getEventProperties(r,t));for(var N in F)b[N]=F[N];n&&n.dispatchEvent(b),k[q]&&k[q].call(t,b)}}var Do=["evt"],dt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,o=go(r,Do);me.pluginEvent.bind(I)(t,n,Dt({dragEl:v,parentEl:Q,ghostEl:P,rootEl:U,nextEl:qt,lastDownEl:De,cloneEl:Y,cloneHidden:Rt,dragStarted:ie,putSortable:lt,activeSortable:I.active,originalEvent:i,oldIndex:Kt,oldDraggableIndex:fe,newIndex:mt,newDraggableIndex:Mt,hideGhostForTarget:Mr,unhideGhostForTarget:Rr,cloneNowHidden:function(){Rt=!0},cloneNowShown:function(){Rt=!1},dispatchSortableEvent:function(u){pt({sortable:n,name:u,originalEvent:i})}},o))};function pt(e){_o(Dt({putSortable:lt,cloneEl:Y,targetEl:v,rootEl:U,oldIndex:Kt,oldDraggableIndex:fe,newIndex:mt,newDraggableIndex:Mt},e))}var v,Q,P,U,qt,De,Y,Rt,Kt,mt,fe,Mt,be,lt,Gt=!1,Pe=!1,Ne=[],Lt,Et,tn,en,tr,er,ie,Yt,pe,he=!1,Ee=!1,Ce,ut,nn=[],sn=!1,ke=[],Le=typeof document!="undefined",Se=_r,nr=ge||At?"cssFloat":"float",Co=Le&&!Dr&&!_r&&"draggable"in document.createElement("div"),Pr=function(){if(!!Le){if(At)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Nr=function(t,n){var r=x(t),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),o=Vt(t,0,n),l=Vt(t,1,n),u=o&&x(o),f=l&&x(l),p=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+nt(o).width,g=f&&parseInt(f.marginLeft)+parseInt(f.marginRight)+nt(l).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&u.float&&u.float!=="none"){var d=u.float==="left"?"left":"right";return l&&(f.clear==="both"||f.clear===d)?"vertical":"horizontal"}return o&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||p>=i&&r[nr]==="none"||l&&r[nr]==="none"&&p+g>i)?"vertical":"horizontal"},Oo=function(t,n,r){var i=r?t.left:t.top,o=r?t.right:t.bottom,l=r?t.width:t.height,u=r?n.left:n.top,f=r?n.right:n.bottom,p=r?n.width:n.height;return i===u||o===f||i+l/2===u+p/2},Io=function(t,n){var r;return Ne.some(function(i){var o=i[wt].options.emptyInsertThreshold;if(!(!o||vn(i))){var l=nt(i),u=t>=l.left-o&&t<=l.right+o,f=n>=l.top-o&&n<=l.bottom+o;if(u&&f)return r=i}}),r},kr=function(t){function n(o,l){return function(u,f,p,g){var d=u.options.group.name&&f.options.group.name&&u.options.group.name===f.options.group.name;if(o==null&&(l||d))return!0;if(o==null||o===!1)return!1;if(l&&o==="clone")return o;if(typeof o=="function")return n(o(u,f,p,g),l)(u,f,p,g);var y=(l?u:f).options.group.name;return o===!0||typeof o=="string"&&o===y||o.join&&o.indexOf(y)>-1}}var r={},i=t.group;(!i||_e(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,t.group=r},Mr=function(){!Pr&&P&&x(P,"display","none")},Rr=function(){!Pr&&P&&x(P,"display","")};Le&&!Dr&&document.addEventListener("click",function(e){if(Pe)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Pe=!1,!1},!0);var $t=function(t){if(v){t=t.touches?t.touches[0]:t;var n=Io(t.clientX,t.clientY);if(n){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[wt]._onDragOver(r)}}},xo=function(t){v&&v.parentNode[wt]._isOutsideThisEl(t.target)};function I(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=xt({},t),e[wt]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Nr(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,u){l.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:I.supportPointer!==!1&&"PointerEvent"in window&&!ue,emptyInsertThreshold:5};me.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);kr(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:Co,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?z(e,"pointerdown",this._onTapStart):(z(e,"mousedown",this._onTapStart),z(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(z(e,"dragover",this),z(e,"dragenter",this)),Ne.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),xt(this,Eo())}I.prototype={constructor:I,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Yt=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,v):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var n=this,r=this.el,i=this.options,o=i.preventOnFilter,l=t.type,u=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,f=(u||t).target,p=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||f,g=i.filter;if(Fo(r),!v&&!(/mousedown|pointerdown/.test(l)&&t.button!==0||i.disabled)&&!p.isContentEditable&&!(!this.nativeDraggable&&ue&&f&&f.tagName.toUpperCase()==="SELECT")&&(f=St(f,i.draggable,r,!1),!(f&&f.animated)&&De!==f)){if(Kt=vt(f),fe=vt(f,i.draggable),typeof g=="function"){if(g.call(this,t,f,this)){pt({sortable:n,rootEl:p,name:"filter",targetEl:f,toEl:r,fromEl:r}),dt("filter",n,{evt:t}),o&&t.cancelable&&t.preventDefault();return}}else if(g&&(g=g.split(",").some(function(d){if(d=St(p,d.trim(),r,!1),d)return pt({sortable:n,rootEl:d,name:"filter",targetEl:f,fromEl:r,toEl:r}),dt("filter",n,{evt:t}),!0}),g)){o&&t.cancelable&&t.preventDefault();return}i.handle&&!St(p,i.handle,r,!1)||this._prepareDragStart(t,u,f)}}},_prepareDragStart:function(t,n,r){var i=this,o=i.el,l=i.options,u=o.ownerDocument,f;if(r&&!v&&r.parentNode===o){var p=nt(r);if(U=o,v=r,Q=v.parentNode,qt=v.nextSibling,De=r,be=l.group,I.dragged=v,Lt={target:v,clientX:(n||t).clientX,clientY:(n||t).clientY},tr=Lt.clientX-p.left,er=Lt.clientY-p.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,v.style["will-change"]="all",f=function(){if(dt("delayEnded",i,{evt:t}),I.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Jn&&i.nativeDraggable&&(v.draggable=!0),i._triggerDragStart(t,n),pt({sortable:i,name:"choose",originalEvent:t}),gt(v,l.chosenClass,!0)},l.ignore.split(",").forEach(function(g){Or(v,g.trim(),rn)}),z(u,"dragover",$t),z(u,"mousemove",$t),z(u,"touchmove",$t),z(u,"mouseup",i._onDrop),z(u,"touchend",i._onDrop),z(u,"touchcancel",i._onDrop),Jn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,v.draggable=!0),dt("delayStart",this,{evt:t}),l.delay&&(!l.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(ge||At))){if(I.eventCanceled){this._onDrop();return}z(u,"mouseup",i._disableDelayedDrag),z(u,"touchend",i._disableDelayedDrag),z(u,"touchcancel",i._disableDelayedDrag),z(u,"mousemove",i._delayedDragTouchMoveHandler),z(u,"touchmove",i._delayedDragTouchMoveHandler),l.supportPointer&&z(u,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(f,l.delay)}else f()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){v&&rn(v),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;L(t,"mouseup",this._disableDelayedDrag),L(t,"touchend",this._disableDelayedDrag),L(t,"touchcancel",this._disableDelayedDrag),L(t,"mousemove",this._delayedDragTouchMoveHandler),L(t,"touchmove",this._delayedDragTouchMoveHandler),L(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?z(document,"pointermove",this._onTouchMove):n?z(document,"touchmove",this._onTouchMove):z(document,"mousemove",this._onTouchMove):(z(v,"dragend",this),z(U,"dragstart",this._onDragStart));try{document.selection?Oe(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Gt=!1,U&&v){dt("dragStarted",this,{evt:n}),this.nativeDraggable&&z(document,"dragover",xo);var r=this.options;!t&&gt(v,r.dragClass,!1),gt(v,r.ghostClass,!0),I.active=this,t&&this._appendGhost(),pt({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Et){this._lastX=Et.clientX,this._lastY=Et.clientY,Mr();for(var t=document.elementFromPoint(Et.clientX,Et.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Et.clientX,Et.clientY),t!==n);)n=t;if(v.parentNode[wt]._isOutsideThisEl(t),n)do{if(n[wt]){var r=void 0;if(r=n[wt]._onDragOver({clientX:Et.clientX,clientY:Et.clientY,target:t,rootEl:n}),r&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);Rr()}},_onTouchMove:function(t){if(Lt){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,o=t.touches?t.touches[0]:t,l=P&&Jt(P,!0),u=P&&l&&l.a,f=P&&l&&l.d,p=Se&&ut&&Zn(ut),g=(o.clientX-Lt.clientX+i.x)/(u||1)+(p?p[0]-nn[0]:0)/(u||1),d=(o.clientY-Lt.clientY+i.y)/(f||1)+(p?p[1]-nn[1]:0)/(f||1);if(!I.active&&!Gt){if(r&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(P){l?(l.e+=g-(tn||0),l.f+=d-(en||0)):l={a:1,b:0,c:0,d:1,e:g,f:d};var y="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");x(P,"webkitTransform",y),x(P,"mozTransform",y),x(P,"msTransform",y),x(P,"transform",y),tn=g,en=d,Et=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!P){var t=this.options.fallbackOnBody?document.body:U,n=nt(v,!0,Se,!0,t),r=this.options;if(Se){for(ut=t;x(ut,"position")==="static"&&x(ut,"transform")==="none"&&ut!==document;)ut=ut.parentNode;ut!==document.body&&ut!==document.documentElement?(ut===document&&(ut=_t()),n.top+=ut.scrollTop,n.left+=ut.scrollLeft):ut=_t(),nn=Zn(ut)}P=v.cloneNode(!0),gt(P,r.ghostClass,!1),gt(P,r.fallbackClass,!0),gt(P,r.dragClass,!0),x(P,"transition",""),x(P,"transform",""),x(P,"box-sizing","border-box"),x(P,"margin",0),x(P,"top",n.top),x(P,"left",n.left),x(P,"width",n.width),x(P,"height",n.height),x(P,"opacity","0.8"),x(P,"position",Se?"absolute":"fixed"),x(P,"zIndex","100000"),x(P,"pointerEvents","none"),I.ghost=P,t.appendChild(P),x(P,"transform-origin",tr/parseInt(P.style.width)*100+"% "+er/parseInt(P.style.height)*100+"%")}},_onDragStart:function(t,n){var r=this,i=t.dataTransfer,o=r.options;if(dt("dragStart",this,{evt:t}),I.eventCanceled){this._onDrop();return}dt("setupClone",this),I.eventCanceled||(Y=Ar(v),Y.removeAttribute("id"),Y.draggable=!1,Y.style["will-change"]="",this._hideClone(),gt(Y,this.options.chosenClass,!1),I.clone=Y),r.cloneId=Oe(function(){dt("clone",r),!I.eventCanceled&&(r.options.removeCloneOnHide||U.insertBefore(Y,v),r._hideClone(),pt({sortable:r,name:"clone"}))}),!n&&gt(v,o.dragClass,!0),n?(Pe=!0,r._loopId=setInterval(r._emulateDragOver,50)):(L(document,"mouseup",r._onDrop),L(document,"touchend",r._onDrop),L(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(r,i,v)),z(document,"drop",r),x(v,"transform","translateZ(0)")),Gt=!0,r._dragStartId=Oe(r._dragStarted.bind(r,n,t)),z(document,"selectstart",r),ie=!0,ue&&x(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,r=t.target,i,o,l,u=this.options,f=u.group,p=I.active,g=be===f,d=u.sort,y=lt||p,S,E=this,b=!1;if(sn)return;function k(Nt,Qt){dt(Nt,E,Dt({evt:t,isOwner:g,axis:S?"vertical":"horizontal",revert:l,dragRect:i,targetRect:o,canSort:d,fromSortable:y,target:r,completed:F,onMove:function(we,te){return Te(U,n,v,i,we,nt(we),t,te)},changed:N},Qt))}function q(){k("dragOverAnimationCapture"),E.captureAnimationState(),E!==y&&y.captureAnimationState()}function F(Nt){return k("dragOverCompleted",{insertion:Nt}),Nt&&(g?p._hideClone():p._showClone(E),E!==y&&(gt(v,lt?lt.options.ghostClass:p.options.ghostClass,!1),gt(v,u.ghostClass,!0)),lt!==E&&E!==I.active?lt=E:E===I.active&&lt&&(lt=null),y===E&&(E._ignoreWhileAnimating=r),E.animateAll(function(){k("dragOverAnimationComplete"),E._ignoreWhileAnimating=null}),E!==y&&(y.animateAll(),y._ignoreWhileAnimating=null)),(r===v&&!v.animated||r===n&&!r.animated)&&(Yt=null),!u.dragoverBubble&&!t.rootEl&&r!==document&&(v.parentNode[wt]._isOutsideThisEl(t.target),!Nt&&$t(t)),!u.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),b=!0}function N(){mt=vt(v),Mt=vt(v,u.draggable),pt({sortable:E,name:"change",toEl:n,newIndex:mt,newDraggableIndex:Mt,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=St(r,u.draggable,n,!0),k("dragOver"),I.eventCanceled)return b;if(v.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||E._ignoreWhileAnimating===r)return F(!1);if(Pe=!1,p&&!u.disabled&&(g?d||(l=Q!==U):lt===this||(this.lastPutMode=be.checkPull(this,p,v,t))&&f.checkPut(this,p,v,t))){if(S=this._getDirection(t,r)==="vertical",i=nt(v),k("dragOverValid"),I.eventCanceled)return b;if(l)return Q=U,q(),this._hideClone(),k("revert"),I.eventCanceled||(qt?U.insertBefore(v,qt):U.appendChild(v)),F(!0);var _=vn(n,u.draggable);if(!_||ko(t,S,this)&&!_.animated){if(_===v)return F(!1);if(_&&n===t.target&&(r=_),r&&(o=nt(r)),Te(U,n,v,i,r,o,t,!!r)!==!1)return q(),_&&_.nextSibling?n.insertBefore(v,_.nextSibling):n.appendChild(v),Q=n,N(),F(!0)}else if(_&&No(t,S,this)){var M=Vt(n,0,u,!0);if(M===v)return F(!1);if(r=M,o=nt(r),Te(U,n,v,i,r,o,t,!1)!==!1)return q(),n.insertBefore(v,M),Q=n,N(),F(!0)}else if(r.parentNode===n){o=nt(r);var C=0,H,R=v.parentNode!==n,O=!Oo(v.animated&&v.toRect||i,r.animated&&r.toRect||o,S),K=S?"top":"left",J=Qn(r,"top","top")||Qn(v,"top","top"),yt=J?J.scrollTop:void 0;Yt!==r&&(H=o[K],he=!1,Ee=!O&&u.invertSwap||R),C=Mo(t,r,o,S,O?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,Ee,Yt===r);var at;if(C!==0){var et=vt(v);do et-=C,at=Q.children[et];while(at&&(x(at,"display")==="none"||at===P))}if(C===0||at===r)return F(!1);Yt=r,pe=C;var Pt=r.nextElementSibling,ht=!1;ht=C===1;var Ot=Te(U,n,v,i,r,o,t,ht);if(Ot!==!1)return(Ot===1||Ot===-1)&&(ht=Ot===1),sn=!0,setTimeout(Po,30),q(),ht&&!Pt?n.appendChild(v):r.parentNode.insertBefore(v,ht?Pt:r),J&&xr(J,0,yt-J.scrollTop),Q=v.parentNode,H!==void 0&&!Ee&&(Ce=Math.abs(H-nt(r)[K])),N(),F(!0)}if(n.contains(v))return F(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){L(document,"mousemove",this._onTouchMove),L(document,"touchmove",this._onTouchMove),L(document,"pointermove",this._onTouchMove),L(document,"dragover",$t),L(document,"mousemove",$t),L(document,"touchmove",$t)},_offUpEvents:function(){var t=this.el.ownerDocument;L(t,"mouseup",this._onDrop),L(t,"touchend",this._onDrop),L(t,"pointerup",this._onDrop),L(t,"touchcancel",this._onDrop),L(document,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;if(mt=vt(v),Mt=vt(v,r.draggable),dt("drop",this,{evt:t}),Q=v&&v.parentNode,mt=vt(v),Mt=vt(v,r.draggable),I.eventCanceled){this._nulling();return}Gt=!1,Ee=!1,he=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),un(this.cloneId),un(this._dragStartId),this.nativeDraggable&&(L(document,"drop",this),L(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ue&&x(document.body,"user-select",""),x(v,"transform",""),t&&(ie&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),P&&P.parentNode&&P.parentNode.removeChild(P),(U===Q||lt&&lt.lastPutMode!=="clone")&&Y&&Y.parentNode&&Y.parentNode.removeChild(Y),v&&(this.nativeDraggable&&L(v,"dragend",this),rn(v),v.style["will-change"]="",ie&&!Gt&&gt(v,lt?lt.options.ghostClass:this.options.ghostClass,!1),gt(v,this.options.chosenClass,!1),pt({sortable:this,name:"unchoose",toEl:Q,newIndex:null,newDraggableIndex:null,originalEvent:t}),U!==Q?(mt>=0&&(pt({rootEl:Q,name:"add",toEl:Q,fromEl:U,originalEvent:t}),pt({sortable:this,name:"remove",toEl:Q,originalEvent:t}),pt({rootEl:Q,name:"sort",toEl:Q,fromEl:U,originalEvent:t}),pt({sortable:this,name:"sort",toEl:Q,originalEvent:t})),lt&&lt.save()):mt!==Kt&&mt>=0&&(pt({sortable:this,name:"update",toEl:Q,originalEvent:t}),pt({sortable:this,name:"sort",toEl:Q,originalEvent:t})),I.active&&((mt==null||mt===-1)&&(mt=Kt,Mt=fe),pt({sortable:this,name:"end",toEl:Q,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){dt("nulling",this),U=v=Q=P=qt=Y=De=Rt=Lt=Et=ie=mt=Mt=Kt=fe=Yt=pe=lt=be=I.dragged=I.ghost=I.clone=I.active=null,ke.forEach(function(t){t.checked=!0}),ke.length=tn=en=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":v&&(this._onDragOver(t),Ao(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,r=this.el.children,i=0,o=r.length,l=this.options;i<o;i++)n=r[i],St(n,l.draggable,this.el,!1)&&t.push(n.getAttribute(l.dataIdAttr)||jo(n));return t},sort:function(t,n){var r={},i=this.el;this.toArray().forEach(function(o,l){var u=i.children[l];St(u,this.options.draggable,i,!1)&&(r[o]=u)},this),n&&this.captureAnimationState(),t.forEach(function(o){r[o]&&(i.removeChild(r[o]),i.appendChild(r[o]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return St(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var r=this.options;if(n===void 0)return r[t];var i=me.modifyOption(this,t,n);typeof i!="undefined"?r[t]=i:r[t]=n,t==="group"&&kr(r)},destroy:function(){dt("destroy",this);var t=this.el;t[wt]=null,L(t,"mousedown",this._onTapStart),L(t,"touchstart",this._onTapStart),L(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(L(t,"dragover",this),L(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ne.splice(Ne.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Rt){if(dt("hideClone",this),I.eventCanceled)return;x(Y,"display","none"),this.options.removeCloneOnHide&&Y.parentNode&&Y.parentNode.removeChild(Y),Rt=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Rt){if(dt("showClone",this),I.eventCanceled)return;v.parentNode==U&&!this.options.group.revertClone?U.insertBefore(Y,v):qt?U.insertBefore(Y,qt):U.appendChild(Y),this.options.group.revertClone&&this.animate(v,Y),x(Y,"display",""),Rt=!1}}};function Ao(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Te(e,t,n,r,i,o,l,u){var f,p=e[wt],g=p.options.onMove,d;return window.CustomEvent&&!At&&!ge?f=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(f=document.createEvent("Event"),f.initEvent("move",!0,!0)),f.to=t,f.from=e,f.dragged=n,f.draggedRect=r,f.related=i||t,f.relatedRect=o||nt(t),f.willInsertAfter=u,f.originalEvent=l,e.dispatchEvent(f),g&&(d=g.call(p,f,l)),d}function rn(e){e.draggable=!1}function Po(){sn=!1}function No(e,t,n){var r=nt(Vt(n.el,0,n.options,!0)),i=10;return t?e.clientX<r.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-i||e.clientY<r.bottom&&e.clientX<r.left}function ko(e,t,n){var r=nt(vn(n.el,n.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}function Mo(e,t,n,r,i,o,l,u){var f=r?e.clientY:e.clientX,p=r?n.height:n.width,g=r?n.top:n.left,d=r?n.bottom:n.right,y=!1;if(!l){if(u&&Ce<p*i){if(!he&&(pe===1?f>g+p*o/2:f<d-p*o/2)&&(he=!0),he)y=!0;else if(pe===1?f<g+Ce:f>d-Ce)return-pe}else if(f>g+p*(1-i)/2&&f<d-p*(1-i)/2)return Ro(t)}return y=y||l,y&&(f<g+p*o/2||f>d-p*o/2)?f>g+p/2?1:-1:0}function Ro(e){return vt(v)<vt(e)?1:-1}function jo(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Fo(e){ke.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&ke.push(r)}}function Oe(e){return setTimeout(e,0)}function un(e){return clearTimeout(e)}Le&&z(document,"touchmove",function(e){(I.active||Gt)&&e.cancelable&&e.preventDefault()});I.utils={on:z,off:L,css:x,find:Or,is:function(t,n){return!!St(t,n,t,!1)},extend:vo,throttle:Ir,closest:St,toggleClass:gt,clone:Ar,index:vt,nextTick:Oe,cancelNextTick:un,detectDirection:Nr,getChild:Vt};I.get=function(e){return e[wt]};I.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(I.utils=Dt(Dt({},I.utils),r.utils)),me.mount(r)})};I.create=function(e,t){return new I(e,t)};I.version=mo;var tt=[],oe,cn,fn=!1,on,an,Me,ae;function Lo(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?z(document,"dragover",this._handleAutoScroll):this.options.supportPointer?z(document,"pointermove",this._handleFallbackAutoScroll):r.touches?z(document,"touchmove",this._handleFallbackAutoScroll):z(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?L(document,"dragover",this._handleAutoScroll):(L(document,"pointermove",this._handleFallbackAutoScroll),L(document,"touchmove",this._handleFallbackAutoScroll),L(document,"mousemove",this._handleFallbackAutoScroll)),rr(),Ie(),bo()},nulling:function(){Me=cn=oe=fn=ae=on=an=null,tt.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,o=(n.touches?n.touches[0]:n).clientX,l=(n.touches?n.touches[0]:n).clientY,u=document.elementFromPoint(o,l);if(Me=n,r||this.options.forceAutoScrollFallback||ge||At||ue){ln(n,this.options,u,r);var f=jt(u,!0);fn&&(!ae||o!==on||l!==an)&&(ae&&rr(),ae=setInterval(function(){var p=jt(document.elementFromPoint(o,l),!0);p!==f&&(f=p,Ie()),ln(n,i.options,p,r)},10),on=o,an=l)}else{if(!this.options.bubbleScroll||jt(u,!0)===_t()){Ie();return}ln(n,this.options,jt(u,!1),!1)}}},xt(e,{pluginName:"scroll",initializeByDefault:!0})}function Ie(){tt.forEach(function(e){clearInterval(e.pid)}),tt=[]}function rr(){clearInterval(ae)}var ln=Ir(function(e,t,n,r){if(!!t.scroll){var i=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,u=t.scrollSpeed,f=_t(),p=!1,g;cn!==n&&(cn=n,Ie(),oe=t.scroll,g=t.scrollFn,oe===!0&&(oe=jt(n,!0)));var d=0,y=oe;do{var S=y,E=nt(S),b=E.top,k=E.bottom,q=E.left,F=E.right,N=E.width,_=E.height,M=void 0,C=void 0,H=S.scrollWidth,R=S.scrollHeight,O=x(S),K=S.scrollLeft,J=S.scrollTop;S===f?(M=N<H&&(O.overflowX==="auto"||O.overflowX==="scroll"||O.overflowX==="visible"),C=_<R&&(O.overflowY==="auto"||O.overflowY==="scroll"||O.overflowY==="visible")):(M=N<H&&(O.overflowX==="auto"||O.overflowX==="scroll"),C=_<R&&(O.overflowY==="auto"||O.overflowY==="scroll"));var yt=M&&(Math.abs(F-i)<=l&&K+N<H)-(Math.abs(q-i)<=l&&!!K),at=C&&(Math.abs(k-o)<=l&&J+_<R)-(Math.abs(b-o)<=l&&!!J);if(!tt[d])for(var et=0;et<=d;et++)tt[et]||(tt[et]={});(tt[d].vx!=yt||tt[d].vy!=at||tt[d].el!==S)&&(tt[d].el=S,tt[d].vx=yt,tt[d].vy=at,clearInterval(tt[d].pid),(yt!=0||at!=0)&&(p=!0,tt[d].pid=setInterval(function(){r&&this.layer===0&&I.active._onTouchMove(Me);var Pt=tt[this.layer].vy?tt[this.layer].vy*u:0,ht=tt[this.layer].vx?tt[this.layer].vx*u:0;typeof g=="function"&&g.call(I.dragged.parentNode[wt],ht,Pt,e,Me,tt[this.layer].el)!=="continue"||xr(tt[this.layer].el,ht,Pt)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&y!==f&&(y=jt(y,!1)));fn=p}},30),jr=function(t){var n=t.originalEvent,r=t.putSortable,i=t.dragEl,o=t.activeSortable,l=t.dispatchSortableEvent,u=t.hideGhostForTarget,f=t.unhideGhostForTarget;if(!!n){var p=r||o;u();var g=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(g.clientX,g.clientY);f(),p&&!p.el.contains(d)&&(l("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function bn(){}bn.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=Vt(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:jr};xt(bn,{pluginName:"revertOnSpill"});function En(){}En.prototype={onSpill:function(t){var n=t.dragEl,r=t.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:jr};xt(En,{pluginName:"removeOnSpill"});I.mount(new Lo);I.mount(En,bn);const $o=(e,t,n)=>{const r=log("error"),i=()=>{Ct(e),n()};e.http.deleteTask(e,`cats/${t.id}`).fork(r,i)},qo=(e,t,n,r)=>{const i=n?t:co(t.title,e.currentStore().id),o=log("error"),l=u=>{t.title="",r(),Ct(e)};e.http.putTask(e,`cats/${i.id}`,i).fork(o,l)},ir=({attrs:{isEdit:e,cat:t,closeCatForm:n}})=>{let r={title:""};return e&&(r=t),{view:({attrs:{mdl:i}})=>m("form.w3-animate-opacity",{onsubmit:o=>o.preventDefault()},m(".w3-row",m("input.w3-input.w3-border-bottom.w3-col s6",{oncreate:({dom:o})=>{o.select(),o.focus()},type:"text",value:r.title,placeholder:"Category Title",oninput:o=>r.title=o.target.value}),m(".w3-row.w3-col s6",{class:e?"w3-col s6":"w3-block"},m("button.w3-button.w3-border.w3-border-orange.w3-col",{class:e?"w3-col s6":"w3-block",onclick:()=>qo(i,r,e,n)},e?"Save":"Add"),e&&m("button.w3-button.w3-border.w3-border-red.w3-col s6",{onclick:()=>$o(i,t,n)},"Delete"))))}},zo=(e,{newIndex:t,item:n})=>{const r=e.cats.find(bt("id",n.id));r.order=t,e.http.putTask(e,`cats/${n.id}`,r).fork(log("error"),()=>Ct(e))},Ho=e=>({dom:t})=>{const n={ghostClass:"dragging",animation:150,handle:".handle",onEnd:r=>zo(e,r)};e.state.dragCatList=I.create(t,n)},Bo=(e,t,n)=>{let r=n?{title:t.title,order:t.order,id:t.id}:fo({title:t.title,order:e.stores.length});const i=l=>{t={title:""},Ct(e),Ht(e)};return((l,u)=>n?l.http.putTask(l,`stores/${u.id}`,u):l.http.postTask(l,"stores",u))(e,r).fork(log("error"),i)},Xo=(e,t)=>e.http.deleteTask(e,`stores/${t}`).fork(log("err"),()=>{Ct(e),Ht(e)}),pn=({attrs:{mdl:e,isEdit:t}})=>{const n={title:"",addNewCat:!1,editCat:!1,cat:null},r=()=>{n.title="",n.addNewCat=!1,n.editCat=!1,n.cat=null};return{view:({attrs:{mdl:i}})=>{const o=i.currentStore();return t&&(n.title=o.title,n.order=o.order,n.id=o.id,n.cats=o.cats),m("form.w3-container.w3-card.w3-white.w3-animate-zoom",{onsubmit:l=>{l.preventDefault(),Bo(i,n,t)}},m(".w3-section",m("button.w3-button.w3-black.w3-border.w3-border-black.w3-text-white",{onclick:()=>Ht(i)},m.trust("&#10005;"))),m(".w3-section",m(".w3-row",m("input.w3-input.w3-border-bottom",{class:t?"w3-col s6":"",type:"text",value:n.title,placeholder:"Store Name",oninput:l=>{t?o.title=l.target.value:n.title=l.target.value}}),m("button.w3-button",{class:t?"w3-col s6":""},t?"Update Name":"Add Store")),t&&m(".w3-block",m(ir,{mdl:i,closeCatForm:r}))),t&&m(".w3-list",{oncreate:Ho(i),style:{maxHeight:"400px",verflowX:"hidden",overflowY:"auto"}},n.cats.map(l=>{var u,f;return m(".w3-row",{id:l.id,key:l.id,ondblclick:()=>{console.log(n),n.cat=l,n.editCat=!0}},m("p.handle.w3-col s1",m.trust("&#8942;")),m(".w3-col s8",m(".w3-row",m("label",((u=n.cat)==null?void 0:u.id)==l.id?m(ir,{mdl:i,cat:n.cat,isEdit:t,closeCatForm:r}):l.title)),m(".w3-row",m("label.w3-col",l.items.length))),m(".w3-col s3.w3-row",((f=n.cat)==null?void 0:f.id)==l.id&&m("button.w3-button.w3-col",{class:"w3-border-red",onclick:()=>{n.cat=null,n.editCat=!1}},"Cancel")))})),t&&m("button.w3-button.w3-border.w3-border-red.w3-margin-top.w3-left",{onclick:()=>Xo(i,o.id)},"Delete"))}}},Uo=(e,t)=>e.cats.find(bt("id",t)).items.length||0,Yo=(e,t,n)=>{const{catId:r,title:i,notes:o,order:l,quantity:u,unit:f,price:p,id:g}=t;let d=n?{catId:r,title:i,notes:o,order:l,quantity:u,unit:f,price:p,id:g}:uo({catId:r,title:i,notes:o,order:Uo(e,r),quantity:u,unit:f,price:p});const y=E=>{t={catId:r,title:"",notes:"",order:0,quantity:"",unit:"",price:0},Ct(e),Ht(e)};return((E,b)=>n?E.http.postTask(E,"items",b):E.http.putTask(E,`items/${b.id}`,b))(e,d).fork(log("error"),y)},Wo=(e,t)=>e.http.deleteTask(e,`items/${t}`).fork(log("err"),()=>{Ct(e),Ht(e)}),Fr=({attrs:{mdl:e,catId:t,item:n,isEdit:r}})=>{const i={catId:t,catTitle:"",title:"",notes:"",order:"",quantity:"",unit:"",price:""};return t&&(i.catTitle=e.cats.find(bt("id",t)).title),r&&(i.catId=n.catId,i.title=n.title,i.notes=n.notes,i.order=n.order,i.quantity=n.quantity,i.unit=n.unit,i.price=n.price,i.id=n.id),{view:({attrs:{mdl:o}})=>{var l;return m("form.w3-container.w3-card.w3-white.w3-animate-zoom",{onsubmit:u=>u.preventDefault()},m(".w3-section",m("button.w3-button.w3-black.w3-border-black.w3-text-white",{onclick:()=>Ht(o)},m.trust("&#10005;"))),m(".w3-section",m("label",m("b","Item")),m("input.w3-input.w3-border-bottom",{oncreate:({dom:u})=>{u.select(),u.focus()},type:"text",value:i.title,oninput:u=>i.title=u.target.value})),m(".w3-section",m("label",m("b","Category")),m("select.w3-input.w3-border-bottom",{value:((l=o.cats.find(bt("id",i.catId)))==null?void 0:l.title)||"",onchange:u=>{i.catTitle=u.target.value,i.catId=o.cats.find(bt("title",i.catTitle)).id}},o.cats.map(u=>m(`option#${u.id}`,u.title)))),m(".w3-section",m("label",m("b","Quantity")),m("input.w3-input.w3-border-bottom",{type:"number",value:i.quantity,pattern:"[0-9]*",inputmode:"numeric",oninput:u=>i.quantity=u.target.value})),m(".w3-section",m("label",m("b","Unit")),m("select.w3-input.w3-border-bottom",{value:i.unit,onchange:u=>i.unit=u.target.value},ao.map(u=>m("option",u)))),m(".w3-section",m("label",m("b","Price")),m("input.w3-input.w3-border-bottom",{pattern:"[0-9]*",inputmode:"numeric",value:i.price,oninput:u=>i.price=u.target.value})),m(".w3-section",m("label",m("b","Notes")),m("textarea.w3-input.w3-border-bottom",{oninput:u=>i.notes=u.target.value},i.notes)),m("button.w3-button.w3-block.w3-orange.w3-margin-bottom",{onclick:()=>Yo(o,i,r)},r?"Update":"Add"),r&&m("button.w3-button.w3-red.w3-margin-top.w3-left",{onclick:()=>Wo(o,n.id)},"Delete"))}}},Go=e=>{e.state.dragging.isDragging=!1;for(const t in e.state.ItemdragList)e.state.dragItemList[t].option("disabled",!0)},Ko=()=>({view:({attrs:{mdl:e,state:t}})=>m("nav.w3-fixed.w3-container",e.currentStore()&&m(".w3-row",m("button.w3-button.w3-orange.w3-col s4",{onclick:()=>de({mdl:e,content:pn})},"New Store"),m("select.w3-bar-item.w3-select.w3-border-0.w3-col s4 w3-center",{value:e.currentStore().id,onchange:n=>{e.currentStore(e.stores.find(bt("id",n.target.value)))}},e.stores.map(n=>m("option",{value:n.id},n.title))),m("button.w3-button.w3-col s4",{onclick:()=>de({content:pn,mdl:e,opts:{isEdit:!0}})},"Edit Store"),e.state.dragging.isDragging&&m("button.w3-block.w3-button.w3-green",{onclick:()=>Go(e)},"Save Changes")))}),Jo=(e,t,n)=>r=>{let i=Array.from(r.target.children)[1].getBoundingClientRect().x;t.scrolled>window.innerWidth/3&&(t.purchased=!0),t.purchased&&i<t.scrolled&&(console.log(t.scrolled,i),t.purchased=!1,n.purchased=!n.purchased,e.http.putTask(e,`items/${n.id}`,n).fork(log("e"),()=>Ct(e))),t.scrolled=i},or=(e,t)=>{const n=Fr,r={catId:t.catId,item:t,isEdit:!0};de({content:n,mdl:e,opts:r})},Vo=(e,t,n)=>{console.log(e,t,n),t.left=!0,Sn(e,t)},Qo=(e,t,n)=>{t.right=!0,e.state.dragging.isDragging=!e.state.dragging.isDragging,Sn(e,t)},Sn=(e,t,n)=>{t.left=!1,t.right=!1},Zo=e=>e.classList.contains("swipe-container"),Lr=e=>Zo(e)?e:Lr(e.parentElement),ta=({leftAction:e,rightAction:t,resetAction:n},r)=>{const i=Lr(r.target),o=i.clientWidth*30/100,l=i.scrollLeft-i.clientWidth;l<o*-1?e():l>o?t():n()},ea=(e,t,n)=>r=>{e.state.dragging.isDragging||ta({leftAction:()=>Vo(e,t,n),rightAction:()=>Qo(e,t),resetAction:()=>Sn(e,t)},r)},ar=()=>{const e={highlight:!1,purchased:!1,scrolled:0};return{view:({attrs:{item:t,mdl:n}})=>m("li",{id:t.id,ondblclick:r=>or(n,t),class:t.purchased?"w3-grey w3-text-white":""},m(".swipe-container",{onscroll:Jo(n,e,t),ontouchend:ea(n,e,t),onclick:r=>or(n,t)},m(".swipe-action.swipe-left",m("icon",m.trust("&#9997;"))),m(".swipe-element",{"data-id":t.id},m("img.w3-left",{src:t.img,style:{maxWidth:"85px"}}),m(".w3-block",{style:{fontSize:"1.2rem"}},t.title),m(".w3-bar",m(".w3-bar-item",t.quantity>0&&m("",`${t.quantity} ${t.unit}`)),m(".w3-bar-item",t.price>0&&m("",`$ ${t.price}`))))))}},lr=(e,t)=>e.filter(bt("purchased",t)),na=(e,{newIndex:t,item:n})=>{console.log(n);const r=e.items.find(bt("id",n.id));r.order=t,e.http.putTask(e,`items/${n.id}`,r).fork(log("error"),()=>Ct(e))},sr=(e,t)=>({dom:n})=>{const r={ghostClass:"dragging",animation:150,handle:".handle",onEnd:i=>na(e,i)};e.state.dragItemList[n.id]=I.create(n,r)},ra=({attrs:{mdl:e,cat:t}})=>(t.id,t.title,t.items,{view:({attrs:{cat:n,mdl:r,key:i}})=>m("section.w3-section.w3-border-left",{key:i,id:n.id},m(".w3-bar",{style:{position:"-webkit-sticky",position:"sticky",backgroundColor:"white"}},m("strong.w3-right.w3-button",{style:{padding:"0 16px"},onclick:()=>de({mdl:r,content:Fr,opts:{catId:n.id}})},n.title.toUpperCase())),m(".w3-list",{id:n.id,oncreate:sr(r),onupdate:sr(r)},lr(n.items,!1).map((o,l)=>m(".w3-row",{id:o.id,key:o.id},m("p.handle.w3-col s1",m.trust("&#8942;")),m(ar,{item:o,mdl:r}))),lr(n.items,!0).map((o,l)=>m(".w3-row",{id:o.id,key:o.id},m(ar,{item:o,mdl:r})))))}),ia=()=>({view:({attrs:{mdl:e,state:t}})=>m("section.w3-section.w3-row w3-ul.w3-padding-row",{style:{height:"90dvh",overflowX:"hidden",overflowY:"auto"}},e.currentStore()?e.currentStore().cats.map((n,r)=>m(ra,{key:r,cat:n,mdl:e,state:t})):m("section.w3-section",m("button.w3-border w3-button w3-panel.w3-display-middle w3-light-grey w3-col-1",{onclick:()=>de({content:pn,mdl:e,isEdit:!1})},"Create a Store to Begin")))}),oa=({attrs:{mdl:e}})=>({view:({attrs:{mdl:t}})=>t.state.modalContent?m(".w3-modal#modal",{onclick:n=>{if(n.target.id=="modal")return Ht(t)},style:{display:t.state.showModal?"block":"none"}},m(".modal-header"),m("modal.w3-modal-content",m(".w3-section",{style:{maxHeight:"80vh",overflowX:"hidden",overflowY:"auto"}},m(t.state.modalContent.content,t.state.modalContent.attrs))),m(".modal-footer")):null}),aa=e=>({maxHeight:"100dvh",overflow:"hidden"}),la=e=>{const t={sidebar:{open:!1},toggleSideBar:n=>n.sidebar.open=!n.sidebar.open};return Ct(e),{view:()=>m("page.w3-theme",m(oa,{mdl:e}),m("section.#main",{style:aa()},m(Ko,{mdl:e,state:t}),m(ia,{mdl:e,state:t})))}},sa=document.body;let $r=window.innerWidth;"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./service-worker.js").then(e=>{console.log("\u2699\uFE0F SW registered: ",e)}).catch(e=>{console.log("\u{1F9DF} SW registration failed: ",e)})});const qr=e=>e<=411?"phone":e<=990?"tablet":"desktop",zr=e=>{const t=window.innerWidth;if(e!==t){e=t;var n=se.settings.profile;se.settings.profile=qr(t),n!=se.settings.profile&&m.redraw()}return requestAnimationFrame(zr)};se.settings.profile=qr($r);zr($r);m.mount(sa,la(se));
