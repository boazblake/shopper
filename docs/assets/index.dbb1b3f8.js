const Qt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const c of f.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&u(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerpolicy&&(f.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?f.credentials="include":o.crossorigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function u(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}};Qt();var oe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function ne(e,t,i,u,o,f){return{tag:e,key:t,attrs:i,children:u,text:o,dom:f,domSize:void 0,state:void 0,events:void 0,instance:void 0}}ne.normalize=function(e){return Array.isArray(e)?ne("[",void 0,void 0,ne.normalizeChildren(e),void 0,void 0):e==null||typeof e=="boolean"?null:typeof e=="object"?e:ne("#",void 0,void 0,String(e),void 0,void 0)};ne.normalizeChildren=function(e){var t=[];if(e.length){for(var i=e[0]!=null&&e[0].key!=null,u=1;u<e.length;u++)if((e[u]!=null&&e[u].key!=null)!==i)throw new TypeError(i&&(e[u]!=null||typeof e[u]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var u=0;u<e.length;u++)t[u]=ne.normalize(e[u])}return t};var ee=ne,Gt=ee,dt=function(){var e=arguments[this],t=this+1,i;if(e==null?e={}:(typeof e!="object"||e.tag!=null||Array.isArray(e))&&(e={},t=this),arguments.length===t+1)i=arguments[t],Array.isArray(i)||(i=[i]);else for(i=[];t<arguments.length;)i.push(arguments[t++]);return Gt("",e.key,e,i)},Te={}.hasOwnProperty,Xt=ee,Yt=dt,ce=Te,Zt=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,bt={};function Ye(e){for(var t in e)if(ce.call(e,t))return!1;return!0}function er(e){for(var t,i="div",u=[],o={};t=Zt.exec(e);){var f=t[1],c=t[2];if(f===""&&c!=="")i=c;else if(f==="#")o.id=c;else if(f===".")u.push(c);else if(t[3][0]==="["){var l=t[6];l&&(l=l.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),t[4]==="class"?u.push(l):o[t[4]]=l===""?l:l||!0}}return u.length>0&&(o.className=u.join(" ")),bt[e]={tag:i,attrs:o}}function tr(e,t){var i=t.attrs,u=ce.call(i,"class"),o=u?i.class:i.className;if(t.tag=e.tag,t.attrs={},!Ye(e.attrs)&&!Ye(i)){var f={};for(var c in i)ce.call(i,c)&&(f[c]=i[c]);i=f}for(var c in e.attrs)ce.call(e.attrs,c)&&c!=="className"&&!ce.call(i,c)&&(i[c]=e.attrs[c]);(o!=null||e.attrs.className!=null)&&(i.className=o!=null?e.attrs.className!=null?String(e.attrs.className)+" "+String(o):o:e.attrs.className!=null?e.attrs.className:null),u&&(i.class=null);for(var c in i)if(ce.call(i,c)&&c!=="key"){t.attrs=i;break}return t}function rr(e){if(e==null||typeof e!="string"&&typeof e!="function"&&typeof e.view!="function")throw Error("The selector must be either a string or a component.");var t=Yt.apply(1,arguments);return typeof e=="string"&&(t.children=Xt.normalizeChildren(t.children),e!=="[")?tr(bt[e]||er(e),t):(t.tag=e,t)}var vt=rr,nr=ee,ir=function(e){return e==null&&(e=""),nr("<",void 0,void 0,e,void 0,void 0)},ar=ee,ur=dt,or=function(){var e=ur.apply(0,arguments);return e.tag="[",e.children=ar.normalizeChildren(e.children),e},ze=vt;ze.trust=ir;ze.fragment=or;var cr=ze,ge={exports:{}},F=function(e){if(!(this instanceof F))throw new Error("Promise must be called with 'new'.");if(typeof e!="function")throw new TypeError("executor must be a function.");var t=this,i=[],u=[],o=p(i,!0),f=p(u,!1),c=t._instance={resolvers:i,rejectors:u},l=typeof setImmediate=="function"?setImmediate:setTimeout;function p(y,d){return function v(k){var S;try{if(d&&k!=null&&(typeof k=="object"||typeof k=="function")&&typeof(S=k.then)=="function"){if(k===t)throw new TypeError("Promise can't be resolved with itself.");m(S.bind(k))}else l(function(){!d&&y.length===0&&console.error("Possible unhandled promise rejection:",k);for(var T=0;T<y.length;T++)y[T](k);i.length=0,u.length=0,c.state=d,c.retry=function(){v(k)}})}catch(T){f(T)}}}function m(y){var d=0;function v(S){return function(T){d++>0||S(T)}}var k=v(f);try{y(v(o),k)}catch(S){k(S)}}m(e)};F.prototype.then=function(e,t){var i=this,u=i._instance;function o(p,m,y,d){m.push(function(v){if(typeof p!="function")y(v);else try{f(p(v))}catch(k){c&&c(k)}}),typeof u.retry=="function"&&d===u.state&&u.retry()}var f,c,l=new F(function(p,m){f=p,c=m});return o(e,u.resolvers,f,!0),o(t,u.rejectors,c,!1),l};F.prototype.catch=function(e){return this.then(null,e)};F.prototype.finally=function(e){return this.then(function(t){return F.resolve(e()).then(function(){return t})},function(t){return F.resolve(e()).then(function(){return F.reject(t)})})};F.resolve=function(e){return e instanceof F?e:new F(function(t){t(e)})};F.reject=function(e){return new F(function(t,i){i(e)})};F.all=function(e){return new F(function(t,i){var u=e.length,o=0,f=[];if(e.length===0)t([]);else for(var c=0;c<e.length;c++)(function(l){function p(m){o++,f[l]=m,o===u&&t(f)}e[l]!=null&&(typeof e[l]=="object"||typeof e[l]=="function")&&typeof e[l].then=="function"?e[l].then(p,i):p(e[l])})(c)})};F.race=function(e){return new F(function(t,i){for(var u=0;u<e.length;u++)e[u].then(t,i)})};var Tt=F,pe=Tt;typeof window!="undefined"?(typeof window.Promise=="undefined"?window.Promise=pe:window.Promise.prototype.finally||(window.Promise.prototype.finally=pe.prototype.finally),ge.exports=window.Promise):typeof oe!="undefined"?(typeof oe.Promise=="undefined"?oe.Promise=pe:oe.Promise.prototype.finally||(oe.Promise.prototype.finally=pe.prototype.finally),ge.exports=oe.Promise):ge.exports=pe;var Le=ee,fr=function(e){var t=e&&e.document,i,u={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function o(n){return n.attrs&&n.attrs.xmlns||u[n.tag]}function f(n,r){if(n.state!==r)throw new Error("'vnode.state' must not be modified.")}function c(n){var r=n.state;try{return this.apply(r,arguments)}finally{f(n,r)}}function l(){try{return t.activeElement}catch{return null}}function p(n,r,a,s,h,w,C){for(var A=a;A<s;A++){var b=r[A];b!=null&&m(n,b,h,C,w)}}function m(n,r,a,s,h){var w=r.tag;if(typeof w=="string")switch(r.state={},r.attrs!=null&&Ae(r.attrs,r,a),w){case"#":y(n,r,h);break;case"<":v(n,r,s,h);break;case"[":k(n,r,a,s,h);break;default:S(n,r,a,s,h)}else q(n,r,a,s,h)}function y(n,r,a){r.dom=t.createTextNode(r.children),Y(n,r.dom,a)}var d={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function v(n,r,a,s){var h=r.children.match(/^\s*?<(\w+)/im)||[],w=t.createElement(d[h[1]]||"div");a==="http://www.w3.org/2000/svg"?(w.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+r.children+"</svg>",w=w.firstChild):w.innerHTML=r.children,r.dom=w.firstChild,r.domSize=w.childNodes.length,r.instance=[];for(var C=t.createDocumentFragment(),A;A=w.firstChild;)r.instance.push(A),C.appendChild(A);Y(n,C,s)}function k(n,r,a,s,h){var w=t.createDocumentFragment();if(r.children!=null){var C=r.children;p(w,C,0,C.length,a,null,s)}r.dom=w.firstChild,r.domSize=w.childNodes.length,Y(n,w,h)}function S(n,r,a,s,h){var w=r.tag,C=r.attrs,A=C&&C.is;s=o(r)||s;var b=s?A?t.createElementNS(s,w,{is:A}):t.createElementNS(s,w):A?t.createElement(w,{is:A}):t.createElement(w);if(r.dom=b,C!=null&&Dt(r,C,s),Y(n,b,h),!Be(r)&&r.children!=null){var N=r.children;p(b,N,0,N.length,a,null,s),r.tag==="select"&&C!=null&&Ht(r,C)}}function T(n,r){var a;if(typeof n.tag.view=="function"){if(n.state=Object.create(n.tag),a=n.state.view,a.$$reentrantLock$$!=null)return;a.$$reentrantLock$$=!0}else{if(n.state=void 0,a=n.tag,a.$$reentrantLock$$!=null)return;a.$$reentrantLock$$=!0,n.state=n.tag.prototype!=null&&typeof n.tag.prototype.view=="function"?new n.tag(n):n.tag(n)}if(Ae(n.state,n,r),n.attrs!=null&&Ae(n.attrs,n,r),n.instance=Le.normalize(c.call(n.state.view,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");a.$$reentrantLock$$=null}function q(n,r,a,s,h){T(r,a),r.instance!=null?(m(n,r.instance,a,s,h),r.dom=r.instance.dom,r.domSize=r.dom!=null?r.instance.domSize:0):r.domSize=0}function R(n,r,a,s,h,w){if(!(r===a||r==null&&a==null))if(r==null||r.length===0)p(n,a,0,a.length,s,h,w);else if(a==null||a.length===0)fe(n,r,0,r.length);else{var C=r[0]!=null&&r[0].key!=null,A=a[0]!=null&&a[0].key!=null,b=0,N=0;if(!C)for(;N<r.length&&r[N]==null;)N++;if(!A)for(;b<a.length&&a[b]==null;)b++;if(C!==A)fe(n,r,N,r.length),p(n,a,b,a.length,s,h,w);else if(A){for(var W=r.length-1,H=a.length-1,de,Q,U,V,_,je;W>=N&&H>=b&&(V=r[W],_=a[H],V.key===_.key);)V!==_&&B(n,V,_,s,h,w),_.dom!=null&&(h=_.dom),W--,H--;for(;W>=N&&H>=b&&(Q=r[N],U=a[b],Q.key===U.key);)N++,b++,Q!==U&&B(n,Q,U,s,G(r,N,h),w);for(;W>=N&&H>=b&&!(b===H||Q.key!==_.key||V.key!==U.key);)je=G(r,N,h),ae(n,V,je),V!==U&&B(n,V,U,s,je,w),++b<=--H&&ae(n,Q,h),Q!==_&&B(n,Q,_,s,h,w),_.dom!=null&&(h=_.dom),N++,W--,V=r[W],_=a[H],Q=r[N],U=a[b];for(;W>=N&&H>=b&&V.key===_.key;)V!==_&&B(n,V,_,s,h,w),_.dom!=null&&(h=_.dom),W--,H--,V=r[W],_=a[H];if(b>H)fe(n,r,N,W+1);else if(N>W)p(n,a,b,H+1,s,h,w);else{var Wt=h,Xe=H-b+1,se=new Array(Xe),Ne=0,D=0,qe=2147483647,$e=0,de,_e;for(D=0;D<Xe;D++)se[D]=-1;for(D=H;D>=b;D--){de==null&&(de=x(r,N,W+1)),_=a[D];var ue=de[_.key];ue!=null&&(qe=ue<qe?ue:-1,se[D-b]=ue,V=r[ue],r[ue]=null,V!==_&&B(n,V,_,s,h,w),_.dom!=null&&(h=_.dom),$e++)}if(h=Wt,$e!==W-N+1&&fe(n,r,N,W+1),$e===0)p(n,a,b,H+1,s,h,w);else if(qe===-1)for(_e=J(se),Ne=_e.length-1,D=H;D>=b;D--)U=a[D],se[D-b]===-1?m(n,U,s,w,h):_e[Ne]===D-b?Ne--:ae(n,U,h),U.dom!=null&&(h=a[D].dom);else for(D=H;D>=b;D--)U=a[D],se[D-b]===-1&&m(n,U,s,w,h),U.dom!=null&&(h=a[D].dom)}}else{var xe=r.length<a.length?r.length:a.length;for(b=b<N?b:N;b<xe;b++)Q=r[b],U=a[b],!(Q===U||Q==null&&U==null)&&(Q==null?m(n,U,s,w,G(r,b+1,h)):U==null?we(n,Q):B(n,Q,U,s,G(r,b+1,h),w));r.length>xe&&fe(n,r,b,r.length),a.length>xe&&p(n,a,b,a.length,s,h,w)}}}function B(n,r,a,s,h,w){var C=r.tag,A=a.tag;if(C===A){if(a.state=r.state,a.events=r.events,Vt(a,r))return;if(typeof C=="string")switch(a.attrs!=null&&Ie(a.attrs,a,s),C){case"#":j(r,a);break;case"<":E(n,r,a,w,h);break;case"[":$(n,r,a,s,h,w);break;default:O(r,a,s,w)}else z(n,r,a,s,h,w)}else we(n,r),m(n,a,s,w,h)}function j(n,r){n.children.toString()!==r.children.toString()&&(n.dom.nodeValue=r.children),r.dom=n.dom}function E(n,r,a,s,h){r.children!==a.children?(Je(n,r),v(n,a,s,h)):(a.dom=r.dom,a.domSize=r.domSize,a.instance=r.instance)}function $(n,r,a,s,h,w){R(n,r.children,a.children,s,h,w);var C=0,A=a.children;if(a.dom=null,A!=null){for(var b=0;b<A.length;b++){var N=A[b];N!=null&&N.dom!=null&&(a.dom==null&&(a.dom=N.dom),C+=N.domSize||1)}C!==1&&(a.domSize=C)}}function O(n,r,a,s){var h=r.dom=n.dom;s=o(r)||s,r.tag==="textarea"&&r.attrs==null&&(r.attrs={}),Ft(r,n.attrs,r.attrs,s),Be(r)||R(h,n.children,r.children,a,null,s)}function z(n,r,a,s,h,w){if(a.instance=Le.normalize(c.call(a.state.view,a)),a.instance===a)throw Error("A view cannot return the vnode it received as argument");Ie(a.state,a,s),a.attrs!=null&&Ie(a.attrs,a,s),a.instance!=null?(r.instance==null?m(n,a.instance,s,w,h):B(n,r.instance,a.instance,s,h,w),a.dom=a.instance.dom,a.domSize=a.instance.domSize):r.instance!=null?(we(n,r.instance),a.dom=void 0,a.domSize=0):(a.dom=r.dom,a.domSize=r.domSize)}function x(n,r,a){for(var s=Object.create(null);r<a;r++){var h=n[r];if(h!=null){var w=h.key;w!=null&&(s[w]=r)}}return s}var P=[];function J(n){for(var r=[0],a=0,s=0,h=0,w=P.length=n.length,h=0;h<w;h++)P[h]=n[h];for(var h=0;h<w;++h)if(n[h]!==-1){var C=r[r.length-1];if(n[C]<n[h]){P[h]=C,r.push(h);continue}for(a=0,s=r.length-1;a<s;){var A=(a>>>1)+(s>>>1)+(a&s&1);n[r[A]]<n[h]?a=A+1:s=A}n[h]<n[r[a]]&&(a>0&&(P[h]=r[a-1]),r[a]=h)}for(a=r.length,s=r[a-1];a-- >0;)r[a]=s,s=P[s];return P.length=0,r}function G(n,r,a){for(;r<n.length;r++)if(n[r]!=null&&n[r].dom!=null)return n[r].dom;return a}function ae(n,r,a){var s=t.createDocumentFragment();te(n,s,r),Y(n,s,a)}function te(n,r,a){for(;a.dom!=null&&a.dom.parentNode===n;){if(typeof a.tag!="string"){if(a=a.instance,a!=null)continue}else if(a.tag==="<")for(var s=0;s<a.instance.length;s++)r.appendChild(a.instance[s]);else if(a.tag!=="[")r.appendChild(a.dom);else if(a.children.length===1){if(a=a.children[0],a!=null)continue}else for(var s=0;s<a.children.length;s++){var h=a.children[s];h!=null&&te(n,r,h)}break}}function Y(n,r,a){a!=null?n.insertBefore(r,a):n.appendChild(r)}function Be(n){if(n.attrs==null||n.attrs.contenteditable==null&&n.attrs.contentEditable==null)return!1;var r=n.children;if(r!=null&&r.length===1&&r[0].tag==="<"){var a=r[0].children;n.dom.innerHTML!==a&&(n.dom.innerHTML=a)}else if(r!=null&&r.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function fe(n,r,a,s){for(var h=a;h<s;h++){var w=r[h];w!=null&&we(n,w)}}function we(n,r){var a=0,s=r.state,h,w;if(typeof r.tag!="string"&&typeof r.state.onbeforeremove=="function"){var C=c.call(r.state.onbeforeremove,r);C!=null&&typeof C.then=="function"&&(a=1,h=C)}if(r.attrs&&typeof r.attrs.onbeforeremove=="function"){var C=c.call(r.attrs.onbeforeremove,r);C!=null&&typeof C.then=="function"&&(a|=2,w=C)}if(f(r,s),!a)ye(r),Ce(n,r);else{if(h!=null){var A=function(){a&1&&(a&=2,a||b())};h.then(A,A)}if(w!=null){var A=function(){a&2&&(a&=1,a||b())};w.then(A,A)}}function b(){f(r,s),ye(r),Ce(n,r)}}function Je(n,r){for(var a=0;a<r.instance.length;a++)n.removeChild(r.instance[a])}function Ce(n,r){for(;r.dom!=null&&r.dom.parentNode===n;){if(typeof r.tag!="string"){if(r=r.instance,r!=null)continue}else if(r.tag==="<")Je(n,r);else{if(r.tag!=="["&&(n.removeChild(r.dom),!Array.isArray(r.children)))break;if(r.children.length===1){if(r=r.children[0],r!=null)continue}else for(var a=0;a<r.children.length;a++){var s=r.children[a];s!=null&&Ce(n,s)}}break}}function ye(n){if(typeof n.tag!="string"&&typeof n.state.onremove=="function"&&c.call(n.state.onremove,n),n.attrs&&typeof n.attrs.onremove=="function"&&c.call(n.attrs.onremove,n),typeof n.tag!="string")n.instance!=null&&ye(n.instance);else{var r=n.children;if(Array.isArray(r))for(var a=0;a<r.length;a++){var s=r[a];s!=null&&ye(s)}}}function Dt(n,r,a){n.tag==="input"&&r.type!=null&&n.dom.setAttribute("type",r.type);var s=r!=null&&n.tag==="input"&&r.type==="file";for(var h in r)Ee(n,h,null,r[h],a,s)}function Ee(n,r,a,s,h,w){if(!(r==="key"||r==="is"||s==null||Ve(r)||a===s&&!Kt(n,r)&&typeof s!="object"||r==="type"&&n.tag==="input")){if(r[0]==="o"&&r[1]==="n")return Ge(n,r,s);if(r.slice(0,6)==="xlink:")n.dom.setAttributeNS("http://www.w3.org/1999/xlink",r.slice(6),s);else if(r==="style")Qe(n.dom,a,s);else if(We(n,r,h)){if(r==="value"){if((n.tag==="input"||n.tag==="textarea")&&n.dom.value===""+s&&(w||n.dom===l())||n.tag==="select"&&a!==null&&n.dom.value===""+s||n.tag==="option"&&a!==null&&n.dom.value===""+s)return;if(w&&""+s!=""){console.error("`value` is read-only on file inputs!");return}}n.dom[r]=s}else typeof s=="boolean"?s?n.dom.setAttribute(r,""):n.dom.removeAttribute(r):n.dom.setAttribute(r==="className"?"class":r,s)}}function Ut(n,r,a,s){if(!(r==="key"||r==="is"||a==null||Ve(r)))if(r[0]==="o"&&r[1]==="n")Ge(n,r,void 0);else if(r==="style")Qe(n.dom,a,null);else if(We(n,r,s)&&r!=="className"&&r!=="title"&&!(r==="value"&&(n.tag==="option"||n.tag==="select"&&n.dom.selectedIndex===-1&&n.dom===l()))&&!(n.tag==="input"&&r==="type"))n.dom[r]=null;else{var h=r.indexOf(":");h!==-1&&(r=r.slice(h+1)),a!==!1&&n.dom.removeAttribute(r==="className"?"class":r)}}function Ht(n,r){if("value"in r)if(r.value===null)n.dom.selectedIndex!==-1&&(n.dom.value=null);else{var a=""+r.value;(n.dom.value!==a||n.dom.selectedIndex===-1)&&(n.dom.value=a)}"selectedIndex"in r&&Ee(n,"selectedIndex",null,r.selectedIndex,void 0)}function Ft(n,r,a,s){if(r&&r===a&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),a!=null){n.tag==="input"&&a.type!=null&&n.dom.setAttribute("type",a.type);var h=n.tag==="input"&&a.type==="file";for(var w in a)Ee(n,w,r&&r[w],a[w],s,h)}var C;if(r!=null)for(var w in r)(C=r[w])!=null&&(a==null||a[w]==null)&&Ut(n,w,C,s)}function Kt(n,r){return r==="value"||r==="checked"||r==="selectedIndex"||r==="selected"&&n.dom===l()||n.tag==="option"&&n.dom.parentNode===t.activeElement}function Ve(n){return n==="oninit"||n==="oncreate"||n==="onupdate"||n==="onremove"||n==="onbeforeremove"||n==="onbeforeupdate"}function We(n,r,a){return a===void 0&&(n.tag.indexOf("-")>-1||n.attrs!=null&&n.attrs.is||r!=="href"&&r!=="list"&&r!=="form"&&r!=="width"&&r!=="height")&&r in n.dom}var Bt=/[A-Z]/g;function Jt(n){return"-"+n.toLowerCase()}function Oe(n){return n[0]==="-"&&n[1]==="-"?n:n==="cssFloat"?"float":n.replace(Bt,Jt)}function Qe(n,r,a){if(r!==a)if(a==null)n.style.cssText="";else if(typeof a!="object")n.style.cssText=a;else if(r==null||typeof r!="object"){n.style.cssText="";for(var s in a){var h=a[s];h!=null&&n.style.setProperty(Oe(s),String(h))}}else{for(var s in a){var h=a[s];h!=null&&(h=String(h))!==String(r[s])&&n.style.setProperty(Oe(s),h)}for(var s in r)r[s]!=null&&a[s]==null&&n.style.removeProperty(Oe(s))}}function Pe(){this._=i}Pe.prototype=Object.create(null),Pe.prototype.handleEvent=function(n){var r=this["on"+n.type],a;typeof r=="function"?a=r.call(n.currentTarget,n):typeof r.handleEvent=="function"&&r.handleEvent(n),this._&&n.redraw!==!1&&(0,this._)(),a===!1&&(n.preventDefault(),n.stopPropagation())};function Ge(n,r,a){if(n.events!=null){if(n.events._=i,n.events[r]===a)return;a!=null&&(typeof a=="function"||typeof a=="object")?(n.events[r]==null&&n.dom.addEventListener(r.slice(2),n.events,!1),n.events[r]=a):(n.events[r]!=null&&n.dom.removeEventListener(r.slice(2),n.events,!1),n.events[r]=void 0)}else a!=null&&(typeof a=="function"||typeof a=="object")&&(n.events=new Pe,n.dom.addEventListener(r.slice(2),n.events,!1),n.events[r]=a)}function Ae(n,r,a){typeof n.oninit=="function"&&c.call(n.oninit,r),typeof n.oncreate=="function"&&a.push(c.bind(n.oncreate,r))}function Ie(n,r,a){typeof n.onupdate=="function"&&a.push(c.bind(n.onupdate,r))}function Vt(n,r){do{if(n.attrs!=null&&typeof n.attrs.onbeforeupdate=="function"){var a=c.call(n.attrs.onbeforeupdate,n,r);if(a!==void 0&&!a)break}if(typeof n.tag!="string"&&typeof n.state.onbeforeupdate=="function"){var a=c.call(n.state.onbeforeupdate,n,r);if(a!==void 0&&!a)break}return!1}while(!1);return n.dom=r.dom,n.domSize=r.domSize,n.instance=r.instance,n.attrs=r.attrs,n.children=r.children,n.text=r.text,!0}var le;return function(n,r,a){if(!n)throw new TypeError("DOM element being rendered to does not exist.");if(le!=null&&n.contains(le))throw new TypeError("Node is currently being rendered to and thus is locked.");var s=i,h=le,w=[],C=l(),A=n.namespaceURI;le=n,i=typeof a=="function"?a:void 0;try{n.vnodes==null&&(n.textContent=""),r=Le.normalizeChildren(Array.isArray(r)?r:[r]),R(n,n.vnodes,r,w,null,A==="http://www.w3.org/1999/xhtml"?void 0:A),n.vnodes=r,C!=null&&l()!==C&&typeof C.focus=="function"&&C.focus();for(var b=0;b<w.length;b++)w[b]()}finally{i=s,le=h}}},kt=fr(typeof window!="undefined"?window:null),Ze=ee,lr=function(e,t,i){var u=[],o=!1,f=-1;function c(){for(f=0;f<u.length;f+=2)try{e(u[f],Ze(u[f+1]),l)}catch(m){i.error(m)}f=-1}function l(){o||(o=!0,t(function(){o=!1,c()}))}l.sync=c;function p(m,y){if(y!=null&&y.view==null&&typeof y!="function")throw new TypeError("m.mount expects a component, not a vnode.");var d=u.indexOf(m);d>=0&&(u.splice(d,2),d<=f&&(f-=2),e(m,[])),y!=null&&(u.push(m,y),e(m,Ze(y),l))}return{mount:p,redraw:l}},sr=kt,De=lr(sr,typeof requestAnimationFrame!="undefined"?requestAnimationFrame:null,typeof console!="undefined"?console:null),St=function(e){if(Object.prototype.toString.call(e)!=="[object Object]")return"";var t=[];for(var i in e)u(i,e[i]);return t.join("&");function u(o,f){if(Array.isArray(f))for(var c=0;c<f.length;c++)u(o+"["+c+"]",f[c]);else if(Object.prototype.toString.call(f)==="[object Object]")for(var c in f)u(o+"["+c+"]",f[c]);else t.push(encodeURIComponent(o)+(f!=null&&f!==""?"="+encodeURIComponent(f):""))}},pr=Te,Ct=Object.assign||function(e,t){for(var i in t)pr.call(t,i)&&(e[i]=t[i])},hr=St,gr=Ct,Ue=function(e,t){if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(t==null)return e;var i=e.indexOf("?"),u=e.indexOf("#"),o=u<0?e.length:u,f=i<0?o:i,c=e.slice(0,f),l={};gr(l,t);var p=c.replace(/:([^\/\.-]+)(\.{3})?/g,function(T,q,R){return delete l[q],t[q]==null?T:R?t[q]:encodeURIComponent(String(t[q]))}),m=p.indexOf("?"),y=p.indexOf("#"),d=y<0?p.length:y,v=m<0?d:m,k=p.slice(0,v);i>=0&&(k+=e.slice(i,o)),m>=0&&(k+=(i<0?"?":"&")+p.slice(m,d));var S=hr(l);return S&&(k+=(i<0&&m<0?"?":"&")+S),u>=0&&(k+=e.slice(u)),y>=0&&(k+=(u<0?"":"&")+p.slice(y)),k},mr=Ue,et=Te,wr=function(e,t,i){var u=0;function o(l){return new t(l)}o.prototype=t.prototype,o.__proto__=t;function f(l){return function(p,m){typeof p!="string"?(m=p,p=p.url):m==null&&(m={});var y=new t(function(S,T){l(mr(p,m.params),m,function(q){if(typeof m.type=="function")if(Array.isArray(q))for(var R=0;R<q.length;R++)q[R]=new m.type(q[R]);else q=new m.type(q);S(q)},T)});if(m.background===!0)return y;var d=0;function v(){--d===0&&typeof i=="function"&&i()}return k(y);function k(S){var T=S.then;return S.constructor=o,S.then=function(){d++;var q=T.apply(S,arguments);return q.then(v,function(R){if(v(),d===0)throw R}),k(q)},S}}}function c(l,p){for(var m in l.headers)if(et.call(l.headers,m)&&m.toLowerCase()===p)return!0;return!1}return{request:f(function(l,p,m,y){var d=p.method!=null?p.method.toUpperCase():"GET",v=p.body,k=(p.serialize==null||p.serialize===JSON.serialize)&&!(v instanceof e.FormData||v instanceof e.URLSearchParams),S=p.responseType||(typeof p.extract=="function"?"":"json"),T=new e.XMLHttpRequest,q=!1,R=!1,B=T,j,E=T.abort;T.abort=function(){q=!0,E.call(this)},T.open(d,l,p.async!==!1,typeof p.user=="string"?p.user:void 0,typeof p.password=="string"?p.password:void 0),k&&v!=null&&!c(p,"content-type")&&T.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof p.deserialize!="function"&&!c(p,"accept")&&T.setRequestHeader("Accept","application/json, text/*"),p.withCredentials&&(T.withCredentials=p.withCredentials),p.timeout&&(T.timeout=p.timeout),T.responseType=S;for(var $ in p.headers)et.call(p.headers,$)&&T.setRequestHeader($,p.headers[$]);T.onreadystatechange=function(O){if(!q&&O.target.readyState===4)try{var z=O.target.status>=200&&O.target.status<300||O.target.status===304||/^file:\/\//i.test(l),x=O.target.response,P;if(S==="json"){if(!O.target.responseType&&typeof p.extract!="function")try{x=JSON.parse(O.target.responseText)}catch{x=null}}else(!S||S==="text")&&x==null&&(x=O.target.responseText);if(typeof p.extract=="function"?(x=p.extract(O.target,p),z=!0):typeof p.deserialize=="function"&&(x=p.deserialize(x)),z)m(x);else{var J=function(){try{P=O.target.responseText}catch{P=x}var G=new Error(P);G.code=O.target.status,G.response=x,y(G)};T.status===0?setTimeout(function(){R||J()}):J()}}catch(G){y(G)}},T.ontimeout=function(O){R=!0;var z=new Error("Request timed out");z.code=O.target.status,y(z)},typeof p.config=="function"&&(T=p.config(T,p,l)||T,T!==B&&(j=T.abort,T.abort=function(){q=!0,j.call(this)})),v==null?T.send():typeof p.serialize=="function"?T.send(p.serialize(v)):v instanceof e.FormData||v instanceof e.URLSearchParams?T.send(v):T.send(JSON.stringify(v))}),jsonp:f(function(l,p,m,y){var d=p.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+u++,v=e.document.createElement("script");e[d]=function(k){delete e[d],v.parentNode.removeChild(v),m(k)},v.onerror=function(){delete e[d],v.parentNode.removeChild(v),y(new Error("JSONP request failed"))},v.src=l+(l.indexOf("?")<0?"?":"&")+encodeURIComponent(p.callbackKey||"callback")+"="+encodeURIComponent(d),e.document.documentElement.appendChild(v)})}},yr=ge.exports,dr=De,br=wr(typeof window!="undefined"?window:null,yr,dr.redraw);function tt(e){try{return decodeURIComponent(e)}catch{return e}}var Et=function(e){if(e===""||e==null)return{};e.charAt(0)==="?"&&(e=e.slice(1));for(var t=e.split("&"),i={},u={},o=0;o<t.length;o++){var f=t[o].split("="),c=tt(f[0]),l=f.length===2?tt(f[1]):"";l==="true"?l=!0:l==="false"&&(l=!1);var p=c.split(/\]\[?|\[/),m=u;c.indexOf("[")>-1&&p.pop();for(var y=0;y<p.length;y++){var d=p[y],v=p[y+1],k=v==""||!isNaN(parseInt(v,10));if(d===""){var c=p.slice(0,y).join();i[c]==null&&(i[c]=Array.isArray(m)?m.length:0),d=i[c]++}else if(d==="__proto__")break;if(y===p.length-1)m[d]=l;else{var S=Object.getOwnPropertyDescriptor(m,d);S!=null&&(S=S.value),S==null&&(m[d]=S=k?[]:{}),m=S}}}return u},vr=Et,He=function(e){var t=e.indexOf("?"),i=e.indexOf("#"),u=i<0?e.length:i,o=t<0?u:t,f=e.slice(0,o).replace(/\/{2,}/g,"/");return f?(f[0]!=="/"&&(f="/"+f),f.length>1&&f[f.length-1]==="/"&&(f=f.slice(0,-1))):f="/",{path:f,params:t<0?{}:vr(e.slice(t+1,u))}},Tr=He,kr=function(e){var t=Tr(e),i=Object.keys(t.params),u=[],o=new RegExp("^"+t.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(f,c,l){return c==null?"\\"+f:(u.push({k:c,r:l==="..."}),l==="..."?"(.*)":l==="."?"([^/]+)\\.":"([^/]+)"+(l||""))})+"$");return function(f){for(var c=0;c<i.length;c++)if(t.params[i[c]]!==f.params[i[c]])return!1;if(!u.length)return o.test(f.path);var l=o.exec(f.path);if(l==null)return!1;for(var c=0;c<u.length;c++)f.params[u[c].k]=u[c].r?l[c+1]:decodeURIComponent(l[c+1]);return!0}},rt=Te,nt=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$"),Ot=function(e,t){var i={};if(t!=null)for(var u in e)rt.call(e,u)&&!nt.test(u)&&t.indexOf(u)<0&&(i[u]=e[u]);else for(var u in e)rt.call(e,u)&&!nt.test(u)&&(i[u]=e[u]);return i},Sr=ee,Cr=vt,Er=ge.exports,it=Ue,at=He,Or=kr,Pr=Ct,Ar=Ot,Me={};function Ir(e){try{return decodeURIComponent(e)}catch{return e}}var xr=function(e,t){var i=e==null?null:typeof e.setImmediate=="function"?e.setImmediate:e.setTimeout,u=Er.resolve(),o=!1,f=!1,c=0,l,p,m=Me,y,d,v,k,S={onbeforeupdate:function(){return c=c?2:1,!(!c||Me===m)},onremove:function(){e.removeEventListener("popstate",R,!1),e.removeEventListener("hashchange",q,!1)},view:function(){if(!(!c||Me===m)){var E=[Sr(y,d.key,d)];return m&&(E=m.render(E[0])),E}}},T=j.SKIP={};function q(){o=!1;var E=e.location.hash;j.prefix[0]!=="#"&&(E=e.location.search+E,j.prefix[0]!=="?"&&(E=e.location.pathname+E,E[0]!=="/"&&(E="/"+E)));var $=E.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,Ir).slice(j.prefix.length),O=at($);Pr(O.params,e.history.state);function z(P){console.error(P),B(p,null,{replace:!0})}x(0);function x(P){for(;P<l.length;P++)if(l[P].check(O)){var J=l[P].component,G=l[P].route,ae=J,te=k=function(Y){if(te===k){if(Y===T)return x(P+1);y=Y!=null&&(typeof Y.view=="function"||typeof Y=="function")?Y:"div",d=O.params,v=$,k=null,m=J.render?J:null,c===2?t.redraw():(c=2,t.redraw.sync())}};J.view||typeof J=="function"?(J={},te(ae)):J.onmatch?u.then(function(){return J.onmatch(O.params,$,G)}).then(te,$===p?null:z):te("div");return}if($===p)throw new Error("Could not resolve default route "+p+".");B(p,null,{replace:!0})}}function R(){o||(o=!0,i(q))}function B(E,$,O){if(E=it(E,$),f){R();var z=O?O.state:null,x=O?O.title:null;O&&O.replace?e.history.replaceState(z,x,j.prefix+E):e.history.pushState(z,x,j.prefix+E)}else e.location.href=j.prefix+E}function j(E,$,O){if(!E)throw new TypeError("DOM element being rendered to does not exist.");if(l=Object.keys(O).map(function(x){if(x[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(x))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:x,component:O[x],check:Or(x)}}),p=$,$!=null){var z=at($);if(!l.some(function(x){return x.check(z)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof e.history.pushState=="function"?e.addEventListener("popstate",R,!1):j.prefix[0]==="#"&&e.addEventListener("hashchange",q,!1),f=!0,t.mount(E,S),q()}return j.set=function(E,$,O){k!=null&&(O=O||{},O.replace=!0),k=null,B(E,$,O)},j.get=function(){return v},j.prefix="#!",j.Link={view:function(E){var $=Cr(E.attrs.selector||"a",Ar(E.attrs,["options","params","selector","onclick"]),E.children),O,z,x;return($.attrs.disabled=Boolean($.attrs.disabled))?($.attrs.href=null,$.attrs["aria-disabled"]="true"):(O=E.attrs.options,z=E.attrs.onclick,x=it($.attrs.href,E.attrs.params),$.attrs.href=j.prefix+x,$.attrs.onclick=function(P){var J;typeof z=="function"?J=z.call(P.currentTarget,P):z==null||typeof z!="object"||typeof z.handleEvent=="function"&&z.handleEvent(P),J!==!1&&!P.defaultPrevented&&(P.button===0||P.which===0||P.which===1)&&(!P.currentTarget.target||P.currentTarget.target==="_self")&&!P.ctrlKey&&!P.metaKey&&!P.shiftKey&&!P.altKey&&(P.preventDefault(),P.redraw=!1,j.set(x,null,O))}),$}},j.param=function(E){return d&&E!=null?d[E]:d},j},jr=De,Nr=xr(typeof window!="undefined"?window:null,jr),ke=cr,Pt=br,At=De,K=function(){return ke.apply(this,arguments)};K.m=ke;K.trust=ke.trust;K.fragment=ke.fragment;K.Fragment="[";K.mount=At.mount;K.route=Nr;K.render=kt;K.redraw=At.redraw;K.request=Pt.request;K.jsonp=Pt.jsonp;K.parseQueryString=Et;K.buildQueryString=St;K.parsePathname=He;K.buildPathname=Ue;K.vnode=ee;K.PromisePolyfill=Tt;K.censor=Ot;var g=K;function L(e){return e!=null&&typeof e=="object"&&e["@@functional/placeholder"]===!0}function X(e){return function t(i){return arguments.length===0||L(i)?t:e.apply(this,arguments)}}function re(e){return function t(i,u){switch(arguments.length){case 0:return t;case 1:return L(i)?t:X(function(o){return e(i,o)});default:return L(i)&&L(u)?t:L(i)?X(function(o){return e(o,u)}):L(u)?X(function(o){return e(i,o)}):e(i,u)}}}function qr(e){return function t(i,u,o){switch(arguments.length){case 0:return t;case 1:return L(i)?t:re(function(f,c){return e(i,f,c)});case 2:return L(i)&&L(u)?t:L(i)?re(function(f,c){return e(f,u,c)}):L(u)?re(function(f,c){return e(i,f,c)}):X(function(f){return e(i,u,f)});default:return L(i)&&L(u)&&L(o)?t:L(i)&&L(u)?re(function(f,c){return e(f,c,o)}):L(i)&&L(o)?re(function(f,c){return e(f,u,c)}):L(u)&&L(o)?re(function(f,c){return e(i,f,c)}):L(i)?X(function(f){return e(f,u,o)}):L(u)?X(function(f){return e(i,f,o)}):L(o)?X(function(f){return e(i,u,f)}):e(i,u,o)}}}var $r=Array.isArray||function(t){return t!=null&&t.length>=0&&Object.prototype.toString.call(t)==="[object Array]"};function _r(e){return Object.prototype.toString.call(e)==="[object String]"}function ve(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var ut=Object.prototype.toString,Lr=function(){return ut.call(arguments)==="[object Arguments]"?function(t){return ut.call(t)==="[object Arguments]"}:function(t){return ve("callee",t)}}(),It=Lr,Mr=!{toString:null}.propertyIsEnumerable("toString"),ot=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ct=function(){return arguments.propertyIsEnumerable("length")}(),Rr=function(t,i){for(var u=0;u<t.length;){if(t[u]===i)return!0;u+=1}return!1},zr=X(typeof Object.keys=="function"&&!ct?function(t){return Object(t)!==t?[]:Object.keys(t)}:function(t){if(Object(t)!==t)return[];var i,u,o=[],f=ct&&It(t);for(i in t)ve(i,t)&&(!f||i!=="length")&&(o[o.length]=i);if(Mr)for(u=ot.length-1;u>=0;)i=ot[u],ve(i,t)&&!Rr(o,i)&&(o[o.length]=i),u-=1;return o}),ft=zr,Dr=X(function(t){return t===null?"Null":t===void 0?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}),lt=Dr;function st(e){for(var t=[],i;!(i=e.next()).done;)t.push(i.value);return t}function pt(e,t,i){for(var u=0,o=i.length;u<o;){if(e(t,i[u]))return!0;u+=1}return!1}function Ur(e){var t=String(e).match(/^function (\w*)/);return t==null?"":t[1]}function Hr(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Re=typeof Object.is=="function"?Object.is:Hr;function ht(e,t,i,u){var o=st(e),f=st(t);function c(l,p){return Fe(l,p,i.slice(),u.slice())}return!pt(function(l,p){return!pt(c,p,l)},f,o)}function Fe(e,t,i,u){if(Re(e,t))return!0;var o=lt(e);if(o!==lt(t)||e==null||t==null)return!1;if(typeof e["fantasy-land/equals"]=="function"||typeof t["fantasy-land/equals"]=="function")return typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t)&&typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e);if(typeof e.equals=="function"||typeof t.equals=="function")return typeof e.equals=="function"&&e.equals(t)&&typeof t.equals=="function"&&t.equals(e);switch(o){case"Arguments":case"Array":case"Object":if(typeof e.constructor=="function"&&Ur(e.constructor)==="Promise")return e===t;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof t&&Re(e.valueOf(),t.valueOf())))return!1;break;case"Date":if(!Re(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(!(e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.sticky===t.sticky&&e.unicode===t.unicode))return!1;break}for(var f=i.length-1;f>=0;){if(i[f]===e)return u[f]===t;f-=1}switch(o){case"Map":return e.size!==t.size?!1:ht(e.entries(),t.entries(),i.concat([e]),u.concat([t]));case"Set":return e.size!==t.size?!1:ht(e.values(),t.values(),i.concat([e]),u.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var c=ft(e);if(c.length!==ft(t).length)return!1;var l=i.concat([e]),p=u.concat([t]);for(f=c.length-1;f>=0;){var m=c[f];if(!(ve(m,t)&&Fe(t[m],e[m],l,p)))return!1;f-=1}return!0}var Fr=re(function(t,i){return Fe(t,i,[],[])}),xt=Fr;function Kr(e){return Object.prototype.toString.call(e)==="[object Object]"}var Br=X(function(t){return t!=null&&typeof t["fantasy-land/empty"]=="function"?t["fantasy-land/empty"]():t!=null&&t.constructor!=null&&typeof t.constructor["fantasy-land/empty"]=="function"?t.constructor["fantasy-land/empty"]():t!=null&&typeof t.empty=="function"?t.empty():t!=null&&t.constructor!=null&&typeof t.constructor.empty=="function"?t.constructor.empty():$r(t)?[]:_r(t)?"":Kr(t)?{}:It(t)?function(){return arguments}():void 0}),Jr=Br,Vr=X(function(t){return t!=null&&xt(t,Jr(t))}),gt=Vr,Wr=qr(function(t,i,u){return xt(i,u[t])}),Z=Wr,jt=typeof setImmediate!="undefined"?setImmediate:typeof process!="undefined"?process.nextTick:setTimeout,Qr=I;function I(e,t){this.fork=e,this.cleanup=t||function(){}}I.prototype.of=function(t){return new I(function(i,u){return u(t)})};I.of=I.prototype.of;I.prototype.rejected=function(t){return new I(function(i){return i(t)})};I.rejected=I.prototype.rejected;I.prototype.map=function(t){var i=this.fork,u=this.cleanup;return new I(function(o,f){return i(function(c){return o(c)},function(c){return f(t(c))})},u)};I.prototype.chain=function(t){var i=this.fork,u=this.cleanup;return new I(function(o,f){return i(function(c){return o(c)},function(c){return t(c).fork(o,f)})},u)};I.prototype.ap=function(t){var i=this.fork,u=t.fork,o=this.cleanup,f=t.cleanup;function c(l){o(l[0]),f(l[1])}return new I(function(l,p){var m,y=!1,d,v=!1,k=!1,S,T=i(B,R(function(j){y=!0,m=j})),q=u(B,R(function(j){v=!0,d=j}));function R(j){return function(E){if(!k)return j(E),y&&v?(jt(function(){c(S)}),p(m(d))):E}}function B(j){if(!k)return k=!0,l(j)}return S=[T,q]},c)};I.prototype.concat=function(t){var i=this.fork,u=t.fork,o=this.cleanup,f=t.cleanup;function c(l){o(l[0]),f(l[1])}return new I(function(l,p){var m=!1,y,d=i(k(l),k(p)),v=u(k(l),k(p));return y=[d,v];function k(S){return function(T){if(!m)return m=!0,jt(function(){c(y)}),S(T)}}},c)};I.empty=function(){return new I(function(){})};I.prototype.empty=I.empty;I.prototype.toString=function(){return"Task"};I.prototype.orElse=function(t){var i=this.fork,u=this.cleanup;return new I(function(o,f){return i(function(c){return t(c).fork(o,f)},function(c){return f(c)})},u)};I.prototype.fold=function(t,i){var u=this.fork,o=this.cleanup;return new I(function(f,c){return u(function(l){return c(t(l))},function(l){return c(i(l))})},o)};I.prototype.cata=function(t){return this.fold(t.Rejected,t.Resolved)};I.prototype.swap=function(){var t=this.fork,i=this.cleanup;return new I(function(u,o){return t(function(f){return o(f)},function(f){return u(f)})},i)};I.prototype.bimap=function(t,i){var u=this.fork,o=this.cleanup;return new I(function(f,c){return u(function(l){return f(t(l))},function(l){return c(i(l))})},o)};I.prototype.rejectedMap=function(t){var i=this.fork,u=this.cleanup;return new I(function(o,f){return i(function(c){return o(t(c))},function(c){return f(c)})},u)};var Nt=Qr;const Gr="https://shopper.deno.dev/",Xr={"Content-Type":"application/json"},Yr=e=>t=>i=>t(JSON.parse(JSON.stringify(i))),Zr=e=>t=>i=>t(i),be=e=>t=>i=>u=>new Nt((o,f)=>g.request({method:e,url:Gr+i,headers:Xr,body:u,withCredentials:!1}).then(Zr()(f),Yr()(o))),en={getTask:(e,t)=>be("GET")(e)(t)(),postTask:(e,t,i)=>be("POST")(e)(t)(i),putTask:(e,t,i)=>be("PUT")(e)(t)(i),deleteTask:(e,t)=>be("DELETE")(e)(t)()},qt=()=>"xxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,i=e=="x"?t:t&3|8;return i.toString(16)}),$t=e=>t=>(console.log(e,t),t);window.log=$t;const tn=["Of Them","Boxe(s)","Can(s)","gram(s)","kilogram(s)","pound(s)","liter(s)","mliter(s)","ounce(s)"],rn=e=>{var t;return e.stores.find(Z("id",(t=e.currentStore)==null?void 0:t.id))||e.stores[0]},ie=e=>{const t=c=>c.http.getTask(c,"stores"),i=c=>c.http.getTask(c,"cats"),u=c=>c.http.getTask(c,"items"),o=({stores:c,cats:l,items:p})=>{let m=l.map(y=>(y.items=p.filter(Z("catId",y.id)).sort((d,v)=>d.order-v.order).reverse(),y)).sort((y,d)=>y.order-d.order);return{cats:m,stores:c.map(y=>(y.cats=m.filter(Z("storeId",y.id)).sort((d,v)=>d.order-v.order),y)),items:p}},f=({stores:c,cats:l,items:p})=>{e.stores=c,e.cats=l,e.items=p.reverse(),e.currentStore=rn(e)};Nt.of(c=>l=>p=>o({stores:c,cats:l,items:p})).ap(t(e)).ap(i(e)).ap(u(e)).fork($t("error"),f)},nn=({catId:e,title:t,notes:i,quantity:u,unit:o,price:f,order:c})=>({id:qt(),title:t,notes:i,catId:e,order:c,quantity:u,unit:o,price:f,notes:i,purchased:!1}),an=(e,t=0)=>({title:e,id:qt(),order:t}),me={state:{},http:en,settings:{},state:{dragging:{item:"",swapItem:""},catIds:[],items:[],showModal:!1,modalContent:null},stores:[],cats:[],items:[],currentStore:null},un=(e,t)=>{let i=an(t.title);const u=log("error"),o=f=>{t.title="",e.state.showModal=!1,e.state.modalContent=null,ie(e)};e.http.postTask(e,"stores",i).fork(u,o)},_t=()=>{const e={title:""};return{view:({attrs:{mdl:t}})=>g("form.w3-container.w3-card.w3-white.w3-animate-zoom",{onsubmit:i=>i.preventDefault()},g("div.w3-section",g("label",g("b","Store Title")),g("input.w3-input.w3-border-bottom",{oncreate:({dom:i})=>{i.select(),i.focus()},type:"text",value:e.title,oninput:i=>e.title=i.target.value})),g("button.w3-button.w3-block.w3-orange.w3-section.w3-padding",{onclick:()=>un(t,e)},"add"))}},on=(e,t)=>e.cats.find(Z("id",t)).items.length,cn=(e,t,i)=>{const{catId:u,title:o,notes:f,order:c,quantity:l,unit:p,price:m,id:y}=t;let d=i?{catId:u,title:o,notes:f,order:c,quantity:l,unit:p,price:m,id:y}:nn({catId:u,title:o,notes:f,order:on(e,u),quantity:l,unit:p,price:m});const v=S=>{t={catId:u,title:"",notes:"",order:0,quantity:"",unit:"",price:0},ie(e),e.state.showModal=!1,e.state.modalContent=null};return((S,T)=>i?S.http.postTask(S,"items",T):S.http.putTask(S,`items/${T.id}`,T))(e,d).fork(log("error"),v)},Ke=({attrs:{mdl:e,catId:t,item:i,isEdit:u}})=>{const o={catId:t,catTitle:"",title:"",notes:"",order:0,quantity:0,unit:"",price:0};return t&&(o.catTitle=e.cats.find(Z("id",t)).title),u&&(o.catId=i.catId,o.title=i.title,o.notes=i.notes,o.order=i.order,o.quantity=i.quantity,o.unit=i.unit,o.price=i.price,o.id=i.id),{view:({attrs:{mdl:f}})=>{var c;return g("form.w3-container.w3-card.w3-white.w3-animate-zoom",{onsubmit:l=>l.preventDefault()},g("div.w3-section",g("label",g("b","Title")),g("input.w3-input.w3-border-bottom",{oncreate:({dom:l})=>{l.select(),l.focus()},type:"text",value:o.title,oninput:l=>o.title=l.target.value})),g("div.w3-section",g("label",g("b","Category")),g("select.w3-input.w3-border-bottom",{value:((c=f.cats.find(Z("id",o.catId)))==null?void 0:c.title)||"",onchange:l=>{o.catTitle=l.target.value,o.catId=f.cats.find(Z("title",o.catTitle)).id}},f.cats.map(l=>g(`option#${l.id}`,l.title)))),g("div.w3-section",g("label",g("b","Quantity")),g("input.w3-input.w3-border-bottom",{type:"number",value:o.quantity,oninput:l=>o.quantity=l.target.value})),g("div.w3-section",g("label",g("b","Unit")),g("select.w3-input.w3-border-bottom",{value:o.unit,onchange:l=>o.unit=l.target.value},tn.map(l=>g("option",l)))),g("div.w3-section",g("label",g("b","Price")),g("input.w3-input.w3-border-bottom",{type:"number",value:o.price,oninput:l=>o.price=l.target.value})),g("div.w3-section",g("label",g("b","Notes")),g("textarea.w3-input.w3-border-bottom",{oninput:l=>o.notes=l.target.value},o.notes)),g("button.w3-button.w3-block.w3-orange.w3-section.w3-padding",{onclick:()=>cn(f,o,u)},"add"))}}},he=new Set,fn=(e,t)=>{e.http.deleteTask(e,`stores/${t}`).fork(log("error deleteing"),()=>ie(e))},ln=(e,t)=>{e.http.deleteTask(e,`cats/${t}`).fork(log("error deleteing"),()=>ie(e))},sn=(e,t)=>Promise.resolve(e.setCat(t)),mt=(e,t,i)=>Promise.resolve(e.currentStore=i).then(()=>t.toggleSideBar(t)),pn=()=>({view:({attrs:{mdl:e,state:t}})=>g(".w3-sidebar#sidebar.w3-bar-block.w3-collapse.w3-card.w3-animate-left",{style:{width:e.settings.profile=="desktop"?"300px":"90%",display:t.sidebar.open?"block":"none"}},e.settings.profile!="desktop"&&g("button.w3-bar-item.w3-button.w3-large",{onclick:()=>t.toggleSideBar(t)},"Close "),g("button.w3-button.w3-orange",{onclick:()=>{e.state.modalContent=g(_t,{mdl:e}),e.state.showModal=!0}},"New Store"),e.stores.map((i,u)=>g(".w3-right-align.w3-row",{key:i.id},g("button.w3-button.w3-left-align.w3-col",{class:e.currentStore.id==i.id?"w3-leftbar w3-border-orange w3-border-10":"",onclick:o=>{o.stopPropagation(),mt(e,t,i)}},g(".w3-left-align.w3-col.s4",g("button.pointer.w3-badge.w3-pink.w3-border-0.w3-circle.w3-hover-red.w3-left-align",{onclick:o=>{o.stopPropagation(),fn(e,i.id)}},"x")),g("label.w3-label.w3-col.s4.w3-left-align.pointer",i.title),!gt(i.cats)&&g(".w3-col.s4.w3-right-align",{onclick:o=>{o.stopPropagation(),he.has(i.id)?he.delete(i.id):he.add(i.id)}},g("i.w3-btn.w3-circle",he.has(i.id)?"V":">"))),!gt(i.cats)&&g("ul.w3-list",{class:he.has(i.id)?"w3-show":"w3-hide",id:i.id},i.cats.map((o,f)=>{var c;return g(".w3-list-item.pointer.w3-row",{key:o.id,onclick:()=>{sn(t,o.id).then(()=>mt(e,t,i))}},g("button.pointer.w3-badge.w3-pink.w3-border-0.w3-circle.w3-hover-red.w3-left-align",{onclick:l=>{l.stopPropagation(),ln(e,o.id)}},"x"),g("label.w3-col s4",o.title),g(".w3-right-align.w3-col s4",g(".w3-tag w3-orange",(c=o.issues)==null?void 0:c.length)))})))))}),hn=()=>({view:({attrs:{mdl:e,state:t}})=>g("nav.w3-bar.w3-container.w3-padding.w3-fixed",g("button.w3-button.w3-hide-large.w3-border",{onclick:()=>t.toggleSideBar(t)},"MENU"),e.currentStore&&g(".w3-row w3-section",g(".m6 w3-left",g("h1.w3-title w3-col",e.currentStore.title)),g(".m3 w3-right",g("button. w3-button  w3-border w3-large w3-col",{onclick:()=>{e.state.modalContent=g(Ke,{mdl:e,catId:null}),e.state.showModal=!0}},"+"))))}),gn=(e,t)=>{console.log(e,t),e.http.deleteTask(e,`items/${t}`).fork(log("err"),()=>ie(e))},mn=(e,t)=>i=>{i.preventDefault();const u=()=>{ie(e),t.highlight=!1,e.state.dragging.item=null,e.state.dragging.swapItem=null};return e.state.dragging.item.order=e.state.dragging.swapItem.order,e.http.putTask(e,`items/${e.state.dragging.item.id}`,e.state.dragging.item).fork(log("error"),u),e},wn=(e,t,i)=>u=>{t.highlight=!0,e.state.dragging.swapItem=i,u.preventDefault()},yn=(e,t,i)=>u=>(t.highlight=!0,e.state.dragging.swapItem=i,u.preventDefault(),!0),dn=e=>t=>(e.highlight=!1,t.preventDefault(),!0),bn=(e,t,i)=>u=>(t.highlight=!1,e.state.dragging.swapItem=i,u.preventDefault(),!0),vn=e=>{const i=document.querySelector(".swipe-container"),u=document.querySelector(".output"),o=i.scrollLeft-i.clientWidth;o<80*-1?console.log("lrft",e):o>80?console.log("right",e):(console.log("nothing",e),u.innerHTML=`did not swipe ${80}px`)},Tn=()=>{const e={highlight:!1,draggable:!1};return{view:({attrs:{item:t,mdl:i}})=>g("li.w3-list-item.w3-leftbar.w3-hover-border-orange.dragster-block",{id:t.id,draggable:!0,class:e.highlight?"w3-orange":"",ondrop:mn(i,e),ondragover:wn(i,e,t),ondragenter:yn(i,e,t),ondragend:bn(i,e,t),ondragleave:dn(e),ondragstart:()=>i.state.dragging.item=t},g(".w3-bar.swipe-container",{ontouchend:vn},g(".swipe-action.swipe-left",g("button.w3-button w3-border.w3-right",{onclick:()=>{i.state.showModal=!0,i.state.modalContent=g(Ke,{catId:t.catId,mdl:i,item:t,isEdit:!0})}},"Edit")),g(".swipe-element",t.img&&g("img.w3-bar-item.w3-circle",{src:t.img,style:{width:"85px"}}),g("h4.w3-bar-item",t.title)),g(".swipe-action.swipe-right",g("button.w3-button w3-border.w3-right",{onclick:()=>gn(i,t.id)},"Delete"))),g(".w3-bar",t.quantity>1&&g("p.w3-p",`${t.quantity} ${t.unit}`)))}},kn=({attrs:{mdl:e,cat:t}})=>{const i={catId:t.id,title:t.title,items:t.items,isSelected:!1,togglePinSection:{onclick:()=>i.isSelected=!i.isSelected}};return{view:({attrs:{cat:u,mdl:o,key:f}})=>g("section.w3-section.w3-border-left.",{key:f,id:u.id},g(".w3-panel.w3-bar",{style:{position:"-webkit-sticky",position:"sticky",top:0,backgroundColor:"white"}},g("p.w3-right",u.title.toUpperCase()),g("button.w3-btn w3-border-none w3-padding.w3-left",{onclick:()=>{o.state.modalContent=g(Ke,{mdl:o,catId:u.id}),o.state.showModal=!0}},"+")),g(".w3-ul w3-paddings w3-border-top.dragster-region",u.items.map((c,l)=>g(Tn,{key:c.id,item:c,mdl:o}))))}},Sn=()=>({view:({attrs:{mdl:e,state:t}})=>g("section.w3-section.w3-row w3-ul. w3-padding-row",{onupdate:({dom:i})=>{t.setCat()&&(Array.from(i.children).find(Z("id",t.setCat())).scrollIntoView({behavior:"smooth",block:"start",inline:"center"}),t.setCat(null))},style:{height:"80dvh",overflow:"auto"}},e.currentStore?e.currentStore.cats.map((i,u)=>g(kn,{key:u,cat:i,mdl:e,state:t})):g("section.w3-section",g("button.w3-border-0 w3-button w3-panel.w3-display-middle w3-light-grey w3-col-1",{onclick:()=>{e.state.modalContent=g(_t,{mdl:e}),e.state.showModal=!0}},"Create a Store to Begin")))}),Cn=({attrs:{mdl:e}})=>({view:()=>g(".w3-modal#modal",{onclick:t=>{t.target.id=="modal"&&(e.state.showModal=!1,e.state.modalContent=null)},style:{display:e.state.showModal?"block":"none"}},g("modal.w3-modal-content",g(".w3-container",e.state.modalContent)))});M.SKIP={};M.lift=Pn;M.scan=En;M.merge=Lt;M.combine=Se;M.scanMerge=On;M["fantasy-land/of"]=M;var wt=!1;Object.defineProperty(M,"HALT",{get:function(){return wt||console.log("HALT is deprecated and has been renamed to SKIP"),wt=!0,M.SKIP}});function M(e){var t=[],i=[];function u(c){return arguments.length&&c!==M.SKIP&&(e=c,yt(u)&&(u.changing(),u.state="active",t.forEach(function(l,p){l(i[p](e))}))),e}u.constructor=M,u.state=arguments.length&&e!==M.SKIP?"active":"pending",u.parents=[],u.changing=function(){yt(u)&&(u.state="changing"),t.forEach(function(c){c.changing()})},u.map=function(c,l){var p=u.state==="active"&&l!==M.SKIP?M(c(e)):M();return p.parents.push(u),t.push(p),i.push(c),p};var o;function f(){return o=M(),o.map(function(c){return c===!0&&(u.parents.forEach(function(l){l.unregisterChild(u)}),u.state="ended",u.parents.length=t.length=i.length=0),c}),o}return u.toJSON=function(){return e!=null&&typeof e.toJSON=="function"?e.toJSON():e},u["fantasy-land/map"]=u.map,u["fantasy-land/ap"]=function(c){return Se(function(l,p){return l()(p())},[c,u])},u.unregisterChild=function(c){var l=t.indexOf(c);l!==-1&&(t.splice(l,1),i.splice(l,1))},Object.defineProperty(u,"end",{get:function(){return o||f()}}),u}function Se(e,t){var i=t.every(function(l){if(l.constructor!==M)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return l.state==="active"}),u=i?M(e.apply(null,t.concat([t]))):M(),o=[],f=t.map(function(l){return l.map(function(p){return o.push(l),(i||t.every(function(m){return m.state!=="pending"}))&&(i=!0,u(e.apply(null,t.concat([o]))),o=[]),p},M.SKIP)}),c=u.end.map(function(l){l===!0&&(f.forEach(function(p){p.end(!0)}),c.end(!0))});return u}function Lt(e){return Se(function(){return e.map(function(t){return t()})},e)}function En(e,t,i){var u=i.map(function(o){var f=e(t,o);return f!==M.SKIP&&(t=f),f});return u(t),u}function On(e,t){var i=e.map(function(o){return o[0]}),u=Se(function(){var o=arguments[arguments.length-1];return i.forEach(function(f,c){o.indexOf(f)>-1&&(t=e[c][1](t,f()))}),t},i);return u(t),u}function Pn(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Lt(t).map(function(i){return e.apply(void 0,i)})}function yt(e){return e.state==="pending"||e.state==="active"||e.state==="changing"}const An=e=>({maxHeight:"100dvh",overflow:"hidden",marginLeft:e.settings.profile=="desktop"?"300px":"0"}),In=e=>{const t={sidebar:{open:!1},setCat:M(null),toggleSideBar:i=>i.sidebar.open=!i.sidebar.open};return ie(e),{view:()=>g("page.w3-theme",g(Cn,{mdl:e}),g(pn,{mdl:e,state:t}),g("section.#main",{style:An(e)},g(hn,{mdl:e,state:t}),g(Sn,{mdl:e,state:t})))}},xn=document.body;let Mt=window.innerWidth;"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./service-worker.js").then(e=>{console.log("\u2699\uFE0F SW registered: ",e)}).catch(e=>{console.log("\u{1F9DF} SW registration failed: ",e)})});const Rt=e=>e<=411?"phone":e<=990?"tablet":"desktop",zt=e=>{const t=window.innerWidth;if(e!==t){e=t;var i=me.settings.profile;me.settings.profile=Rt(t),i!=me.settings.profile&&g.redraw()}return requestAnimationFrame(zt)};me.settings.profile=Rt(Mt);zt(Mt);g.mount(xn,In(me));
